// File: /data/jenkins/jenkins_hk4e/workspace/hk4e_3.4_dev/gameserver/src/handler/player_home_handler.cpp

// Line 47: range 0000000017C934DC-0000000017C987DD
int32_t __cdecl PlayerHomeHandler::addPacketFuncToMap(
        PlayerHomeHandler *const this,
        PacketFuncMap *process_packet_func_map)
{
  PlayerHomeHandler **v2; // r8
  const std::_Placeholder<1> *v3; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v5; // rax
  PlayerHomeHandler **v6; // r8
  const std::_Placeholder<1> *v7; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v8; // rax
  PlayerHomeHandler **v9; // r8
  const std::_Placeholder<1> *v10; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v11; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v12; // rax
  PlayerHomeHandler **v13; // r8
  const std::_Placeholder<1> *v14; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v15; // rax
  PlayerHomeHandler **v16; // r8
  const std::_Placeholder<1> *v17; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v18; // rax
  PlayerHomeHandler **v19; // r8
  const std::_Placeholder<1> *v20; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v21; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v22; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v23; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v24; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v25; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v26; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v27; // rax
  PlayerHomeHandler **v28; // r8
  const std::_Placeholder<1> *v29; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v30; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v31; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v32; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v33; // rax
  PlayerHomeHandler **v34; // r8
  const std::_Placeholder<1> *v35; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v36; // rax
  PlayerHomeHandler **v37; // r8
  const std::_Placeholder<1> *v38; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v39; // rax
  PlayerHomeHandler **v40; // r8
  const std::_Placeholder<1> *v41; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v42; // rax
  PlayerHomeHandler **v43; // r8
  const std::_Placeholder<1> *v44; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v45; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v46; // rax
  PlayerHomeHandler **v47; // r8
  const std::_Placeholder<1> *v48; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v49; // rax
  PlayerHomeHandler **v50; // r8
  const std::_Placeholder<1> *v51; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v52; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v53; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v54; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v55; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v56; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v57; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v58; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v59; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v60; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v61; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v62; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v63; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v64; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v65; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v66; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v67; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v68; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v69; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v70; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v71; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v72; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v73; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v74; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v75; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v76; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v77; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v78; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v79; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v80; // rax
  PlayerHomeHandler **v81; // r8
  const std::_Placeholder<1> *v82; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v83; // rax
  PlayerHomeHandler **v84; // r8
  const std::_Placeholder<1> *v85; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v86; // rax
  PlayerHomeHandler **v87; // r8
  const std::_Placeholder<1> *v88; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v89; // rax
  PlayerHomeHandler **v90; // r8
  const std::_Placeholder<1> *v91; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v92; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v93; // rax
  PlayerHomeHandler **v94; // r8
  const std::_Placeholder<1> *v95; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v96; // rax
  PlayerHomeHandler **v97; // r8
  const std::_Placeholder<1> *v98; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v99; // rax
  PlayerHomeHandler **v100; // r8
  const std::_Placeholder<1> *v101; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v102; // rax
  PlayerHomeHandler **v103; // r8
  const std::_Placeholder<1> *v104; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v105; // rax
  PlayerHomeHandler **v106; // r8
  const std::_Placeholder<1> *v107; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v108; // rax
  PlayerHomeHandler **v109; // r8
  const std::_Placeholder<1> *v110; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v111; // rax
  PlayerHomeHandler **v112; // r8
  const std::_Placeholder<1> *v113; // r9
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v114; // rax
  std::function<int(std::shared_ptr<common::minet::Packet>)> *v115; // rax
  __m128i v116; // [rsp+0h] [rbp-210h] BYREF
  __m128i v117; // [rsp+10h] [rbp-200h] BYREF
  __m128i v118; // [rsp+20h] [rbp-1F0h] BYREF
  __m128i v119; // [rsp+30h] [rbp-1E0h] BYREF
  __m128i v120; // [rsp+40h] [rbp-1D0h] BYREF
  __m128i v121; // [rsp+50h] [rbp-1C0h] BYREF
  __m128i v122; // [rsp+60h] [rbp-1B0h] BYREF
  __m128i v123; // [rsp+70h] [rbp-1A0h] BYREF
  __m128i v124; // [rsp+80h] [rbp-190h] BYREF
  __m128i v125; // [rsp+90h] [rbp-180h] BYREF
  __m128i v126; // [rsp+A0h] [rbp-170h] BYREF
  __m128i v127; // [rsp+B0h] [rbp-160h] BYREF
  __m128i v128; // [rsp+C0h] [rbp-150h] BYREF
  __m128i v129; // [rsp+D0h] [rbp-140h] BYREF
  __m128i v130; // [rsp+E0h] [rbp-130h] BYREF
  __m128i v131; // [rsp+F0h] [rbp-120h] BYREF
  __m128i v132; // [rsp+100h] [rbp-110h] BYREF
  __m128i v133; // [rsp+110h] [rbp-100h] BYREF
  __m128i v134; // [rsp+120h] [rbp-F0h] BYREF
  __m128i v135; // [rsp+130h] [rbp-E0h] BYREF
  __m128i v136; // [rsp+140h] [rbp-D0h] BYREF
  __m128i v137; // [rsp+150h] [rbp-C0h] BYREF
  PacketFuncMap *process_packet_func_mapa; // [rsp+160h] [rbp-B0h]
  PlayerHomeHandler *thisa; // [rsp+168h] [rbp-A8h]
  std::map<unsigned int,std::function<int(std::shared_ptr<common::minet::Packet>)>>::key_type __x; // [rsp+17Ch] [rbp-94h] BYREF
  std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Self v141; // [rsp+180h] [rbp-90h] BYREF
  std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Self __y; // [rsp+188h] [rbp-88h] BYREF
  int (*__f[2])(PlayerHomeHandler *, std::shared_ptr<common::minet::Packet>); // [rsp+190h] [rbp-80h] BYREF
  std::_Bind_helper<false,int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,const std::_Placeholder<1>&>::type v144; // [rsp+1A0h] [rbp-70h] BYREF
  common::milog::MiLogStream v145; // [rsp+1C0h] [rbp-50h] BYREF

  thisa = this;
  process_packet_func_mapa = process_packet_func_map;
  __x = 4482;
  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                  process_packet_func_map,
                  &__x)._M_node;
  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_map)._M_node;
  if ( std::operator!=(&v141, &__y) )
  {
    common::milog::MiLogStream::create(
      &v145,
      &common::milog::MiLogDefault::default_log_obj_,
      4u,
      "./src/handler/player_home_handler.cpp",
      "addPacketFuncToMap",
      48);
    common::milog::MiLogStream::operator()(&v145, off_26383160, 4482LL);
    common::milog::MiLogStream::~MiLogStream(&v145);
    return -1;
  }
  else
  {
    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
    __f[0] = (int (*)(PlayerHomeHandler *, std::shared_ptr<common::minet::Packet>))PlayerHomeHandler::onTryEnterHomeReq;
    __f[1] = 0LL;
    std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
      &v144,
      __f,
      (PlayerHomeHandler **)&__y,
      (const std::_Placeholder<1> *)&std::placeholders::_1,
      v2,
      v3);
    __x = 4482;
    v5 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
           process_packet_func_mapa,
           &__x);
    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
      v5,
      &v144);
    __x = 12073;
    __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                    process_packet_func_mapa,
                    &__x)._M_node;
    v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
    if ( std::operator!=(&v141, &__y) )
    {
      common::milog::MiLogStream::create(
        &v145,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "addPacketFuncToMap",
        49);
      common::milog::MiLogStream::operator()(&v145, off_26383160, 12073LL);
      common::milog::MiLogStream::~MiLogStream(&v145);
      return -1;
    }
    else
    {
      __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
      __f[0] = (int (*)(PlayerHomeHandler *, std::shared_ptr<common::minet::Packet>))PlayerHomeHandler::onServerGetFriendEnterHomeOptionRsp;
      __f[1] = 0LL;
      std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
        &v144,
        __f,
        (PlayerHomeHandler **)&__y,
        (const std::_Placeholder<1> *)&std::placeholders::_1,
        v6,
        v7);
      __x = 12073;
      v8 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
             process_packet_func_mapa,
             &__x);
      std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
        v8,
        &v144);
      __x = 4533;
      __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                      process_packet_func_mapa,
                      &__x)._M_node;
      v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
      if ( std::operator!=(&v141, &__y) )
      {
        common::milog::MiLogStream::create(
          &v145,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "addPacketFuncToMap",
          50);
        common::milog::MiLogStream::operator()(&v145, off_26383160, 4533LL);
        common::milog::MiLogStream::~MiLogStream(&v145);
        return -1;
      }
      else
      {
        __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
        v116.m128i_i64[0] = (__int64)PlayerHomeHandler::onPlayerApplyEnterHomeNotify;
        v116.m128i_i64[1] = 0LL;
        *(__m128i *)__f = _mm_load_si128(&v116);
        std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
          &v144,
          __f,
          (PlayerHomeHandler **)&__y,
          (const std::_Placeholder<1> *)&std::placeholders::_1,
          v9,
          v10);
        __x = 4533;
        v11 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                process_packet_func_mapa,
                &__x);
        std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
          v11,
          &v144);
        __x = 4693;
        __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                        process_packet_func_mapa,
                        &__x)._M_node;
        v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
        if ( std::operator!=(&v141, &__y) )
        {
          common::milog::MiLogStream::create(
            &v145,
            &common::milog::MiLogDefault::default_log_obj_,
            4u,
            "./src/handler/player_home_handler.cpp",
            "addPacketFuncToMap",
            51);
          common::milog::MiLogStream::operator()(&v145, off_26383160, 4693LL);
          common::milog::MiLogStream::~MiLogStream(&v145);
          return -1;
        }
        else
        {
          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
          __x = 4693;
          v12 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                  process_packet_func_mapa,
                  &__x);
          std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#1}>(
            v12,
            (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
          __x = 4468;
          __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                          process_packet_func_mapa,
                          &__x)._M_node;
          v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
          if ( std::operator!=(&v141, &__y) )
          {
            common::milog::MiLogStream::create(
              &v145,
              &common::milog::MiLogDefault::default_log_obj_,
              4u,
              "./src/handler/player_home_handler.cpp",
              "addPacketFuncToMap",
              52);
            common::milog::MiLogStream::operator()(&v145, off_26383160, 4468LL);
            common::milog::MiLogStream::~MiLogStream(&v145);
            return -1;
          }
          else
          {
            __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
            v117.m128i_i64[0] = (__int64)PlayerHomeHandler::onPlayerApplyEnterHomeResultNotify;
            v117.m128i_i64[1] = 0LL;
            *(__m128i *)__f = _mm_load_si128(&v117);
            std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
              &v144,
              __f,
              (PlayerHomeHandler **)&__y,
              (const std::_Placeholder<1> *)&std::placeholders::_1,
              v13,
              v14);
            __x = 4468;
            v15 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                    process_packet_func_mapa,
                    &__x);
            std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
              v15,
              &v144);
            __x = 12021;
            __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                            process_packet_func_mapa,
                            &__x)._M_node;
            v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
            if ( std::operator!=(&v141, &__y) )
            {
              common::milog::MiLogStream::create(
                &v145,
                &common::milog::MiLogDefault::default_log_obj_,
                4u,
                "./src/handler/player_home_handler.cpp",
                "addPacketFuncToMap",
                53);
              common::milog::MiLogStream::operator()(&v145, off_26383160, 12021LL);
              common::milog::MiLogStream::~MiLogStream(&v145);
              return -1;
            }
            else
            {
              __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
              v118.m128i_i64[0] = (__int64)PlayerHomeHandler::onServerTryEnterHomeRsp;
              v118.m128i_i64[1] = 0LL;
              *(__m128i *)__f = _mm_load_si128(&v118);
              std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                &v144,
                __f,
                (PlayerHomeHandler **)&__y,
                (const std::_Placeholder<1> *)&std::placeholders::_1,
                v16,
                v17);
              __x = 12021;
              v18 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                      process_packet_func_mapa,
                      &__x);
              std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                v18,
                &v144);
              __x = 4655;
              __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                              process_packet_func_mapa,
                              &__x)._M_node;
              v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
              if ( std::operator!=(&v141, &__y) )
              {
                common::milog::MiLogStream::create(
                  &v145,
                  &common::milog::MiLogDefault::default_log_obj_,
                  4u,
                  "./src/handler/player_home_handler.cpp",
                  "addPacketFuncToMap",
                  55);
                common::milog::MiLogStream::operator()(&v145, off_26383160, 4655LL);
                common::milog::MiLogStream::~MiLogStream(&v145);
                return -1;
              }
              else
              {
                __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                v119.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomeGetBasicInfoReq;
                v119.m128i_i64[1] = 0LL;
                *(__m128i *)__f = _mm_load_si128(&v119);
                std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                  &v144,
                  __f,
                  (PlayerHomeHandler **)&__y,
                  (const std::_Placeholder<1> *)&std::placeholders::_1,
                  v19,
                  v20);
                __x = 4655;
                v21 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                        process_packet_func_mapa,
                        &__x);
                std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                  v21,
                  &v144);
                __x = 4528;
                __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                process_packet_func_mapa,
                                &__x)._M_node;
                v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                if ( std::operator!=(&v141, &__y) )
                {
                  common::milog::MiLogStream::create(
                    &v145,
                    &common::milog::MiLogDefault::default_log_obj_,
                    4u,
                    "./src/handler/player_home_handler.cpp",
                    "addPacketFuncToMap",
                    56);
                  common::milog::MiLogStream::operator()(&v145, off_26383160, 4528LL);
                  common::milog::MiLogStream::~MiLogStream(&v145);
                  return -1;
                }
                else
                {
                  __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                  __x = 4528;
                  v22 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                          process_packet_func_mapa,
                          &__x);
                  std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#2}>(
                    v22,
                    (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                  __x = 4564;
                  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                  process_packet_func_mapa,
                                  &__x)._M_node;
                  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                  if ( std::operator!=(&v141, &__y) )
                  {
                    common::milog::MiLogStream::create(
                      &v145,
                      &common::milog::MiLogDefault::default_log_obj_,
                      4u,
                      "./src/handler/player_home_handler.cpp",
                      "addPacketFuncToMap",
                      57);
                    common::milog::MiLogStream::operator()(&v145, off_26383160, 4564LL);
                    common::milog::MiLogStream::~MiLogStream(&v145);
                    return -1;
                  }
                  else
                  {
                    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                    __x = 4564;
                    v23 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                            process_packet_func_mapa,
                            &__x);
                    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#3}>(
                      v23,
                      (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                    __x = 4809;
                    __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                    process_packet_func_mapa,
                                    &__x)._M_node;
                    v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                    if ( std::operator!=(&v141, &__y) )
                    {
                      common::milog::MiLogStream::create(
                        &v145,
                        &common::milog::MiLogDefault::default_log_obj_,
                        4u,
                        "./src/handler/player_home_handler.cpp",
                        "addPacketFuncToMap",
                        58);
                      common::milog::MiLogStream::operator()(&v145, off_26383160, 4809LL);
                      common::milog::MiLogStream::~MiLogStream(&v145);
                      return -1;
                    }
                    else
                    {
                      __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                      __x = 4809;
                      v24 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                              process_packet_func_mapa,
                              &__x);
                      std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#4}>(
                        v24,
                        (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                      __x = 4848;
                      __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                      process_packet_func_mapa,
                                      &__x)._M_node;
                      v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                      if ( std::operator!=(&v141, &__y) )
                      {
                        common::milog::MiLogStream::create(
                          &v145,
                          &common::milog::MiLogDefault::default_log_obj_,
                          4u,
                          "./src/handler/player_home_handler.cpp",
                          "addPacketFuncToMap",
                          59);
                        common::milog::MiLogStream::operator()(&v145, off_26383160, 4848LL);
                        common::milog::MiLogStream::~MiLogStream(&v145);
                        return -1;
                      }
                      else
                      {
                        __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                        __x = 4848;
                        v25 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                process_packet_func_mapa,
                                &__x);
                        std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#5}>(
                          v25,
                          (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                        __x = 4510;
                        __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                        process_packet_func_mapa,
                                        &__x)._M_node;
                        v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                        if ( std::operator!=(&v141, &__y) )
                        {
                          common::milog::MiLogStream::create(
                            &v145,
                            &common::milog::MiLogDefault::default_log_obj_,
                            4u,
                            "./src/handler/player_home_handler.cpp",
                            "addPacketFuncToMap",
                            60);
                          common::milog::MiLogStream::operator()(&v145, off_26383160, 4510LL);
                          common::milog::MiLogStream::~MiLogStream(&v145);
                          return -1;
                        }
                        else
                        {
                          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                          __x = 4510;
                          v26 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                  process_packet_func_mapa,
                                  &__x);
                          std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#6}>(
                            v26,
                            (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                          __x = 4537;
                          __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                          process_packet_func_mapa,
                                          &__x)._M_node;
                          v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                          if ( std::operator!=(&v141, &__y) )
                          {
                            common::milog::MiLogStream::create(
                              &v145,
                              &common::milog::MiLogDefault::default_log_obj_,
                              4u,
                              "./src/handler/player_home_handler.cpp",
                              "addPacketFuncToMap",
                              61);
                            common::milog::MiLogStream::operator()(&v145, off_26383160, 4537LL);
                            common::milog::MiLogStream::~MiLogStream(&v145);
                            return -1;
                          }
                          else
                          {
                            __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                            __x = 4537;
                            v27 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                    process_packet_func_mapa,
                                    &__x);
                            std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#7}>(
                              v27,
                              (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                            __x = 4597;
                            __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                            process_packet_func_mapa,
                                            &__x)._M_node;
                            v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                            if ( std::operator!=(&v141, &__y) )
                            {
                              common::milog::MiLogStream::create(
                                &v145,
                                &common::milog::MiLogDefault::default_log_obj_,
                                4u,
                                "./src/handler/player_home_handler.cpp",
                                "addPacketFuncToMap",
                                63);
                              common::milog::MiLogStream::operator()(&v145, off_26383160, 4597LL);
                              common::milog::MiLogStream::~MiLogStream(&v145);
                              return -1;
                            }
                            else
                            {
                              __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                              v120.m128i_i64[0] = (__int64)PlayerHomeHandler::onGetPlayerHomeCompInfoReq;
                              v120.m128i_i64[1] = 0LL;
                              *(__m128i *)__f = _mm_load_si128(&v120);
                              std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                                &v144,
                                __f,
                                (PlayerHomeHandler **)&__y,
                                (const std::_Placeholder<1> *)&std::placeholders::_1,
                                v28,
                                v29);
                              __x = 4597;
                              v30 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                      process_packet_func_mapa,
                                      &__x);
                              std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                                v30,
                                &v144);
                              __x = 4494;
                              __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                              process_packet_func_mapa,
                                              &__x)._M_node;
                              v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                              if ( std::operator!=(&v141, &__y) )
                              {
                                common::milog::MiLogStream::create(
                                  &v145,
                                  &common::milog::MiLogDefault::default_log_obj_,
                                  4u,
                                  "./src/handler/player_home_handler.cpp",
                                  "addPacketFuncToMap",
                                  64);
                                common::milog::MiLogStream::operator()(&v145, off_26383160, 4494LL);
                                common::milog::MiLogStream::~MiLogStream(&v145);
                                return -1;
                              }
                              else
                              {
                                __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                __x = 4494;
                                v31 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                        process_packet_func_mapa,
                                        &__x);
                                std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#8}>(
                                  v31,
                                  (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                __x = 4524;
                                __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                process_packet_func_mapa,
                                                &__x)._M_node;
                                v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                if ( std::operator!=(&v141, &__y) )
                                {
                                  common::milog::MiLogStream::create(
                                    &v145,
                                    &common::milog::MiLogDefault::default_log_obj_,
                                    4u,
                                    "./src/handler/player_home_handler.cpp",
                                    "addPacketFuncToMap",
                                    65);
                                  common::milog::MiLogStream::operator()(&v145, off_26383160, 4524LL);
                                  common::milog::MiLogStream::~MiLogStream(&v145);
                                  return -1;
                                }
                                else
                                {
                                  __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                  __x = 4524;
                                  v32 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                          process_packet_func_mapa,
                                          &__x);
                                  std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#9}>(
                                    v32,
                                    (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                  __x = 4499;
                                  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                  process_packet_func_mapa,
                                                  &__x)._M_node;
                                  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                  if ( std::operator!=(&v141, &__y) )
                                  {
                                    common::milog::MiLogStream::create(
                                      &v145,
                                      &common::milog::MiLogDefault::default_log_obj_,
                                      4u,
                                      "./src/handler/player_home_handler.cpp",
                                      "addPacketFuncToMap",
                                      66);
                                    common::milog::MiLogStream::operator()(&v145, off_26383160, 4499LL);
                                    common::milog::MiLogStream::~MiLogStream(&v145);
                                    return -1;
                                  }
                                  else
                                  {
                                    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                    __x = 4499;
                                    v33 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                            process_packet_func_mapa,
                                            &__x);
                                    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#10}>(
                                      v33,
                                      (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                    __x = 4820;
                                    __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                    process_packet_func_mapa,
                                                    &__x)._M_node;
                                    v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                    if ( std::operator!=(&v141, &__y) )
                                    {
                                      common::milog::MiLogStream::create(
                                        &v145,
                                        &common::milog::MiLogDefault::default_log_obj_,
                                        4u,
                                        "./src/handler/player_home_handler.cpp",
                                        "addPacketFuncToMap",
                                        67);
                                      common::milog::MiLogStream::operator()(&v145, off_26383160, 4820LL);
                                      common::milog::MiLogStream::~MiLogStream(&v145);
                                      return -1;
                                    }
                                    else
                                    {
                                      __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                      v121.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomeGetOnlineStatusReq;
                                      v121.m128i_i64[1] = 0LL;
                                      *(__m128i *)__f = _mm_load_si128(&v121);
                                      std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                                        &v144,
                                        __f,
                                        (PlayerHomeHandler **)&__y,
                                        (const std::_Placeholder<1> *)&std::placeholders::_1,
                                        v34,
                                        v35);
                                      __x = 4820;
                                      v36 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                              process_packet_func_mapa,
                                              &__x);
                                      std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                                        v36,
                                        &v144);
                                      __x = 12039;
                                      __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                      process_packet_func_mapa,
                                                      &__x)._M_node;
                                      v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                      if ( std::operator!=(&v141, &__y) )
                                      {
                                        common::milog::MiLogStream::create(
                                          &v145,
                                          &common::milog::MiLogDefault::default_log_obj_,
                                          4u,
                                          "./src/handler/player_home_handler.cpp",
                                          "addPacketFuncToMap",
                                          68);
                                        common::milog::MiLogStream::operator()(&v145, off_26383160, 12039LL);
                                        common::milog::MiLogStream::~MiLogStream(&v145);
                                        return -1;
                                      }
                                      else
                                      {
                                        __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                        v122.m128i_i64[0] = (__int64)PlayerHomeHandler::onServerHomeGetOnlineStatusRsp;
                                        v122.m128i_i64[1] = 0LL;
                                        *(__m128i *)__f = _mm_load_si128(&v122);
                                        std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                                          &v144,
                                          __f,
                                          (PlayerHomeHandler **)&__y,
                                          (const std::_Placeholder<1> *)&std::placeholders::_1,
                                          v37,
                                          v38);
                                        __x = 12039;
                                        v39 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                process_packet_func_mapa,
                                                &__x);
                                        std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                                          v39,
                                          &v144);
                                        __x = 4870;
                                        __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                        process_packet_func_mapa,
                                                        &__x)._M_node;
                                        v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                        if ( std::operator!=(&v141, &__y) )
                                        {
                                          common::milog::MiLogStream::create(
                                            &v145,
                                            &common::milog::MiLogDefault::default_log_obj_,
                                            4u,
                                            "./src/handler/player_home_handler.cpp",
                                            "addPacketFuncToMap",
                                            69);
                                          common::milog::MiLogStream::operator()(&v145, off_26383160, 4870LL);
                                          common::milog::MiLogStream::~MiLogStream(&v145);
                                          return -1;
                                        }
                                        else
                                        {
                                          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                          v123.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomeKickPlayerReq;
                                          v123.m128i_i64[1] = 0LL;
                                          *(__m128i *)__f = _mm_load_si128(&v123);
                                          std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                                            &v144,
                                            __f,
                                            (PlayerHomeHandler **)&__y,
                                            (const std::_Placeholder<1> *)&std::placeholders::_1,
                                            v40,
                                            v41);
                                          __x = 4870;
                                          v42 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                  process_packet_func_mapa,
                                                  &__x);
                                          std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                                            v42,
                                            &v144);
                                          __x = 12022;
                                          __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                          process_packet_func_mapa,
                                                          &__x)._M_node;
                                          v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                          if ( std::operator!=(&v141, &__y) )
                                          {
                                            common::milog::MiLogStream::create(
                                              &v145,
                                              &common::milog::MiLogDefault::default_log_obj_,
                                              4u,
                                              "./src/handler/player_home_handler.cpp",
                                              "addPacketFuncToMap",
                                              70);
                                            common::milog::MiLogStream::operator()(&v145, off_26383160, 12022LL);
                                            common::milog::MiLogStream::~MiLogStream(&v145);
                                            return -1;
                                          }
                                          else
                                          {
                                            __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                            v124.m128i_i64[0] = (__int64)PlayerHomeHandler::onServerHomeKickPlayerRsp;
                                            v124.m128i_i64[1] = 0LL;
                                            *(__m128i *)__f = _mm_load_si128(&v124);
                                            std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                                              &v144,
                                              __f,
                                              (PlayerHomeHandler **)&__y,
                                              (const std::_Placeholder<1> *)&std::placeholders::_1,
                                              v43,
                                              v44);
                                            __x = 12022;
                                            v45 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                    process_packet_func_mapa,
                                                    &__x);
                                            std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                                              v45,
                                              &v144);
                                            __x = 4557;
                                            __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                            process_packet_func_mapa,
                                                            &__x)._M_node;
                                            v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                            if ( std::operator!=(&v141, &__y) )
                                            {
                                              common::milog::MiLogStream::create(
                                                &v145,
                                                &common::milog::MiLogDefault::default_log_obj_,
                                                4u,
                                                "./src/handler/player_home_handler.cpp",
                                                "addPacketFuncToMap",
                                                71);
                                              common::milog::MiLogStream::operator()(&v145, off_26383160, 4557LL);
                                              common::milog::MiLogStream::~MiLogStream(&v145);
                                              return -1;
                                            }
                                            else
                                            {
                                              __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                              __x = 4557;
                                              v46 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                      process_packet_func_mapa,
                                                      &__x);
                                              std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#11}>(
                                                v46,
                                                (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                              __x = 4711;
                                              __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                              process_packet_func_mapa,
                                                              &__x)._M_node;
                                              v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                              if ( std::operator!=(&v141, &__y) )
                                              {
                                                common::milog::MiLogStream::create(
                                                  &v145,
                                                  &common::milog::MiLogDefault::default_log_obj_,
                                                  4u,
                                                  "./src/handler/player_home_handler.cpp",
                                                  "addPacketFuncToMap",
                                                  72);
                                                common::milog::MiLogStream::operator()(&v145, off_26383160, 4711LL);
                                                common::milog::MiLogStream::~MiLogStream(&v145);
                                                return -1;
                                              }
                                              else
                                              {
                                                __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                v125.m128i_i64[0] = (__int64)PlayerHomeHandler::onGetFurnitureCurModuleArrangeCountReq;
                                                v125.m128i_i64[1] = 0LL;
                                                *(__m128i *)__f = _mm_load_si128(&v125);
                                                std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                                                  &v144,
                                                  __f,
                                                  (PlayerHomeHandler **)&__y,
                                                  (const std::_Placeholder<1> *)&std::placeholders::_1,
                                                  v47,
                                                  v48);
                                                __x = 4711;
                                                v49 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                        process_packet_func_mapa,
                                                        &__x);
                                                std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                                                  v49,
                                                  &v144);
                                                __x = 4628;
                                                __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                process_packet_func_mapa,
                                                                &__x)._M_node;
                                                v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                if ( std::operator!=(&v141, &__y) )
                                                {
                                                  common::milog::MiLogStream::create(
                                                    &v145,
                                                    &common::milog::MiLogDefault::default_log_obj_,
                                                    4u,
                                                    "./src/handler/player_home_handler.cpp",
                                                    "addPacketFuncToMap",
                                                    73);
                                                  common::milog::MiLogStream::operator()(&v145, off_26383160, 4628LL);
                                                  common::milog::MiLogStream::~MiLogStream(&v145);
                                                  return -1;
                                                }
                                                else
                                                {
                                                  __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                  v126.m128i_i64[0] = (__int64)PlayerHomeHandler::onOtherPlayerEnterHomeNotify;
                                                  v126.m128i_i64[1] = 0LL;
                                                  *(__m128i *)__f = _mm_load_si128(&v126);
                                                  std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(
                                                    &v144,
                                                    __f,
                                                    (PlayerHomeHandler **)&__y,
                                                    (const std::_Placeholder<1> *)&std::placeholders::_1,
                                                    v50,
                                                    v51);
                                                  __x = 4628;
                                                  v52 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                          process_packet_func_mapa,
                                                          &__x);
                                                  std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(
                                                    v52,
                                                    &v144);
                                                  __x = 4477;
                                                  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                  process_packet_func_mapa,
                                                                  &__x)._M_node;
                                                  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                  if ( std::operator!=(&v141, &__y) )
                                                  {
                                                    common::milog::MiLogStream::create(
                                                      &v145,
                                                      &common::milog::MiLogDefault::default_log_obj_,
                                                      4u,
                                                      "./src/handler/player_home_handler.cpp",
                                                      "addPacketFuncToMap",
                                                      75);
                                                    common::milog::MiLogStream::operator()(&v145, off_26383160, 4477LL);
                                                    common::milog::MiLogStream::~MiLogStream(&v145);
                                                    return -1;
                                                  }
                                                  else
                                                  {
                                                    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                    __x = 4477;
                                                    v53 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                            process_packet_func_mapa,
                                                            &__x);
                                                    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#12}>(
                                                      v53,
                                                      (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                    __x = 4772;
                                                    __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                    process_packet_func_mapa,
                                                                    &__x)._M_node;
                                                    v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                    if ( std::operator!=(&v141, &__y) )
                                                    {
                                                      common::milog::MiLogStream::create(
                                                        &v145,
                                                        &common::milog::MiLogDefault::default_log_obj_,
                                                        4u,
                                                        "./src/handler/player_home_handler.cpp",
                                                        "addPacketFuncToMap",
                                                        76);
                                                      common::milog::MiLogStream::operator()(
                                                        &v145,
                                                        off_26383160,
                                                        4772LL);
                                                      common::milog::MiLogStream::~MiLogStream(&v145);
                                                      return -1;
                                                    }
                                                    else
                                                    {
                                                      __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                      __x = 4772;
                                                      v54 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                              process_packet_func_mapa,
                                                              &__x);
                                                      std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#13}>(
                                                        v54,
                                                        (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                      __x = 4555;
                                                      __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                      process_packet_func_mapa,
                                                                      &__x)._M_node;
                                                      v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                      if ( std::operator!=(&v141, &__y) )
                                                      {
                                                        common::milog::MiLogStream::create(
                                                          &v145,
                                                          &common::milog::MiLogDefault::default_log_obj_,
                                                          4u,
                                                          "./src/handler/player_home_handler.cpp",
                                                          "addPacketFuncToMap",
                                                          77);
                                                        common::milog::MiLogStream::operator()(
                                                          &v145,
                                                          off_26383160,
                                                          4555LL);
                                                        common::milog::MiLogStream::~MiLogStream(&v145);
                                                        return -1;
                                                      }
                                                      else
                                                      {
                                                        __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                        __x = 4555;
                                                        v55 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                process_packet_func_mapa,
                                                                &__x);
                                                        std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#14}>(
                                                          v55,
                                                          (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                        __x = 4633;
                                                        __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                        process_packet_func_mapa,
                                                                        &__x)._M_node;
                                                        v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                        if ( std::operator!=(&v141, &__y) )
                                                        {
                                                          common::milog::MiLogStream::create(
                                                            &v145,
                                                            &common::milog::MiLogDefault::default_log_obj_,
                                                            4u,
                                                            "./src/handler/player_home_handler.cpp",
                                                            "addPacketFuncToMap",
                                                            78);
                                                          common::milog::MiLogStream::operator()(
                                                            &v145,
                                                            off_26383160,
                                                            4633LL);
                                                          common::milog::MiLogStream::~MiLogStream(&v145);
                                                          return -1;
                                                        }
                                                        else
                                                        {
                                                          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                          __x = 4633;
                                                          v56 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                  process_packet_func_mapa,
                                                                  &__x);
                                                          std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#15}>(
                                                            v56,
                                                            (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                          __x = 4865;
                                                          __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                          process_packet_func_mapa,
                                                                          &__x)._M_node;
                                                          v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                          if ( std::operator!=(&v141, &__y) )
                                                          {
                                                            common::milog::MiLogStream::create(
                                                              &v145,
                                                              &common::milog::MiLogDefault::default_log_obj_,
                                                              4u,
                                                              "./src/handler/player_home_handler.cpp",
                                                              "addPacketFuncToMap",
                                                              79);
                                                            common::milog::MiLogStream::operator()(
                                                              &v145,
                                                              off_26383160,
                                                              4865LL);
                                                            common::milog::MiLogStream::~MiLogStream(&v145);
                                                            return -1;
                                                          }
                                                          else
                                                          {
                                                            __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                            __x = 4865;
                                                            v57 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                    process_packet_func_mapa,
                                                                    &__x);
                                                            std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#16}>(
                                                              v57,
                                                              (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                            __x = 4552;
                                                            __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                            process_packet_func_mapa,
                                                                            &__x)._M_node;
                                                            v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                            if ( std::operator!=(&v141, &__y) )
                                                            {
                                                              common::milog::MiLogStream::create(
                                                                &v145,
                                                                &common::milog::MiLogDefault::default_log_obj_,
                                                                4u,
                                                                "./src/handler/player_home_handler.cpp",
                                                                "addPacketFuncToMap",
                                                                81);
                                                              common::milog::MiLogStream::operator()(
                                                                &v145,
                                                                off_26383160,
                                                                4552LL);
                                                              common::milog::MiLogStream::~MiLogStream(&v145);
                                                              return -1;
                                                            }
                                                            else
                                                            {
                                                              __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                              __x = 4552;
                                                              v58 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                      process_packet_func_mapa,
                                                                      &__x);
                                                              std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#17}>(
                                                                v58,
                                                                (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                              __x = 4760;
                                                              __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                              process_packet_func_mapa,
                                                                              &__x)._M_node;
                                                              v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                              if ( std::operator!=(&v141, &__y) )
                                                              {
                                                                common::milog::MiLogStream::create(
                                                                  &v145,
                                                                  &common::milog::MiLogDefault::default_log_obj_,
                                                                  4u,
                                                                  "./src/handler/player_home_handler.cpp",
                                                                  "addPacketFuncToMap",
                                                                  82);
                                                                common::milog::MiLogStream::operator()(
                                                                  &v145,
                                                                  off_26383160,
                                                                  4760LL);
                                                                common::milog::MiLogStream::~MiLogStream(&v145);
                                                                return -1;
                                                              }
                                                              else
                                                              {
                                                                __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                __x = 4760;
                                                                v59 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                        process_packet_func_mapa,
                                                                        &__x);
                                                                std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#18}>(
                                                                  v59,
                                                                  (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                __x = 4479;
                                                                __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                process_packet_func_mapa,
                                                                                &__x)._M_node;
                                                                v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                if ( std::operator!=(&v141, &__y) )
                                                                {
                                                                  common::milog::MiLogStream::create(
                                                                    &v145,
                                                                    &common::milog::MiLogDefault::default_log_obj_,
                                                                    4u,
                                                                    "./src/handler/player_home_handler.cpp",
                                                                    "addPacketFuncToMap",
                                                                    84);
                                                                  common::milog::MiLogStream::operator()(
                                                                    &v145,
                                                                    off_26383160,
                                                                    4479LL);
                                                                  common::milog::MiLogStream::~MiLogStream(&v145);
                                                                  return -1;
                                                                }
                                                                else
                                                                {
                                                                  __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                  __x = 4479;
                                                                  v60 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                          process_packet_func_mapa,
                                                                          &__x);
                                                                  std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#19}>(
                                                                    v60,
                                                                    (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                  __x = 4768;
                                                                  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                  process_packet_func_mapa,
                                                                                  &__x)._M_node;
                                                                  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                  if ( std::operator!=(&v141, &__y) )
                                                                  {
                                                                    common::milog::MiLogStream::create(
                                                                      &v145,
                                                                      &common::milog::MiLogDefault::default_log_obj_,
                                                                      4u,
                                                                      "./src/handler/player_home_handler.cpp",
                                                                      "addPacketFuncToMap",
                                                                      85);
                                                                    common::milog::MiLogStream::operator()(
                                                                      &v145,
                                                                      off_26383160,
                                                                      4768LL);
                                                                    common::milog::MiLogStream::~MiLogStream(&v145);
                                                                    return -1;
                                                                  }
                                                                  else
                                                                  {
                                                                    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                    __x = 4768;
                                                                    v61 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                            process_packet_func_mapa,
                                                                            &__x);
                                                                    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#20}>(
                                                                      v61,
                                                                      (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                    __x = 4688;
                                                                    __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                    process_packet_func_mapa,
                                                                                    &__x)._M_node;
                                                                    v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                    if ( std::operator!=(&v141, &__y) )
                                                                    {
                                                                      common::milog::MiLogStream::create(
                                                                        &v145,
                                                                        &common::milog::MiLogDefault::default_log_obj_,
                                                                        4u,
                                                                        "./src/handler/player_home_handler.cpp",
                                                                        "addPacketFuncToMap",
                                                                        87);
                                                                      common::milog::MiLogStream::operator()(
                                                                        &v145,
                                                                        off_26383160,
                                                                        4688LL);
                                                                      common::milog::MiLogStream::~MiLogStream(&v145);
                                                                      return -1;
                                                                    }
                                                                    else
                                                                    {
                                                                      __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                      __x = 4688;
                                                                      v62 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                              process_packet_func_mapa,
                                                                              &__x);
                                                                      std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#21}>(
                                                                        v62,
                                                                        (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                      __x = 4551;
                                                                      __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                      process_packet_func_mapa,
                                                                                      &__x)._M_node;
                                                                      v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                      if ( std::operator!=(&v141, &__y) )
                                                                      {
                                                                        common::milog::MiLogStream::create(
                                                                          &v145,
                                                                          &common::milog::MiLogDefault::default_log_obj_,
                                                                          4u,
                                                                          "./src/handler/player_home_handler.cpp",
                                                                          "addPacketFuncToMap",
                                                                          88);
                                                                        common::milog::MiLogStream::operator()(
                                                                          &v145,
                                                                          off_26383160,
                                                                          4551LL);
                                                                        common::milog::MiLogStream::~MiLogStream(&v145);
                                                                        return -1;
                                                                      }
                                                                      else
                                                                      {
                                                                        __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                        __x = 4551;
                                                                        v63 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                process_packet_func_mapa,
                                                                                &__x);
                                                                        std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#22}>(
                                                                          v63,
                                                                          (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                        __x = 4806;
                                                                        __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                        process_packet_func_mapa,
                                                                                        &__x)._M_node;
                                                                        v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                        if ( std::operator!=(&v141, &__y) )
                                                                        {
                                                                          common::milog::MiLogStream::create(
                                                                            &v145,
                                                                            &common::milog::MiLogDefault::default_log_obj_,
                                                                            4u,
                                                                            "./src/handler/player_home_handler.cpp",
                                                                            "addPacketFuncToMap",
                                                                            89);
                                                                          common::milog::MiLogStream::operator()(
                                                                            &v145,
                                                                            off_26383160,
                                                                            4806LL);
                                                                          common::milog::MiLogStream::~MiLogStream(&v145);
                                                                          return -1;
                                                                        }
                                                                        else
                                                                        {
                                                                          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                          __x = 4806;
                                                                          v64 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                  process_packet_func_mapa,
                                                                                  &__x);
                                                                          std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#23}>(
                                                                            v64,
                                                                            (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                          __x = 4629;
                                                                          __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                          process_packet_func_mapa,
                                                                                          &__x)._M_node;
                                                                          v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                          if ( std::operator!=(&v141, &__y) )
                                                                          {
                                                                            common::milog::MiLogStream::create(
                                                                              &v145,
                                                                              &common::milog::MiLogDefault::default_log_obj_,
                                                                              4u,
                                                                              "./src/handler/player_home_handler.cpp",
                                                                              "addPacketFuncToMap",
                                                                              90);
                                                                            common::milog::MiLogStream::operator()(
                                                                              &v145,
                                                                              off_26383160,
                                                                              4629LL);
                                                                            common::milog::MiLogStream::~MiLogStream(&v145);
                                                                            return -1;
                                                                          }
                                                                          else
                                                                          {
                                                                            __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                            __x = 4629;
                                                                            v65 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                    process_packet_func_mapa,
                                                                                    &__x);
                                                                            std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#24}>(
                                                                              v65,
                                                                              (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                            __x = 4674;
                                                                            __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                            process_packet_func_mapa,
                                                                                            &__x)._M_node;
                                                                            v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                            if ( std::operator!=(&v141, &__y) )
                                                                            {
                                                                              common::milog::MiLogStream::create(
                                                                                &v145,
                                                                                &common::milog::MiLogDefault::default_log_obj_,
                                                                                4u,
                                                                                "./src/handler/player_home_handler.cpp",
                                                                                "addPacketFuncToMap",
                                                                                92);
                                                                              common::milog::MiLogStream::operator()(
                                                                                &v145,
                                                                                off_26383160,
                                                                                4674LL);
                                                                              common::milog::MiLogStream::~MiLogStream(&v145);
                                                                              return -1;
                                                                            }
                                                                            else
                                                                            {
                                                                              __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                              __x = 4674;
                                                                              v66 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                      process_packet_func_mapa,
                                                                                      &__x);
                                                                              std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#25}>(
                                                                                v66,
                                                                                (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                              __x = 4804;
                                                                              __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                              process_packet_func_mapa,
                                                                                              &__x)._M_node;
                                                                              v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                              if ( std::operator!=(&v141, &__y) )
                                                                              {
                                                                                common::milog::MiLogStream::create(
                                                                                  &v145,
                                                                                  &common::milog::MiLogDefault::default_log_obj_,
                                                                                  4u,
                                                                                  "./src/handler/player_home_handler.cpp",
                                                                                  "addPacketFuncToMap",
                                                                                  94);
                                                                                common::milog::MiLogStream::operator()(
                                                                                  &v145,
                                                                                  off_26383160,
                                                                                  4804LL);
                                                                                common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                return -1;
                                                                              }
                                                                              else
                                                                              {
                                                                                __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                __x = 4804;
                                                                                v67 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                        process_packet_func_mapa,
                                                                                        &__x);
                                                                                std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#26}>(
                                                                                  v67,
                                                                                  (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                __x = 4640;
                                                                                __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                                process_packet_func_mapa,
                                                                                                &__x)._M_node;
                                                                                v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                if ( std::operator!=(&v141, &__y) )
                                                                                {
                                                                                  common::milog::MiLogStream::create(
                                                                                    &v145,
                                                                                    &common::milog::MiLogDefault::default_log_obj_,
                                                                                    4u,
                                                                                    "./src/handler/player_home_handler.cpp",
                                                                                    "addPacketFuncToMap",
                                                                                    95);
                                                                                  common::milog::MiLogStream::operator()(
                                                                                    &v145,
                                                                                    off_26383160,
                                                                                    4640LL);
                                                                                  common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                  return -1;
                                                                                }
                                                                                else
                                                                                {
                                                                                  __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                  __x = 4640;
                                                                                  v68 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                          process_packet_func_mapa,
                                                                                          &__x);
                                                                                  std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#27}>(
                                                                                    v68,
                                                                                    (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                  __x = 4647;
                                                                                  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                                  process_packet_func_mapa,
                                                                                                  &__x)._M_node;
                                                                                  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                  if ( std::operator!=(&v141, &__y) )
                                                                                  {
                                                                                    common::milog::MiLogStream::create(
                                                                                      &v145,
                                                                                      &common::milog::MiLogDefault::default_log_obj_,
                                                                                      4u,
                                                                                      "./src/handler/player_home_handler.cpp",
                                                                                      "addPacketFuncToMap",
                                                                                      96);
                                                                                    common::milog::MiLogStream::operator()(
                                                                                      &v145,
                                                                                      off_26383160,
                                                                                      4647LL);
                                                                                    common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                    return -1;
                                                                                  }
                                                                                  else
                                                                                  {
                                                                                    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                    __x = 4647;
                                                                                    v69 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                            process_packet_func_mapa,
                                                                                            &__x);
                                                                                    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#28}>(
                                                                                      v69,
                                                                                      (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                    __x = 4726;
                                                                                    __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(
                                                                                                    process_packet_func_mapa,
                                                                                                    &__x)._M_node;
                                                                                    v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                    if ( std::operator!=(&v141, &__y) )
                                                                                    {
                                                                                      common::milog::MiLogStream::create(
                                                                                        &v145,
                                                                                        &common::milog::MiLogDefault::default_log_obj_,
                                                                                        4u,
                                                                                        "./src/handler/player_home_handler.cpp",
                                                                                        "addPacketFuncToMap",
                                                                                        98);
                                                                                      common::milog::MiLogStream::operator()(
                                                                                        &v145,
                                                                                        off_26383160,
                                                                                        4726LL);
                                                                                      common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                      return -1;
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                      __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                      __x = 4726;
                                                                                      v70 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                              process_packet_func_mapa,
                                                                                              &__x);
                                                                                      std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#29}>(
                                                                                        v70,
                                                                                        (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                      __x = 4476;
                                                                                      __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                      v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                      if ( std::operator!=(&v141, &__y) )
                                                                                      {
                                                                                        common::milog::MiLogStream::create(
                                                                                          &v145,
                                                                                          &common::milog::MiLogDefault::default_log_obj_,
                                                                                          4u,
                                                                                          "./src/handler/player_home_handler.cpp",
                                                                                          "addPacketFuncToMap",
                                                                                          100);
                                                                                        common::milog::MiLogStream::operator()(
                                                                                          &v145,
                                                                                          off_26383160,
                                                                                          4476LL);
                                                                                        common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                        return -1;
                                                                                      }
                                                                                      else
                                                                                      {
                                                                                        __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                        __x = 4476;
                                                                                        v71 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                                process_packet_func_mapa,
                                                                                                &__x);
                                                                                        std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#30}>(
                                                                                          v71,
                                                                                          (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                        __x = 4544;
                                                                                        __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                        v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                        if ( std::operator!=(
                                                                                               &v141,
                                                                                               &__y) )
                                                                                        {
                                                                                          common::milog::MiLogStream::create(
                                                                                            &v145,
                                                                                            &common::milog::MiLogDefault::default_log_obj_,
                                                                                            4u,
                                                                                            "./src/handler/player_home_handler.cpp",
                                                                                            "addPacketFuncToMap",
                                                                                            101);
                                                                                          common::milog::MiLogStream::operator()(
                                                                                            &v145,
                                                                                            off_26383160,
                                                                                            4544LL);
                                                                                          common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                          return -1;
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                          __x = 4544;
                                                                                          v72 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                                  process_packet_func_mapa,
                                                                                                  &__x);
                                                                                          std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#31}>(
                                                                                            v72,
                                                                                            (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                          __x = 4511;
                                                                                          __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                          v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                          if ( std::operator!=(
                                                                                                 &v141,
                                                                                                 &__y) )
                                                                                          {
                                                                                            common::milog::MiLogStream::create(
                                                                                              &v145,
                                                                                              &common::milog::MiLogDefault::default_log_obj_,
                                                                                              4u,
                                                                                              "./src/handler/player_home_handler.cpp",
                                                                                              "addPacketFuncToMap",
                                                                                              102);
                                                                                            common::milog::MiLogStream::operator()(
                                                                                              &v145,
                                                                                              off_26383160,
                                                                                              4511LL);
                                                                                            common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                            return -1;
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                            __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                            __x = 4511;
                                                                                            v73 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](
                                                                                                    process_packet_func_mapa,
                                                                                                    &__x);
                                                                                            std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#32}>(
                                                                                              v73,
                                                                                              (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                            __x = 4724;
                                                                                            __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                            v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                            if ( std::operator!=(
                                                                                                   &v141,
                                                                                                   &__y) )
                                                                                            {
                                                                                              common::milog::MiLogStream::create(
                                                                                                &v145,
                                                                                                &common::milog::MiLogDefault::default_log_obj_,
                                                                                                4u,
                                                                                                "./src/handler/player_home_handler.cpp",
                                                                                                "addPacketFuncToMap",
                                                                                                104);
                                                                                              common::milog::MiLogStream::operator()(
                                                                                                &v145,
                                                                                                off_26383160,
                                                                                                4724LL);
                                                                                              common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                              return -1;
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                              __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                              __x = 4724;
                                                                                              v74 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                              std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#33}>(
                                                                                                v74,
                                                                                                (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                              __x = 4486;
                                                                                              __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                              v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                              if ( std::operator!=(
                                                                                                     &v141,
                                                                                                     &__y) )
                                                                                              {
                                                                                                common::milog::MiLogStream::create(
                                                                                                  &v145,
                                                                                                  &common::milog::MiLogDefault::default_log_obj_,
                                                                                                  4u,
                                                                                                  "./src/handler/player_home_handler.cpp",
                                                                                                  "addPacketFuncToMap",
                                                                                                  106);
                                                                                                common::milog::MiLogStream::operator()(
                                                                                                  &v145,
                                                                                                  off_26383160,
                                                                                                  4486LL);
                                                                                                common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                return -1;
                                                                                              }
                                                                                              else
                                                                                              {
                                                                                                __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                __x = 4486;
                                                                                                v75 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#34}>(
                                                                                                  v75,
                                                                                                  (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                                __x = 4523;
                                                                                                __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                if ( std::operator!=(&v141, &__y) )
                                                                                                {
                                                                                                  common::milog::MiLogStream::create(
                                                                                                    &v145,
                                                                                                    &common::milog::MiLogDefault::default_log_obj_,
                                                                                                    4u,
                                                                                                    "./src/handler/player_home_handler.cpp",
                                                                                                    "addPacketFuncToMap",
                                                                                                    108);
                                                                                                  common::milog::MiLogStream::operator()(
                                                                                                    &v145,
                                                                                                    off_26383160,
                                                                                                    4523LL);
                                                                                                  common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                  return -1;
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                  __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                  __x = 4523;
                                                                                                  v76 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                  std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#35}>(
                                                                                                    v76,
                                                                                                    (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                                  __x = 4759;
                                                                                                  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                  if ( std::operator!=(&v141, &__y) )
                                                                                                  {
                                                                                                    common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 109);
                                                                                                    common::milog::MiLogStream::operator()(&v145, off_26383160, 4759LL);
                                                                                                    common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                    return -1;
                                                                                                  }
                                                                                                  else
                                                                                                  {
                                                                                                    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                    __x = 4759;
                                                                                                    v77 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#36}>(v77, (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                                    __x = 4558;
                                                                                                    __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                    v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                    if ( std::operator!=(&v141, &__y) )
                                                                                                    {
                                                                                                      common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 111);
                                                                                                      common::milog::MiLogStream::operator()(&v145, off_26383160, 4558LL);
                                                                                                      common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                      return -1;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                      __x = 4558;
                                                                                                      v78 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                      std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#37}>(v78, (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                                      __x = 4473;
                                                                                                      __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                      v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                      if ( std::operator!=(&v141, &__y) )
                                                                                                      {
                                                                                                        common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 113);
                                                                                                        common::milog::MiLogStream::operator()(&v145, off_26383160, 4473LL);
                                                                                                        common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                        return -1;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                        __x = 4473;
                                                                                                        v79 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                        std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#38}>(v79, (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                                        __x = 4576;
                                                                                                        __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                        v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                        if ( std::operator!=(&v141, &__y) )
                                                                                                        {
                                                                                                          common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 114);
                                                                                                          common::milog::MiLogStream::operator()(&v145, off_26383160, 4576LL);
                                                                                                          common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                          return -1;
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                          __x = 4576;
                                                                                                          v80 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                          std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#39}>(v80, (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                                          __x = 4584;
                                                                                                          __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                          v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                          if ( std::operator!=(&v141, &__y) )
                                                                                                          {
                                                                                                            common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 117);
                                                                                                            common::milog::MiLogStream::operator()(&v145, off_26383160, 4584LL);
                                                                                                            common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                            return -1;
                                                                                                          }
                                                                                                          else
                                                                                                          {
                                                                                                            __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                            v127.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomeGetBlueprintSlotInfoReq;
                                                                                                            v127.m128i_i64[1] = 0LL;
                                                                                                            *(__m128i *)__f = _mm_load_si128(&v127);
                                                                                                            std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v81, v82);
                                                                                                            __x = 4584;
                                                                                                            v83 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                            std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v83, &v144);
                                                                                                            __x = 12004;
                                                                                                            __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                            v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                            if ( std::operator!=(&v141, &__y) )
                                                                                                            {
                                                                                                              common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 118);
                                                                                                              common::milog::MiLogStream::operator()(&v145, off_26383160, 12004LL);
                                                                                                              common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                              return -1;
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                              __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                              v128.m128i_i64[0] = (__int64)PlayerHomeHandler::onServerHomeGetBlueprintBriefDataRsp;
                                                                                                              v128.m128i_i64[1] = 0LL;
                                                                                                              *(__m128i *)__f = _mm_load_si128(&v128);
                                                                                                              std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v84, v85);
                                                                                                              __x = 12004;
                                                                                                              v86 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                              std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v86, &v144);
                                                                                                              __x = 4798;
                                                                                                              __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                              v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                              if ( std::operator!=(&v141, &__y) )
                                                                                                              {
                                                                                                                common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 119);
                                                                                                                common::milog::MiLogStream::operator()(&v145, off_26383160, 4798LL);
                                                                                                                common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                return -1;
                                                                                                              }
                                                                                                              else
                                                                                                              {
                                                                                                                __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                v129.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomeSetBlueprintSlotOptionReq;
                                                                                                                v129.m128i_i64[1] = 0LL;
                                                                                                                *(__m128i *)__f = _mm_load_si128(&v129);
                                                                                                                std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v87, v88);
                                                                                                                __x = 4798;
                                                                                                                v89 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v89, &v144);
                                                                                                                __x = 12027;
                                                                                                                __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                if ( std::operator!=(&v141, &__y) )
                                                                                                                {
                                                                                                                  common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 120);
                                                                                                                  common::milog::MiLogStream::operator()(&v145, off_26383160, 12027LL);
                                                                                                                  common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                  return -1;
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                  __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                  v130.m128i_i64[0] = (__int64)PlayerHomeHandler::onServerHomeUpdateBlueprintBriefDataRsp;
                                                                                                                  v130.m128i_i64[1] = 0LL;
                                                                                                                  *(__m128i *)__f = _mm_load_si128(&v130);
                                                                                                                  std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v90, v91);
                                                                                                                  __x = 12027;
                                                                                                                  v92 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                  std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v92, &v144);
                                                                                                                  __x = 4554;
                                                                                                                  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                  if ( std::operator!=(&v141, &__y) )
                                                                                                                  {
                                                                                                                    common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 121);
                                                                                                                    common::milog::MiLogStream::operator()(&v145, off_26383160, 4554LL);
                                                                                                                    common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                    return -1;
                                                                                                                  }
                                                                                                                  else
                                                                                                                  {
                                                                                                                    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                    __x = 4554;
                                                                                                                    v93 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#40}>(v93, (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                                                    __x = 4478;
                                                                                                                    __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                    v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                    if ( std::operator!=(&v141, &__y) )
                                                                                                                    {
                                                                                                                      common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 122);
                                                                                                                      common::milog::MiLogStream::operator()(&v145, off_26383160, 4478LL);
                                                                                                                      common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                      return -1;
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                      __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                      v131.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomePreviewBlueprintReq;
                                                                                                                      v131.m128i_i64[1] = 0LL;
                                                                                                                      *(__m128i *)__f = _mm_load_si128(&v131);
                                                                                                                      std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v94, v95);
                                                                                                                      __x = 4478;
                                                                                                                      v96 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                      std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v96, &v144);
                                                                                                                      __x = 12088;
                                                                                                                      __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                      v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                      if ( std::operator!=(&v141, &__y) )
                                                                                                                      {
                                                                                                                        common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 123);
                                                                                                                        common::milog::MiLogStream::operator()(&v145, off_26383160, 12088LL);
                                                                                                                        common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                        return -1;
                                                                                                                      }
                                                                                                                      else
                                                                                                                      {
                                                                                                                        __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                        v132.m128i_i64[0] = (__int64)PlayerHomeHandler::onServerHomeGetBlueprintDetailDataRsp;
                                                                                                                        v132.m128i_i64[1] = 0LL;
                                                                                                                        *(__m128i *)__f = _mm_load_si128(&v132);
                                                                                                                        std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v97, v98);
                                                                                                                        __x = 12088;
                                                                                                                        v99 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                        std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v99, &v144);
                                                                                                                        __x = 4619;
                                                                                                                        __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                        v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                        if ( std::operator!=(&v141, &__y) )
                                                                                                                        {
                                                                                                                          common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 124);
                                                                                                                          common::milog::MiLogStream::operator()(&v145, off_26383160, 4619LL);
                                                                                                                          common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                          return -1;
                                                                                                                        }
                                                                                                                        else
                                                                                                                        {
                                                                                                                          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                          v133.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomeCreateBlueprintReq;
                                                                                                                          v133.m128i_i64[1] = 0LL;
                                                                                                                          *(__m128i *)__f = _mm_load_si128(&v133);
                                                                                                                          std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v100, v101);
                                                                                                                          __x = 4619;
                                                                                                                          v102 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                          std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v102, &v144);
                                                                                                                          __x = 12063;
                                                                                                                          __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                          v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                          if ( std::operator!=(&v141, &__y) )
                                                                                                                          {
                                                                                                                            common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 125);
                                                                                                                            common::milog::MiLogStream::operator()(&v145, off_26383160, 12063LL);
                                                                                                                            common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                            return -1;
                                                                                                                          }
                                                                                                                          else
                                                                                                                          {
                                                                                                                            __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                            v134.m128i_i64[0] = (__int64)PlayerHomeHandler::onServerHomeSaveBlueprintDataRsp;
                                                                                                                            v134.m128i_i64[1] = 0LL;
                                                                                                                            *(__m128i *)__f = _mm_load_si128(&v134);
                                                                                                                            std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v103, v104);
                                                                                                                            __x = 12063;
                                                                                                                            v105 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                            std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v105, &v144);
                                                                                                                            __x = 4502;
                                                                                                                            __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                            v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                            if ( std::operator!=(&v141, &__y) )
                                                                                                                            {
                                                                                                                              common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 126);
                                                                                                                              common::milog::MiLogStream::operator()(&v145, off_26383160, 4502LL);
                                                                                                                              common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                              return -1;
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                              __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                              v135.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomeDeleteBlueprintReq;
                                                                                                                              v135.m128i_i64[1] = 0LL;
                                                                                                                              *(__m128i *)__f = _mm_load_si128(&v135);
                                                                                                                              std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v106, v107);
                                                                                                                              __x = 4502;
                                                                                                                              v108 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                              std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v108, &v144);
                                                                                                                              __x = 12006;
                                                                                                                              __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                              v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                              if ( std::operator!=(&v141, &__y) )
                                                                                                                              {
                                                                                                                                common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 127);
                                                                                                                                common::milog::MiLogStream::operator()(&v145, off_26383160, 12006LL);
                                                                                                                                common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                                return -1;
                                                                                                                              }
                                                                                                                              else
                                                                                                                              {
                                                                                                                                __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                                v136.m128i_i64[0] = (__int64)PlayerHomeHandler::onServerHomeDeleteBlueprintDataRsp;
                                                                                                                                v136.m128i_i64[1] = 0LL;
                                                                                                                                *(__m128i *)__f = _mm_load_si128(&v136);
                                                                                                                                std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v109, v110);
                                                                                                                                __x = 12006;
                                                                                                                                v111 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                                std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v111, &v144);
                                                                                                                                __x = 4889;
                                                                                                                                __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                                v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                                if ( std::operator!=(&v141, &__y) )
                                                                                                                                {
                                                                                                                                  common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 128);
                                                                                                                                  common::milog::MiLogStream::operator()(&v145, off_26383160, 4889LL);
                                                                                                                                  common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                                  return -1;
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                  __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                                  v137.m128i_i64[0] = (__int64)PlayerHomeHandler::onHomeSearchBlueprintReq;
                                                                                                                                  v137.m128i_i64[1] = 0LL;
                                                                                                                                  *(__m128i *)__f = _mm_load_si128(&v137);
                                                                                                                                  std::bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>),PlayerHomeHandler*,std::_Placeholder<1> const&>(&v144, __f, (PlayerHomeHandler **)&__y, (const std::_Placeholder<1> *)&std::placeholders::_1, v112, v113);
                                                                                                                                  __x = 4889;
                                                                                                                                  v114 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                                  std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<std::_Bind<int (PlayerHomeHandler::*)(std::shared_ptr<common::minet::Packet>) ()(PlayerHomeHandler*,std::_Placeholder<1>)>>(v114, &v144);
                                                                                                                                  __x = 4704;
                                                                                                                                  __y._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::find(process_packet_func_mapa, &__x)._M_node;
                                                                                                                                  v141._M_node = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::end(process_packet_func_mapa)._M_node;
                                                                                                                                  if ( std::operator!=(&v141, &__y) )
                                                                                                                                  {
                                                                                                                                    common::milog::MiLogStream::create(&v145, &common::milog::MiLogDefault::default_log_obj_, 4u, "./src/handler/player_home_handler.cpp", "addPacketFuncToMap", 131);
                                                                                                                                    common::milog::MiLogStream::operator()(&v145, off_26383160, 4704LL);
                                                                                                                                    common::milog::MiLogStream::~MiLogStream(&v145);
                                                                                                                                    return -1;
                                                                                                                                  }
                                                                                                                                  else
                                                                                                                                  {
                                                                                                                                    __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,std::function<int(std::shared_ptr<common::minet::Packet>)> > >::_Base_ptr)thisa;
                                                                                                                                    __x = 4704;
                                                                                                                                    v115 = std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>>::operator[](process_packet_func_mapa, &__x);
                                                                                                                                    std::function<int ()(std::shared_ptr<common::minet::Packet>)>::operator=<PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#41}>(v115, (PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *)&__y);
                                                                                                                                    return 0;
                                                                                                                                  }
                                                                                                                                }
                                                                                                                              }
                                                                                                                            }
                                                                                                                          }
                                                                                                                        }
                                                                                                                      }
                                                                                                                    }
                                                                                                                  }
                                                                                                                }
                                                                                                              }
                                                                                                            }
                                                                                                          }
                                                                                                        }
                                                                                                      }
                                                                                                    }
                                                                                                  }
                                                                                                }
                                                                                              }
                                                                                            }
                                                                                          }
                                                                                        }
                                                                                      }
                                                                                    }
                                                                                  }
                                                                                }
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};

// Line 51: range 0000000017C8B50E-0000000017C8B82A
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#1}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::PlayerApplyEnterHomeResultReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::PlayerApplyEnterHomeResultRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::PlayerApplyEnterHomeResultRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:51 64 16 10 rsp_ptr:51";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#1}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::PlayerApplyEnterHomeResultReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::PlayerApplyEnterHomeResultReq const>(
         (const std::shared_ptr<const proto::PlayerApplyEnterHomeResultReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      51);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::PlayerApplyEnterHomeResultReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::PlayerApplyEnterHomeResultReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::PlayerApplyEnterHomeResultRsp>();
    rsp_0 = std::__shared_ptr_access<proto::PlayerApplyEnterHomeResultRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::PlayerApplyEnterHomeResultRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::PlayerApplyEnterHomeResultRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::PlayerApplyEnterHomeResultReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::PlayerApplyEnterHomeResultReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onPlayerApplyEnterHomeResultReq(this, v8, rsp_0);
    proto::PlayerApplyEnterHomeResultRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::PlayerApplyEnterHomeResultRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::PlayerApplyEnterHomeResultRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::PlayerApplyEnterHomeResultRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::PlayerApplyEnterHomeResultRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::PlayerApplyEnterHomeResultRsp>::~shared_ptr((std::shared_ptr<proto::PlayerApplyEnterHomeResultRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::PlayerApplyEnterHomeResultReq const>::~shared_ptr((std::shared_ptr<const proto::PlayerApplyEnterHomeResultReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 56: range 0000000017C8B82C-0000000017C8BB48
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#2}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeSceneJumpReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeSceneJumpRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeSceneJumpRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:56 64 16 10 rsp_ptr:56";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#2}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeSceneJumpReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeSceneJumpReq const>(
         (const std::shared_ptr<const proto::HomeSceneJumpReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      56);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeSceneJumpReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSceneJumpReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeSceneJumpRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeSceneJumpRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeSceneJumpRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeSceneJumpRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeSceneJumpReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSceneJumpReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeSceneJumpReq(this, v8, rsp_0);
    proto::HomeSceneJumpRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeSceneJumpRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeSceneJumpRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeSceneJumpRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeSceneJumpRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeSceneJumpRsp>::~shared_ptr((std::shared_ptr<proto::HomeSceneJumpRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeSceneJumpReq const>::~shared_ptr((std::shared_ptr<const proto::HomeSceneJumpReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 57: range 0000000017C8BB4A-0000000017C8BE66
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#3}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeChangeEditModeReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeChangeEditModeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeChangeEditModeRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:57 64 16 10 rsp_ptr:57";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#3}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeChangeEditModeReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeChangeEditModeReq const>(
         (const std::shared_ptr<const proto::HomeChangeEditModeReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      57);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeChangeEditModeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeChangeEditModeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeChangeEditModeRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeChangeEditModeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeChangeEditModeRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeChangeEditModeRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeChangeEditModeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeChangeEditModeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeChangeEditModeReq(this, v8, rsp_0);
    proto::HomeChangeEditModeRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeChangeEditModeRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeChangeEditModeRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeChangeEditModeRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeChangeEditModeRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeChangeEditModeRsp>::~shared_ptr((std::shared_ptr<proto::HomeChangeEditModeRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeChangeEditModeReq const>::~shared_ptr((std::shared_ptr<const proto::HomeChangeEditModeReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 58: range 0000000017C8BE68-0000000017C8C184
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#4}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeChangeModuleReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeChangeModuleRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeChangeModuleRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:58 64 16 10 rsp_ptr:58";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#4}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeChangeModuleReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeChangeModuleReq const>(
         (const std::shared_ptr<const proto::HomeChangeModuleReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      58);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeChangeModuleReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeChangeModuleReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeChangeModuleRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeChangeModuleRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeChangeModuleRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeChangeModuleRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeChangeModuleReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeChangeModuleReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeChangeModuleReq(this, v8, rsp_0);
    proto::HomeChangeModuleRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeChangeModuleRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeChangeModuleRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeChangeModuleRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeChangeModuleRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeChangeModuleRsp>::~shared_ptr((std::shared_ptr<proto::HomeChangeModuleRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeChangeModuleReq const>::~shared_ptr((std::shared_ptr<const proto::HomeChangeModuleReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 59: range 0000000017C8C186-0000000017C8C4A2
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#5}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeGetArrangementInfoReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeGetArrangementInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeGetArrangementInfoRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:59 64 16 10 rsp_ptr:59";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#5}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeGetArrangementInfoReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeGetArrangementInfoReq const>(
         (const std::shared_ptr<const proto::HomeGetArrangementInfoReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      59);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeGetArrangementInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeGetArrangementInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeGetArrangementInfoRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeGetArrangementInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeGetArrangementInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeGetArrangementInfoRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeGetArrangementInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeGetArrangementInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeGetArrangementInfoReq(this, v8, rsp_0);
    proto::HomeGetArrangementInfoRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeGetArrangementInfoRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeGetArrangementInfoRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeGetArrangementInfoRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeGetArrangementInfoRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeGetArrangementInfoRsp>::~shared_ptr((std::shared_ptr<proto::HomeGetArrangementInfoRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeGetArrangementInfoReq const>::~shared_ptr((std::shared_ptr<const proto::HomeGetArrangementInfoReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 60: range 0000000017C8C4A4-0000000017C8C7C0
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#6}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeUpdateArrangementInfoReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeUpdateArrangementInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeUpdateArrangementInfoRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:60 64 16 10 rsp_ptr:60";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#6}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeUpdateArrangementInfoReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeUpdateArrangementInfoReq const>(
         (const std::shared_ptr<const proto::HomeUpdateArrangementInfoReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      60);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeUpdateArrangementInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeUpdateArrangementInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeUpdateArrangementInfoRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeUpdateArrangementInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeUpdateArrangementInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeUpdateArrangementInfoRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeUpdateArrangementInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeUpdateArrangementInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeUpdateArrangementInfoReq(this, v8, rsp_0);
    proto::HomeUpdateArrangementInfoRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeUpdateArrangementInfoRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeUpdateArrangementInfoRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeUpdateArrangementInfoRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeUpdateArrangementInfoRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeUpdateArrangementInfoRsp>::~shared_ptr((std::shared_ptr<proto::HomeUpdateArrangementInfoRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeUpdateArrangementInfoReq const>::~shared_ptr((std::shared_ptr<const proto::HomeUpdateArrangementInfoReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 61: range 0000000017C8C7C2-0000000017C8CADE
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#7}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeEnterEditModeFinishReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeEnterEditModeFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeEnterEditModeFinishRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:61 64 16 10 rsp_ptr:61";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#7}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeEnterEditModeFinishReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeEnterEditModeFinishReq const>(
         (const std::shared_ptr<const proto::HomeEnterEditModeFinishReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      61);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeEnterEditModeFinishReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeEnterEditModeFinishReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeEnterEditModeFinishRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeEnterEditModeFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeEnterEditModeFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeEnterEditModeFinishRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeEnterEditModeFinishReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeEnterEditModeFinishReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeEnterEditModeFinishReq(this, v8, rsp_0);
    proto::HomeEnterEditModeFinishRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeEnterEditModeFinishRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeEnterEditModeFinishRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeEnterEditModeFinishRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeEnterEditModeFinishRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeEnterEditModeFinishRsp>::~shared_ptr((std::shared_ptr<proto::HomeEnterEditModeFinishRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeEnterEditModeFinishReq const>::~shared_ptr((std::shared_ptr<const proto::HomeEnterEditModeFinishReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 64: range 0000000017C8CAE0-0000000017C8CDFC
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#8}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::SetFriendEnterHomeOptionReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::SetFriendEnterHomeOptionRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::SetFriendEnterHomeOptionRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:64 64 16 10 rsp_ptr:64";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#8}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::SetFriendEnterHomeOptionReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::SetFriendEnterHomeOptionReq const>(
         (const std::shared_ptr<const proto::SetFriendEnterHomeOptionReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      64);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::SetFriendEnterHomeOptionReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::SetFriendEnterHomeOptionReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::SetFriendEnterHomeOptionRsp>();
    rsp_0 = std::__shared_ptr_access<proto::SetFriendEnterHomeOptionRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::SetFriendEnterHomeOptionRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::SetFriendEnterHomeOptionRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::SetFriendEnterHomeOptionReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::SetFriendEnterHomeOptionReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onSetFriendEnterHomeOptionReq(this, v8, rsp_0);
    proto::SetFriendEnterHomeOptionRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::SetFriendEnterHomeOptionRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::SetFriendEnterHomeOptionRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::SetFriendEnterHomeOptionRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::SetFriendEnterHomeOptionRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::SetFriendEnterHomeOptionRsp>::~shared_ptr((std::shared_ptr<proto::SetFriendEnterHomeOptionRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::SetFriendEnterHomeOptionReq const>::~shared_ptr((std::shared_ptr<const proto::SetFriendEnterHomeOptionReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 65: range 0000000017C8CDFE-0000000017C8D11A
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#9}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeChooseModuleReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeChooseModuleRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeChooseModuleRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:65 64 16 10 rsp_ptr:65";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#9}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeChooseModuleReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeChooseModuleReq const>(
         (const std::shared_ptr<const proto::HomeChooseModuleReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      65);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeChooseModuleReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeChooseModuleReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeChooseModuleRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeChooseModuleRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeChooseModuleRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeChooseModuleRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeChooseModuleReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeChooseModuleReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeChooseModuleReq(this, v8, rsp_0);
    proto::HomeChooseModuleRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeChooseModuleRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeChooseModuleRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeChooseModuleRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeChooseModuleRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeChooseModuleRsp>::~shared_ptr((std::shared_ptr<proto::HomeChooseModuleRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeChooseModuleReq const>::~shared_ptr((std::shared_ptr<const proto::HomeChooseModuleReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 66: range 0000000017C8D11C-0000000017C8D438
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#10}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeModuleSeenReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeModuleSeenRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeModuleSeenRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:66 64 16 10 rsp_ptr:66";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#10}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeModuleSeenReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeModuleSeenReq const>(
         (const std::shared_ptr<const proto::HomeModuleSeenReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      66);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeModuleSeenReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeModuleSeenReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeModuleSeenRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeModuleSeenRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeModuleSeenRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeModuleSeenRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeModuleSeenReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeModuleSeenReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeModuleSeenReq(this, v8, rsp_0);
    proto::HomeModuleSeenRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeModuleSeenRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeModuleSeenRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeModuleSeenRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeModuleSeenRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeModuleSeenRsp>::~shared_ptr((std::shared_ptr<proto::HomeModuleSeenRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeModuleSeenReq const>::~shared_ptr((std::shared_ptr<const proto::HomeModuleSeenReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 71: range 0000000017C8D43A-0000000017C8D756
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#11}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::GetHomeLevelUpRewardReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::GetHomeLevelUpRewardRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::GetHomeLevelUpRewardRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:71 64 16 10 rsp_ptr:71";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#11}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::GetHomeLevelUpRewardReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::GetHomeLevelUpRewardReq const>(
         (const std::shared_ptr<const proto::GetHomeLevelUpRewardReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      71);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::GetHomeLevelUpRewardReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::GetHomeLevelUpRewardReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::GetHomeLevelUpRewardRsp>();
    rsp_0 = std::__shared_ptr_access<proto::GetHomeLevelUpRewardRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::GetHomeLevelUpRewardRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::GetHomeLevelUpRewardRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::GetHomeLevelUpRewardReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::GetHomeLevelUpRewardReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onGetHomeLevelUpRewardReq(this, v8, rsp_0);
    proto::GetHomeLevelUpRewardRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::GetHomeLevelUpRewardRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::GetHomeLevelUpRewardRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::GetHomeLevelUpRewardRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::GetHomeLevelUpRewardRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::GetHomeLevelUpRewardRsp>::~shared_ptr((std::shared_ptr<proto::GetHomeLevelUpRewardRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::GetHomeLevelUpRewardReq const>::~shared_ptr((std::shared_ptr<const proto::GetHomeLevelUpRewardReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 75: range 0000000017C8D758-0000000017C8DA74
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#12}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::FurnitureMakeReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::FurnitureMakeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::FurnitureMakeRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:75 64 16 10 rsp_ptr:75";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#12}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::FurnitureMakeReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::FurnitureMakeReq const>(
         (const std::shared_ptr<const proto::FurnitureMakeReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      75);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::FurnitureMakeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::FurnitureMakeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::FurnitureMakeRsp>();
    rsp_0 = std::__shared_ptr_access<proto::FurnitureMakeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::FurnitureMakeRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::FurnitureMakeRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::FurnitureMakeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::FurnitureMakeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onFurnitureMakeReq(this, v8, rsp_0);
    proto::FurnitureMakeRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::FurnitureMakeRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::FurnitureMakeRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::FurnitureMakeRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::FurnitureMakeRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::FurnitureMakeRsp>::~shared_ptr((std::shared_ptr<proto::FurnitureMakeRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::FurnitureMakeReq const>::~shared_ptr((std::shared_ptr<const proto::FurnitureMakeReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 76: range 0000000017C8DA76-0000000017C8DD92
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#13}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::TakeFurnitureMakeReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::TakeFurnitureMakeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::TakeFurnitureMakeRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:76 64 16 10 rsp_ptr:76";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#13}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::TakeFurnitureMakeReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::TakeFurnitureMakeReq const>(
         (const std::shared_ptr<const proto::TakeFurnitureMakeReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      76);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::TakeFurnitureMakeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::TakeFurnitureMakeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::TakeFurnitureMakeRsp>();
    rsp_0 = std::__shared_ptr_access<proto::TakeFurnitureMakeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::TakeFurnitureMakeRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::TakeFurnitureMakeRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::TakeFurnitureMakeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::TakeFurnitureMakeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onTakeFurnitureMakeReq(this, v8, rsp_0);
    proto::TakeFurnitureMakeRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::TakeFurnitureMakeRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::TakeFurnitureMakeRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::TakeFurnitureMakeRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::TakeFurnitureMakeRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::TakeFurnitureMakeRsp>::~shared_ptr((std::shared_ptr<proto::TakeFurnitureMakeRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::TakeFurnitureMakeReq const>::~shared_ptr((std::shared_ptr<const proto::TakeFurnitureMakeReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 77: range 0000000017C8DD94-0000000017C8E0B0
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#14}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::FurnitureMakeCancelReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::FurnitureMakeCancelRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::FurnitureMakeCancelRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:77 64 16 10 rsp_ptr:77";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#14}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::FurnitureMakeCancelReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::FurnitureMakeCancelReq const>(
         (const std::shared_ptr<const proto::FurnitureMakeCancelReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      77);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::FurnitureMakeCancelReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::FurnitureMakeCancelReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::FurnitureMakeCancelRsp>();
    rsp_0 = std::__shared_ptr_access<proto::FurnitureMakeCancelRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::FurnitureMakeCancelRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::FurnitureMakeCancelRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::FurnitureMakeCancelReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::FurnitureMakeCancelReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onFurnitureMakeCancelReq(this, v8, rsp_0);
    proto::FurnitureMakeCancelRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::FurnitureMakeCancelRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::FurnitureMakeCancelRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::FurnitureMakeCancelRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::FurnitureMakeCancelRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::FurnitureMakeCancelRsp>::~shared_ptr((std::shared_ptr<proto::FurnitureMakeCancelRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::FurnitureMakeCancelReq const>::~shared_ptr((std::shared_ptr<const proto::FurnitureMakeCancelReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 78: range 0000000017C8E0B2-0000000017C8E3CE
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#15}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::FurnitureMakeStartReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::FurnitureMakeStartRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::FurnitureMakeStartRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:78 64 16 10 rsp_ptr:78";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#15}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::FurnitureMakeStartReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::FurnitureMakeStartReq const>(
         (const std::shared_ptr<const proto::FurnitureMakeStartReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      78);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::FurnitureMakeStartReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::FurnitureMakeStartReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::FurnitureMakeStartRsp>();
    rsp_0 = std::__shared_ptr_access<proto::FurnitureMakeStartRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::FurnitureMakeStartRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::FurnitureMakeStartRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::FurnitureMakeStartReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::FurnitureMakeStartReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onFurnitureMakeStartReq(this, v8, rsp_0);
    proto::FurnitureMakeStartRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::FurnitureMakeStartRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::FurnitureMakeStartRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::FurnitureMakeStartRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::FurnitureMakeStartRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::FurnitureMakeStartRsp>::~shared_ptr((std::shared_ptr<proto::FurnitureMakeStartRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::FurnitureMakeStartReq const>::~shared_ptr((std::shared_ptr<const proto::FurnitureMakeStartReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 79: range 0000000017C8E3D0-0000000017C8E6EC
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#16}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::FurnitureMakeHelpReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::FurnitureMakeHelpRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::FurnitureMakeHelpRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:79 64 16 10 rsp_ptr:79";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#16}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::FurnitureMakeHelpReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::FurnitureMakeHelpReq const>(
         (const std::shared_ptr<const proto::FurnitureMakeHelpReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      79);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::FurnitureMakeHelpReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::FurnitureMakeHelpReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::FurnitureMakeHelpRsp>();
    rsp_0 = std::__shared_ptr_access<proto::FurnitureMakeHelpRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::FurnitureMakeHelpRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::FurnitureMakeHelpRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::FurnitureMakeHelpReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::FurnitureMakeHelpReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onFurnitureMakeHelpReq(this, v8, rsp_0);
    proto::FurnitureMakeHelpRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::FurnitureMakeHelpRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::FurnitureMakeHelpRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::FurnitureMakeHelpRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::FurnitureMakeHelpRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::FurnitureMakeHelpRsp>::~shared_ptr((std::shared_ptr<proto::FurnitureMakeHelpRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::FurnitureMakeHelpReq const>::~shared_ptr((std::shared_ptr<const proto::FurnitureMakeHelpReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 81: range 0000000017C8E6EE-0000000017C8EA0A
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#17}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeLimitedShopGoodsListReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeLimitedShopGoodsListRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeLimitedShopGoodsListRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:81 64 16 10 rsp_ptr:81";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#17}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeLimitedShopGoodsListReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeLimitedShopGoodsListReq const>(
         (const std::shared_ptr<const proto::HomeLimitedShopGoodsListReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      81);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeLimitedShopGoodsListReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeLimitedShopGoodsListReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeLimitedShopGoodsListRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeLimitedShopGoodsListRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeLimitedShopGoodsListRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeLimitedShopGoodsListRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeLimitedShopGoodsListReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeLimitedShopGoodsListReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeLimitedShopGoodsListReq(this, v8, rsp_0);
    proto::HomeLimitedShopGoodsListRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeLimitedShopGoodsListRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeLimitedShopGoodsListRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeLimitedShopGoodsListRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeLimitedShopGoodsListRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeLimitedShopGoodsListRsp>::~shared_ptr((std::shared_ptr<proto::HomeLimitedShopGoodsListRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeLimitedShopGoodsListReq const>::~shared_ptr((std::shared_ptr<const proto::HomeLimitedShopGoodsListReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 82: range 0000000017C8EA0C-0000000017C8ED28
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#18}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeLimitedShopBuyGoodsReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeLimitedShopBuyGoodsRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeLimitedShopBuyGoodsRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:82 64 16 10 rsp_ptr:82";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#18}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeLimitedShopBuyGoodsReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeLimitedShopBuyGoodsReq const>(
         (const std::shared_ptr<const proto::HomeLimitedShopBuyGoodsReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      82);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeLimitedShopBuyGoodsReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeLimitedShopBuyGoodsReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeLimitedShopBuyGoodsRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeLimitedShopBuyGoodsRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeLimitedShopBuyGoodsRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeLimitedShopBuyGoodsRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeLimitedShopBuyGoodsReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeLimitedShopBuyGoodsReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeLimitedShopBuyGoodsReq(this, v8, rsp_0);
    proto::HomeLimitedShopBuyGoodsRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeLimitedShopBuyGoodsRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeLimitedShopBuyGoodsRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeLimitedShopBuyGoodsRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeLimitedShopBuyGoodsRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeLimitedShopBuyGoodsRsp>::~shared_ptr((std::shared_ptr<proto::HomeLimitedShopBuyGoodsRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeLimitedShopBuyGoodsReq const>::~shared_ptr((std::shared_ptr<const proto::HomeLimitedShopBuyGoodsReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 84: range 0000000017C8ED2A-0000000017C8F046
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#19}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeResourceTakeHomeCoinReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeResourceTakeHomeCoinRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeResourceTakeHomeCoinRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:84 64 16 10 rsp_ptr:84";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#19}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeResourceTakeHomeCoinReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeResourceTakeHomeCoinReq const>(
         (const std::shared_ptr<const proto::HomeResourceTakeHomeCoinReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      84);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeResourceTakeHomeCoinReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeResourceTakeHomeCoinReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeResourceTakeHomeCoinRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeResourceTakeHomeCoinRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeResourceTakeHomeCoinRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeResourceTakeHomeCoinRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeResourceTakeHomeCoinReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeResourceTakeHomeCoinReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeResourceTakeHomeCoinReq(this, v8, rsp_0);
    proto::HomeResourceTakeHomeCoinRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeResourceTakeHomeCoinRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeResourceTakeHomeCoinRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeResourceTakeHomeCoinRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeResourceTakeHomeCoinRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeResourceTakeHomeCoinRsp>::~shared_ptr((std::shared_ptr<proto::HomeResourceTakeHomeCoinRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeResourceTakeHomeCoinReq const>::~shared_ptr((std::shared_ptr<const proto::HomeResourceTakeHomeCoinReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 85: range 0000000017C8F048-0000000017C8F364
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#20}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeResourceTakeFetterExpReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeResourceTakeFetterExpRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeResourceTakeFetterExpRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:85 64 16 10 rsp_ptr:85";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#20}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeResourceTakeFetterExpReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeResourceTakeFetterExpReq const>(
         (const std::shared_ptr<const proto::HomeResourceTakeFetterExpReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      85);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeResourceTakeFetterExpReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeResourceTakeFetterExpReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeResourceTakeFetterExpRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeResourceTakeFetterExpRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeResourceTakeFetterExpRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeResourceTakeFetterExpRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeResourceTakeFetterExpReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeResourceTakeFetterExpReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeResourceTakeFetterExpReq(this, v8, rsp_0);
    proto::HomeResourceTakeFetterExpRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeResourceTakeFetterExpRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeResourceTakeFetterExpRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeResourceTakeFetterExpRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeResourceTakeFetterExpRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeResourceTakeFetterExpRsp>::~shared_ptr((std::shared_ptr<proto::HomeResourceTakeFetterExpRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeResourceTakeFetterExpReq const>::~shared_ptr((std::shared_ptr<const proto::HomeResourceTakeFetterExpReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 87: range 0000000017C8F366-0000000017C8F682
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#21}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeAvatarTalkReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeAvatarTalkRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeAvatarTalkRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:87 64 16 10 rsp_ptr:87";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#21}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeAvatarTalkReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeAvatarTalkReq const>(
         (const std::shared_ptr<const proto::HomeAvatarTalkReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      87);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeAvatarTalkReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeAvatarTalkReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeAvatarTalkRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeAvatarTalkRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeAvatarTalkRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeAvatarTalkRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeAvatarTalkReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeAvatarTalkReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeAvatarTalkReq(this, v8, rsp_0);
    proto::HomeAvatarTalkRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeAvatarTalkRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeAvatarTalkRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeAvatarTalkRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeAvatarTalkRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeAvatarTalkRsp>::~shared_ptr((std::shared_ptr<proto::HomeAvatarTalkRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeAvatarTalkReq const>::~shared_ptr((std::shared_ptr<const proto::HomeAvatarTalkReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 88: range 0000000017C8F684-0000000017C8F9A0
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#22}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeAvatarRewardEventGetReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeAvatarRewardEventGetRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeAvatarRewardEventGetRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:88 64 16 10 rsp_ptr:88";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#22}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeAvatarRewardEventGetReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeAvatarRewardEventGetReq const>(
         (const std::shared_ptr<const proto::HomeAvatarRewardEventGetReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      88);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeAvatarRewardEventGetReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeAvatarRewardEventGetReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeAvatarRewardEventGetRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeAvatarRewardEventGetRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeAvatarRewardEventGetRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeAvatarRewardEventGetRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeAvatarRewardEventGetReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeAvatarRewardEventGetReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeAvatarRewardEventGetReq(this, v8, rsp_0);
    proto::HomeAvatarRewardEventGetRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeAvatarRewardEventGetRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeAvatarRewardEventGetRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeAvatarRewardEventGetRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeAvatarRewardEventGetRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeAvatarRewardEventGetRsp>::~shared_ptr((std::shared_ptr<proto::HomeAvatarRewardEventGetRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeAvatarRewardEventGetReq const>::~shared_ptr((std::shared_ptr<const proto::HomeAvatarRewardEventGetReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 89: range 0000000017C8F9A2-0000000017C8FCBE
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#23}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeAvatarSummonEventReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeAvatarSummonEventRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeAvatarSummonEventRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:89 64 16 10 rsp_ptr:89";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#23}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeAvatarSummonEventReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeAvatarSummonEventReq const>(
         (const std::shared_ptr<const proto::HomeAvatarSummonEventReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      89);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeAvatarSummonEventReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeAvatarSummonEventReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeAvatarSummonEventRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeAvatarSummonEventRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeAvatarSummonEventRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeAvatarSummonEventRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeAvatarSummonEventReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeAvatarSummonEventReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeAvatarSummonEventReq(this, v8, rsp_0);
    proto::HomeAvatarSummonEventRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeAvatarSummonEventRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeAvatarSummonEventRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeAvatarSummonEventRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeAvatarSummonEventRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeAvatarSummonEventRsp>::~shared_ptr((std::shared_ptr<proto::HomeAvatarSummonEventRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeAvatarSummonEventReq const>::~shared_ptr((std::shared_ptr<const proto::HomeAvatarSummonEventReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 90: range 0000000017C8FCC0-0000000017C8FFDC
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#24}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeAvatarSummonFinishReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeAvatarSummonFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeAvatarSummonFinishRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:90 64 16 10 rsp_ptr:90";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#24}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeAvatarSummonFinishReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeAvatarSummonFinishReq const>(
         (const std::shared_ptr<const proto::HomeAvatarSummonFinishReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      90);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeAvatarSummonFinishReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeAvatarSummonFinishReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeAvatarSummonFinishRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeAvatarSummonFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeAvatarSummonFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeAvatarSummonFinishRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeAvatarSummonFinishReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeAvatarSummonFinishReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeAvatarSummonFinishReq(this, v8, rsp_0);
    proto::HomeAvatarSummonFinishRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeAvatarSummonFinishRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeAvatarSummonFinishRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeAvatarSummonFinishRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeAvatarSummonFinishRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeAvatarSummonFinishRsp>::~shared_ptr((std::shared_ptr<proto::HomeAvatarSummonFinishRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeAvatarSummonFinishReq const>::~shared_ptr((std::shared_ptr<const proto::HomeAvatarSummonFinishReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 92: range 0000000017C8FFDE-0000000017C902FA
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#25}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeSceneInitFinishReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeSceneInitFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeSceneInitFinishRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:92 64 16 10 rsp_ptr:92";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#25}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeSceneInitFinishReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeSceneInitFinishReq const>(
         (const std::shared_ptr<const proto::HomeSceneInitFinishReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      92);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeSceneInitFinishReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSceneInitFinishReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeSceneInitFinishRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeSceneInitFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeSceneInitFinishRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeSceneInitFinishRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeSceneInitFinishReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSceneInitFinishReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeSceneInitFinishReq(this, v8, rsp_0);
    proto::HomeSceneInitFinishRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeSceneInitFinishRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeSceneInitFinishRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeSceneInitFinishRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeSceneInitFinishRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeSceneInitFinishRsp>::~shared_ptr((std::shared_ptr<proto::HomeSceneInitFinishRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeSceneInitFinishReq const>::~shared_ptr((std::shared_ptr<const proto::HomeSceneInitFinishReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 94: range 0000000017C902FC-0000000017C90618
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#26}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomePlantSeedReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomePlantSeedRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomePlantSeedRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:94 64 16 10 rsp_ptr:94";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#26}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomePlantSeedReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomePlantSeedReq const>(
         (const std::shared_ptr<const proto::HomePlantSeedReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      94);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomePlantSeedReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomePlantSeedReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomePlantSeedRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomePlantSeedRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomePlantSeedRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomePlantSeedRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomePlantSeedReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomePlantSeedReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomePlantSeedReq(this, v8, rsp_0);
    proto::HomePlantSeedRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomePlantSeedRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomePlantSeedRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomePlantSeedRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomePlantSeedRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomePlantSeedRsp>::~shared_ptr((std::shared_ptr<proto::HomePlantSeedRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomePlantSeedReq const>::~shared_ptr((std::shared_ptr<const proto::HomePlantSeedReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 95: range 0000000017C9061A-0000000017C90936
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#27}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomePlantWeedReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomePlantWeedRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomePlantWeedRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:95 64 16 10 rsp_ptr:95";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#27}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomePlantWeedReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomePlantWeedReq const>(
         (const std::shared_ptr<const proto::HomePlantWeedReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      95);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomePlantWeedReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomePlantWeedReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomePlantWeedRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomePlantWeedRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomePlantWeedRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomePlantWeedRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomePlantWeedReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomePlantWeedReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomePlantWeedReq(this, v8, rsp_0);
    proto::HomePlantWeedRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomePlantWeedRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomePlantWeedRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomePlantWeedRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomePlantWeedRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomePlantWeedRsp>::~shared_ptr((std::shared_ptr<proto::HomePlantWeedRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomePlantWeedReq const>::~shared_ptr((std::shared_ptr<const proto::HomePlantWeedReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 96: range 0000000017C90938-0000000017C90C54
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#28}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomePlantInfoReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomePlantInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomePlantInfoRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:96 64 16 10 rsp_ptr:96";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#28}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomePlantInfoReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomePlantInfoReq const>(
         (const std::shared_ptr<const proto::HomePlantInfoReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      96);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomePlantInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomePlantInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomePlantInfoRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomePlantInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomePlantInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomePlantInfoRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomePlantInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomePlantInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomePlantInfoReq(this, v8, rsp_0);
    proto::HomePlantInfoRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomePlantInfoRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomePlantInfoRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomePlantInfoRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomePlantInfoRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomePlantInfoRsp>::~shared_ptr((std::shared_ptr<proto::HomePlantInfoRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomePlantInfoReq const>::~shared_ptr((std::shared_ptr<const proto::HomePlantInfoReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 98: range 0000000017C90C56-0000000017C90F72
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#29}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeTransferReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeTransferRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeTransferRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 10 req_ptr:98 64 16 10 rsp_ptr:98";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#29}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeTransferReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeTransferReq const>(
         (const std::shared_ptr<const proto::HomeTransferReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      98);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeTransferReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeTransferReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeTransferRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeTransferRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeTransferRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeTransferRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeTransferReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeTransferReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeTransferReq(this, v8, rsp_0);
    proto::HomeTransferRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeTransferRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeTransferRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeTransferRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeTransferRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeTransferRsp>::~shared_ptr((std::shared_ptr<proto::HomeTransferRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeTransferReq const>::~shared_ptr((std::shared_ptr<const proto::HomeTransferReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 100: range 0000000017C90F74-0000000017C91290
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#30}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeGetFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeGetFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeGetFishFarmingInfoRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:100 64 16 11 rsp_ptr:100";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#30}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeGetFishFarmingInfoReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeGetFishFarmingInfoReq const>(
         (const std::shared_ptr<const proto::HomeGetFishFarmingInfoReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      100);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeGetFishFarmingInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeGetFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeGetFishFarmingInfoRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeGetFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeGetFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeGetFishFarmingInfoRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeGetFishFarmingInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeGetFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeGetFishFarmingInfoReq(this, v8, rsp_0);
    proto::HomeGetFishFarmingInfoRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeGetFishFarmingInfoRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeGetFishFarmingInfoRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeGetFishFarmingInfoRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeGetFishFarmingInfoRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeGetFishFarmingInfoRsp>::~shared_ptr((std::shared_ptr<proto::HomeGetFishFarmingInfoRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeGetFishFarmingInfoReq const>::~shared_ptr((std::shared_ptr<const proto::HomeGetFishFarmingInfoReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 101: range 0000000017C91292-0000000017C915AE
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#31}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeUpdateFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeUpdateFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeUpdateFishFarmingInfoRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:101 64 16 11 rsp_ptr:101";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#31}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeUpdateFishFarmingInfoReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeUpdateFishFarmingInfoReq const>(
         (const std::shared_ptr<const proto::HomeUpdateFishFarmingInfoReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      101);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeUpdateFishFarmingInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeUpdateFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeUpdateFishFarmingInfoRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeUpdateFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeUpdateFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeUpdateFishFarmingInfoRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeUpdateFishFarmingInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeUpdateFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeUpdateFishFarmingInfoReq(this, v8, rsp_0);
    proto::HomeUpdateFishFarmingInfoRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeUpdateFishFarmingInfoRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeUpdateFishFarmingInfoRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeUpdateFishFarmingInfoRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeUpdateFishFarmingInfoRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeUpdateFishFarmingInfoRsp>::~shared_ptr((std::shared_ptr<proto::HomeUpdateFishFarmingInfoRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeUpdateFishFarmingInfoReq const>::~shared_ptr((std::shared_ptr<const proto::HomeUpdateFishFarmingInfoReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 102: range 0000000017C915B0-0000000017C918CC
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#32}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeUpdateScenePointFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeUpdateScenePointFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeUpdateScenePointFishFarmingInfoRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:102 64 16 11 rsp_ptr:102";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#32}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeUpdateScenePointFishFarmingInfoReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeUpdateScenePointFishFarmingInfoReq const>(
         (const std::shared_ptr<const proto::HomeUpdateScenePointFishFarmingInfoReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      102);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeUpdateScenePointFishFarmingInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeUpdateScenePointFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeUpdateScenePointFishFarmingInfoRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeUpdateScenePointFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeUpdateScenePointFishFarmingInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeUpdateScenePointFishFarmingInfoRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeUpdateScenePointFishFarmingInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeUpdateScenePointFishFarmingInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeUpdateScenePointFishFarmingInfoReq(this, v8, rsp_0);
    proto::HomeUpdateScenePointFishFarmingInfoRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeUpdateScenePointFishFarmingInfoRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeUpdateScenePointFishFarmingInfoRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeUpdateScenePointFishFarmingInfoRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeUpdateScenePointFishFarmingInfoRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeUpdateScenePointFishFarmingInfoRsp>::~shared_ptr((std::shared_ptr<proto::HomeUpdateScenePointFishFarmingInfoRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeUpdateScenePointFishFarmingInfoReq const>::~shared_ptr((std::shared_ptr<const proto::HomeUpdateScenePointFishFarmingInfoReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 104: range 0000000017C918CE-0000000017C91BEA
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#33}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeEditCustomFurnitureReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeEditCustomFurnitureRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeEditCustomFurnitureRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:104 64 16 11 rsp_ptr:104";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#33}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeEditCustomFurnitureReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeEditCustomFurnitureReq const>(
         (const std::shared_ptr<const proto::HomeEditCustomFurnitureReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      104);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeEditCustomFurnitureReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeEditCustomFurnitureReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeEditCustomFurnitureRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeEditCustomFurnitureRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeEditCustomFurnitureRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeEditCustomFurnitureRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeEditCustomFurnitureReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeEditCustomFurnitureReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeEditCustomFurnitureReq(this, v8, rsp_0);
    proto::HomeEditCustomFurnitureRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeEditCustomFurnitureRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeEditCustomFurnitureRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeEditCustomFurnitureRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeEditCustomFurnitureRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeEditCustomFurnitureRsp>::~shared_ptr((std::shared_ptr<proto::HomeEditCustomFurnitureRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeEditCustomFurnitureReq const>::~shared_ptr((std::shared_ptr<const proto::HomeEditCustomFurnitureReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 106: range 0000000017C91BEC-0000000017C91F08
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#34}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeUpdatePictureFrameInfoReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeUpdatePictureFrameInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeUpdatePictureFrameInfoRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:106 64 16 11 rsp_ptr:106";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#34}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeUpdatePictureFrameInfoReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeUpdatePictureFrameInfoReq const>(
         (const std::shared_ptr<const proto::HomeUpdatePictureFrameInfoReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      106);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeUpdatePictureFrameInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeUpdatePictureFrameInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeUpdatePictureFrameInfoRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeUpdatePictureFrameInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeUpdatePictureFrameInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeUpdatePictureFrameInfoRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeUpdatePictureFrameInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeUpdatePictureFrameInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeUpdatePictureFrameInfoReq(this, v8, rsp_0);
    proto::HomeUpdatePictureFrameInfoRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeUpdatePictureFrameInfoRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeUpdatePictureFrameInfoRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeUpdatePictureFrameInfoRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeUpdatePictureFrameInfoRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeUpdatePictureFrameInfoRsp>::~shared_ptr((std::shared_ptr<proto::HomeUpdatePictureFrameInfoRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeUpdatePictureFrameInfoReq const>::~shared_ptr((std::shared_ptr<const proto::HomeUpdatePictureFrameInfoReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 108: range 0000000017C91F0A-0000000017C92226
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#35}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeGetGroupRecordReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeGetGroupRecordRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeGetGroupRecordRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:108 64 16 11 rsp_ptr:108";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#35}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeGetGroupRecordReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeGetGroupRecordReq const>(
         (const std::shared_ptr<const proto::HomeGetGroupRecordReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      108);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeGetGroupRecordReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeGetGroupRecordReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeGetGroupRecordRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeGetGroupRecordRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeGetGroupRecordRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeGetGroupRecordRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeGetGroupRecordReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeGetGroupRecordReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeGetGroupRecordReq(this, v8, rsp_0);
    proto::HomeGetGroupRecordRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeGetGroupRecordRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeGetGroupRecordRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeGetGroupRecordRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeGetGroupRecordRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeGetGroupRecordRsp>::~shared_ptr((std::shared_ptr<proto::HomeGetGroupRecordRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeGetGroupRecordReq const>::~shared_ptr((std::shared_ptr<const proto::HomeGetGroupRecordReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 109: range 0000000017C92228-0000000017C92544
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#36}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeClearGroupRecordReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeClearGroupRecordRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeClearGroupRecordRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:109 64 16 11 rsp_ptr:109";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#36}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeClearGroupRecordReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeClearGroupRecordReq const>(
         (const std::shared_ptr<const proto::HomeClearGroupRecordReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      109);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeClearGroupRecordReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeClearGroupRecordReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeClearGroupRecordRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeClearGroupRecordRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeClearGroupRecordRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeClearGroupRecordRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeClearGroupRecordReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeClearGroupRecordReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeClearGroupRecordReq(this, v8, rsp_0);
    proto::HomeClearGroupRecordRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeClearGroupRecordRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeClearGroupRecordRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeClearGroupRecordRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeClearGroupRecordRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeClearGroupRecordRsp>::~shared_ptr((std::shared_ptr<proto::HomeClearGroupRecordRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeClearGroupRecordReq const>::~shared_ptr((std::shared_ptr<const proto::HomeClearGroupRecordReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 111: range 0000000017C92546-0000000017C92862
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#37}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeChangeBgmReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeChangeBgmRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeChangeBgmRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:111 64 16 11 rsp_ptr:111";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#37}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeChangeBgmReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeChangeBgmReq const>(
         (const std::shared_ptr<const proto::HomeChangeBgmReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      111);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeChangeBgmReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeChangeBgmReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeChangeBgmRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeChangeBgmRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeChangeBgmRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeChangeBgmRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeChangeBgmReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeChangeBgmReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeChangeBgmReq(this, v8, rsp_0);
    proto::HomeChangeBgmRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeChangeBgmRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeChangeBgmRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeChangeBgmRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeChangeBgmRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeChangeBgmRsp>::~shared_ptr((std::shared_ptr<proto::HomeChangeBgmRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeChangeBgmReq const>::~shared_ptr((std::shared_ptr<const proto::HomeChangeBgmReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 113: range 0000000017C92864-0000000017C92B80
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#38}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::GetHomeExchangeWoodInfoReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::GetHomeExchangeWoodInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::GetHomeExchangeWoodInfoRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:113 64 16 11 rsp_ptr:113";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#38}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::GetHomeExchangeWoodInfoReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::GetHomeExchangeWoodInfoReq const>(
         (const std::shared_ptr<const proto::GetHomeExchangeWoodInfoReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      113);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::GetHomeExchangeWoodInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::GetHomeExchangeWoodInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::GetHomeExchangeWoodInfoRsp>();
    rsp_0 = std::__shared_ptr_access<proto::GetHomeExchangeWoodInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::GetHomeExchangeWoodInfoRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::GetHomeExchangeWoodInfoRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::GetHomeExchangeWoodInfoReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::GetHomeExchangeWoodInfoReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onGetHomeExchangeWoodInfoReq(this, v8, rsp_0);
    proto::GetHomeExchangeWoodInfoRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::GetHomeExchangeWoodInfoRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::GetHomeExchangeWoodInfoRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::GetHomeExchangeWoodInfoRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::GetHomeExchangeWoodInfoRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::GetHomeExchangeWoodInfoRsp>::~shared_ptr((std::shared_ptr<proto::GetHomeExchangeWoodInfoRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::GetHomeExchangeWoodInfoReq const>::~shared_ptr((std::shared_ptr<const proto::GetHomeExchangeWoodInfoReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 114: range 0000000017C92B82-0000000017C92E9E
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#39}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeExchangeWoodReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeExchangeWoodRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeExchangeWoodRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:114 64 16 11 rsp_ptr:114";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#39}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeExchangeWoodReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeExchangeWoodReq const>(
         (const std::shared_ptr<const proto::HomeExchangeWoodReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      114);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeExchangeWoodReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeExchangeWoodReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeExchangeWoodRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeExchangeWoodRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeExchangeWoodRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeExchangeWoodRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeExchangeWoodReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeExchangeWoodReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeExchangeWoodReq(this, v8, rsp_0);
    proto::HomeExchangeWoodRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeExchangeWoodRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeExchangeWoodRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeExchangeWoodRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeExchangeWoodRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeExchangeWoodRsp>::~shared_ptr((std::shared_ptr<proto::HomeExchangeWoodRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeExchangeWoodReq const>::~shared_ptr((std::shared_ptr<const proto::HomeExchangeWoodReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 121: range 0000000017C92EA0-0000000017C931BC
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#40}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeSetBlueprintFriendOptionReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeSetBlueprintFriendOptionRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeSetBlueprintFriendOptionRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:121 64 16 11 rsp_ptr:121";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#40}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeSetBlueprintFriendOptionReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeSetBlueprintFriendOptionReq const>(
         (const std::shared_ptr<const proto::HomeSetBlueprintFriendOptionReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      121);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeSetBlueprintFriendOptionReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSetBlueprintFriendOptionReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeSetBlueprintFriendOptionRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeSetBlueprintFriendOptionRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeSetBlueprintFriendOptionRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeSetBlueprintFriendOptionRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeSetBlueprintFriendOptionReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSetBlueprintFriendOptionReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeSetBlueprintFriendOptionReq(this, v8, rsp_0);
    proto::HomeSetBlueprintFriendOptionRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeSetBlueprintFriendOptionRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeSetBlueprintFriendOptionRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeSetBlueprintFriendOptionRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeSetBlueprintFriendOptionRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeSetBlueprintFriendOptionRsp>::~shared_ptr((std::shared_ptr<proto::HomeSetBlueprintFriendOptionRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeSetBlueprintFriendOptionReq const>::~shared_ptr((std::shared_ptr<const proto::HomeSetBlueprintFriendOptionReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 131: range 0000000017C931BE-0000000017C934DA
int __cdecl PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#41}::operator()(
        const PlayerHomeHandler::addPacketFuncToMap::<lambda(common::minet::PacketPtr)> *const __closure,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int v5; // r14d
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  PlayerHomeHandler *this; // r14
  std::__shared_ptr_access<const proto::HomeSaveArrangementNoChangeReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rcx
  GameserverService *v9; // r14
  int result; // eax
  uint32_t uid; // [rsp+18h] [rbp-D8h]
  google::protobuf::int32 retcode; // [rsp+1Ch] [rbp-D4h]
  std::__shared_ptr_access<proto::HomeSaveArrangementNoChangeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+28h] [rbp-C8h]
  std::shared_ptr<proto::HomeSaveArrangementNoChangeRsp> p_proto_ptr; // [rsp+30h] [rbp-C0h] BYREF
  common::milog::MiLogStream v15; // [rsp+40h] [rbp-B0h] BYREF
  char v16[144]; // [rsp+60h] [rbp-90h] BYREF

  v2 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(96LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 11 req_ptr:131 64 16 11 rsp_ptr:131";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::addPacketFuncToMap(std::map<unsigned int,std::function<int ()(std::shared_ptr<common::minet::Packet>)>> &)::{lambda(std::shared_ptr<common::minet::Packet>)#41}::operator();
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862722] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeSaveArrangementNoChangeReq>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::HomeSaveArrangementNoChangeReq const>(
         (const std::shared_ptr<const proto::HomeSaveArrangementNoChangeReq> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "operator()",
      131);
    common::milog::MiLogStream::operator()(&v15, off_26382960);
    common::milog::MiLogStream::~MiLogStream(&v15);
    v5 = -1;
  }
  else
  {
    std::__shared_ptr_access<proto::HomeSaveArrangementNoChangeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSaveArrangementNoChangeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    common::tools::perf::make_shared<proto::HomeSaveArrangementNoChangeRsp>();
    rsp_0 = std::__shared_ptr_access<proto::HomeSaveArrangementNoChangeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeSaveArrangementNoChangeRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    proto::HomeSaveArrangementNoChangeRsp::set_retcode(rsp_0, -1);
    v6 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
    uid = common::minet::Packet::getUserId(v6);
    if ( *(_BYTE *)(((unsigned __int64)__closure >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    this = __closure->__this;
    v8 = std::__shared_ptr_access<proto::HomeSaveArrangementNoChangeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSaveArrangementNoChangeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    retcode = PlayerHomeHandler::onHomeSaveArrangementNoChangeReq(this, v8, rsp_0);
    proto::HomeSaveArrangementNoChangeRsp::set_retcode(rsp_0, retcode);
    v9 = ServiceBox::findService<GameserverService>();
    std::shared_ptr<proto::HomeSaveArrangementNoChangeRsp>::shared_ptr(
      &p_proto_ptr,
      (const std::shared_ptr<proto::HomeSaveArrangementNoChangeRsp> *)(v2 + 64));
    GameserverService::sendRspToClient<proto::HomeSaveArrangementNoChangeRsp>(v9, uid, &p_proto_ptr);
    std::shared_ptr<proto::HomeSaveArrangementNoChangeRsp>::~shared_ptr(&p_proto_ptr);
    v5 = retcode;
    std::shared_ptr<proto::HomeSaveArrangementNoChangeRsp>::~shared_ptr((std::shared_ptr<proto::HomeSaveArrangementNoChangeRsp> *const)(v2 + 64));
  }
  std::shared_ptr<proto::HomeSaveArrangementNoChangeReq const>::~shared_ptr((std::shared_ptr<const proto::HomeSaveArrangementNoChangeReq> *const)(v2 + 32));
  result = v5;
  if ( v16 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 137: range 0000000017C987DE-0000000017C99060
int32_t __cdecl PlayerHomeHandler::onTryEnterHomeReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  PlayerBasicComp *BasicComp; // rax
  common::milog::MiLogStream *v7; // r14
  PlayerBasicComp *v8; // rax
  char v9; // al
  PlayerAvatarComp *AvatarComp; // rax
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v12; // rax
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // r14
  int v15; // r14d
  PlayerHomeComp *v16; // r15
  bool is_transfer_to_safe_point; // r14
  uint32_t v18; // eax
  common::milog::MiLogStream *v19; // rax
  common::milog::MiLogStream *v20; // rax
  common::milog::MiLogStream *v21; // rax
  PlayerHomeComp *v22; // r14
  uint32_t v23; // eax
  int32_t result; // eax
  unsigned int val; // [rsp+24h] [rbp-12Ch] BYREF
  const proto::TryEnterHomeReq *req; // [rsp+28h] [rbp-128h]
  std::tuple_element<0,std::pair<int,std::vector<unsigned int> > >::type *retcode; // [rsp+30h] [rbp-120h]
  std::tuple_element<1,std::pair<int,std::vector<unsigned int> > >::type *ret_param_vec; // [rsp+38h] [rbp-118h]
  std::pair<int,std::vector<unsigned int> > __in; // [rsp+40h] [rbp-110h] BYREF
  common::milog::MiLogStream v30; // [rsp+60h] [rbp-F0h] BYREF
  char v31[208]; // [rsp+80h] [rbp-D0h] BYREF

  v2 = (unsigned __int64)v31;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(160LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "4 32 4 7 ret:139 48 4 14 target_uid:150 64 16 11 req_ptr:138 96 24 13 param_vec:140";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onTryEnterHomeReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556924;
  v4[536862722] = -219021312;
  v4[536862723] = -218103808;
  v4[536862724] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::TryEnterHomeReq>((common::minet::Packet *const)(v2 + 64));
  if ( std::operator==<proto::TryEnterHomeReq const>(
         (const std::shared_ptr<const proto::TryEnterHomeReq> *)(v2 + 64),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v30,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onTryEnterHomeReq",
      138);
    common::milog::MiLogStream::operator()(&v30, off_26383260);
    common::milog::MiLogStream::~MiLogStream(&v30);
    v5 = -1;
  }
  else
  {
    req = std::__shared_ptr_access<proto::TryEnterHomeReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::TryEnterHomeReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    *(_DWORD *)(v2 + 32) = 0;
    std::vector<unsigned int>::vector((std::vector<unsigned int> *const)(v2 + 96));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    BasicComp = Player::getBasicComp(this->player_);
    if ( !PlayerBasicComp::isStateOpen(BasicComp, 0x5DEu) )
    {
      common::milog::MiLogStream::create(
        &v30,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onTryEnterHomeReq",
        146);
      v7 = common::milog::MiLogStream::operator<<<char [39],(char *[39])0>(
             &v30,
             (const char (*)[39])"OPEN_STATE_ADEPTIABODE is locked. uid:");
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      val = Player::getUid(this->player_);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v7, &val);
      common::milog::MiLogStream::~MiLogStream(&v30);
      *(_DWORD *)(v2 + 32) = 9735;
    }
    else
    {
      *(_DWORD *)(v2 + 48) = proto::TryEnterHomeReq::target_uid(req);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      if ( Player::getUid(this->player_) == *(_DWORD *)(v2 + 48) )
        goto LABEL_19;
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      v8 = Player::getBasicComp(this->player_);
      if ( PlayerBasicComp::isStateOpen(v8, 0x5DCu) )
LABEL_19:
        v9 = 0;
      else
        v9 = 1;
      if ( v9 )
      {
        *(_DWORD *)(v2 + 32) = 9735;
      }
      else
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        AvatarComp = Player::getAvatarComp(this->player_);
        if ( PlayerAvatarComp::isInCombat(AvatarComp) )
        {
          common::milog::MiLogStream::create(
            &v30,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onTryEnterHomeReq",
            159);
          common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(&v30, (const char (*)[11])"isInCombat");
          common::milog::MiLogStream::~MiLogStream(&v30);
          *(_DWORD *)(v2 + 32) = 9730;
        }
        else
        {
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          HomeComp = Player::getHomeComp(this->player_);
          PlayerHomeComp::checkEnterHomeAvailability(&__in, HomeComp);
          retcode = std::get<0ul,int,std::vector<unsigned int>>(&__in);
          ret_param_vec = std::get<1ul,int,std::vector<unsigned int>>(&__in);
          if ( *(_BYTE *)(((unsigned __int64)retcode >> 3) + 0x7FFF8000) != 0
            && (char)(((unsigned __int8)retcode & 7) + 3) >= *(_BYTE *)(((unsigned __int64)retcode >> 3) + 0x7FFF8000) )
          {
            __asan_report_load4();
          }
          if ( *retcode )
          {
            *(_DWORD *)(v2 + 32) = *retcode;
            std::vector<unsigned int>::operator=((std::vector<unsigned int> *const)(v2 + 96), ret_param_vec);
            common::milog::MiLogStream::create(
              &v30,
              &common::milog::MiLogDefault::default_log_obj_,
              1u,
              "./src/handler/player_home_handler.cpp",
              "onTryEnterHomeReq",
              169);
            v12 = common::milog::MiLogStream::operator<<<char [33],(char *[33])0>(
                    &v30,
                    (const char (*)[33])"checkEnterHomeAvailability ret: ");
            v13 = common::milog::MiLogStream::operator<<<int,(int *)0>(v12, retcode);
            v14 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v13, (const char (*)[7])" uid: ");
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            val = Player::getUid(this->player_);
            common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, &val);
            common::milog::MiLogStream::~MiLogStream(&v30);
            v15 = 0;
          }
          else
          {
            v15 = 1;
          }
          std::pair<int,std::vector<unsigned int>>::~pair(&__in);
          if ( v15 == 1 )
          {
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            v16 = Player::getHomeComp(this->player_);
            is_transfer_to_safe_point = proto::TryEnterHomeReq::is_transfer_to_safe_point(req);
            v18 = proto::TryEnterHomeReq::target_point(req);
            *(_DWORD *)(v2 + 32) = PlayerHomeComp::handleTryEnterHomeReq(
                                     v16,
                                     *(_DWORD *)(v2 + 48),
                                     v18,
                                     is_transfer_to_safe_point);
            if ( *(_DWORD *)(v2 + 32) )
            {
              common::milog::MiLogStream::create(
                &v30,
                &common::milog::MiLogDefault::default_log_obj_,
                1u,
                "./src/handler/player_home_handler.cpp",
                "onTryEnterHomeReq",
                176);
              v19 = common::milog::MiLogStream::operator<<<char [42],(char *[42])0>(
                      &v30,
                      (const char (*)[42])"handleTryEnterHomeReq failed. target_uid:");
              v20 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                      v19,
                      (const unsigned int *)(v2 + 48));
              v21 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v20, (const char (*)[6])" ret:");
              common::milog::MiLogStream::operator<<<int,(int *)0>(v21, (const int *)(v2 + 32));
              common::milog::MiLogStream::~MiLogStream(&v30);
            }
          }
        }
      }
    }
    if ( *(_DWORD *)(v2 + 32) )
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      v22 = Player::getHomeComp(this->player_);
      v23 = proto::TryEnterHomeReq::target_uid(req);
      PlayerHomeComp::sendTryEnterHomeRsp(v22, *(_DWORD *)(v2 + 32), v23, (const std::vector<unsigned int> *)(v2 + 96));
    }
    v5 = *(_DWORD *)(v2 + 32);
    std::vector<unsigned int>::~vector((std::vector<unsigned int> *const)(v2 + 96));
  }
  std::shared_ptr<proto::TryEnterHomeReq const>::~shared_ptr((std::shared_ptr<const proto::TryEnterHomeReq> *const)(v2 + 64));
  result = v5;
  if ( v31 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = -168430091;
  }
  return result;
};

// Line 190: range 0000000017C99062-0000000017C99B88
int32_t __cdecl PlayerHomeHandler::onServerGetFriendEnterHomeOptionRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int32_t v5; // r14d
  unsigned int v6; // r14d
  unsigned int v7; // eax
  PlayerHomeComp *HomeComp; // r15
  uint32_t v9; // r14d
  int32_t v10; // eax
  common::milog::MiLogStream *v11; // rax
  common::milog::MiLogStream *v12; // rax
  common::milog::MiLogStream *v13; // r14
  const std::string *v14; // rax
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v17; // rax
  bool v18; // r15
  common::milog::MiLogStream *v19; // rax
  common::milog::MiLogStream *v20; // rax
  common::milog::MiLogStream *v21; // rax
  common::milog::MiLogStream *v22; // r14
  bool is_online; // al
  common::milog::MiLogStream *v24; // rax
  common::milog::MiLogStream *v25; // r14
  bool is_home_avaliable; // al
  common::milog::MiLogStream *v27; // rax
  common::milog::MiLogStream *v28; // rax
  common::milog::MiLogStream *v30; // r14
  bool v31; // al
  common::milog::MiLogStream *v32; // rax
  common::milog::MiLogStream *v33; // r14
  bool is_only_mp_with_ps_player; // al
  common::milog::MiLogStream *v35; // rax
  common::milog::MiLogStream *v36; // rax
  google::protobuf::uint32 save_time; // r14d
  common::milog::MiLogStream *v38; // r14
  common::milog::MiLogStream *v39; // rax
  common::milog::MiLogStream *v40; // r14
  common::milog::MiLogStream *v41; // rax
  common::milog::MiLogStream *v42; // rax
  common::milog::MiLogStream *v43; // rax
  common::milog::MiLogStream *v44; // rax
  PlayerHomeComp *v45; // rax
  PlayerHomeComp *v46; // rax
  common::milog::MiLogStream *v47; // rax
  PlayerHomeComp *v48; // rax
  int32_t result; // eax
  unsigned int val; // [rsp+2Ch] [rbp-F4h] BYREF
  unsigned int v51; // [rsp+30h] [rbp-F0h] BYREF
  int32_t ret; // [rsp+34h] [rbp-ECh]
  const proto::ServerGetFriendEnterHomeOptionRsp *rsp_0; // [rsp+38h] [rbp-E8h]
  std::shared_ptr<Config> v54; // [rsp+40h] [rbp-E0h] BYREF
  common::milog::MiLogStream v55; // [rsp+50h] [rbp-D0h] BYREF
  char v56[176]; // [rsp+70h] [rbp-B0h] BYREF

  v2 = (unsigned __int64)v56;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(128LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "5 32 4 14 target_uid:192 48 4 14 source_uid:199 64 4 10 option:201 80 4 7 now:205 96 16 11 rsp_ptr:191";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerGetFriendEnterHomeOptionRsp;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556924;
  v4[536862722] = -234556924;
  v4[536862723] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::ServerGetFriendEnterHomeOptionRsp>((common::minet::Packet *const)(v2 + 96));
  if ( std::operator==<proto::ServerGetFriendEnterHomeOptionRsp const>(
         (const std::shared_ptr<const proto::ServerGetFriendEnterHomeOptionRsp> *)(v2 + 96),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v55,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerGetFriendEnterHomeOptionRsp",
      191);
    common::milog::MiLogStream::operator()(&v55, off_263834E0);
    common::milog::MiLogStream::~MiLogStream(&v55);
    v5 = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerGetFriendEnterHomeOptionRsp const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::ServerGetFriendEnterHomeOptionRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
    *(_DWORD *)(v2 + 32) = proto::ServerGetFriendEnterHomeOptionRsp::target_uid(rsp_0);
    if ( proto::ServerGetFriendEnterHomeOptionRsp::retcode(rsp_0) )
    {
      common::milog::MiLogStream::create(
        &v55,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onServerGetFriendEnterHomeOptionRsp",
        195);
      v6 = *(_DWORD *)(v2 + 32);
      v7 = proto::ServerGetFriendEnterHomeOptionRsp::retcode(rsp_0);
      common::milog::MiLogStream::operator()(&v55, "ServerGetFriendEnterHomeOptionRsp retcode:%d target_uid:%u", v7, v6);
      common::milog::MiLogStream::~MiLogStream(&v55);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      HomeComp = Player::getHomeComp(this->player_);
      v9 = *(_DWORD *)(v2 + 32);
      v10 = proto::ServerGetFriendEnterHomeOptionRsp::retcode(rsp_0);
      PlayerHomeComp::sendTryEnterHomeRsp(HomeComp, v10, v9);
      v5 = 0;
    }
    else
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      *(_DWORD *)(v2 + 48) = Player::getUid(this->player_);
      ret = 0;
      *(_DWORD *)(v2 + 64) = proto::ServerGetFriendEnterHomeOptionRsp::friend_enter_home_option(rsp_0);
      common::milog::MiLogStream::create(
        &v55,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onServerGetFriendEnterHomeOptionRsp",
        202);
      v11 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(&v55, (const char (*)[12])"target_uid:");
      v12 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v11, (const unsigned int *)(v2 + 32));
      v13 = common::milog::MiLogStream::operator<<<char [9],(char *[9])0>(v12, (const char (*)[9])" option:");
      v14 = proto::FriendEnterHomeOption_Name[abi:cxx11]((proto::FriendEnterHomeOption)*(_DWORD *)(v2 + 64));
      v15 = common::milog::MiLogStream::operator<<<std::string,(std::string*)0>(v13, v14);
      v16 = common::milog::MiLogStream::operator<<<char [13],(char *[13])0>(v15, (const char (*)[13])" source_uid:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v16, (const unsigned int *)(v2 + 48));
      common::milog::MiLogStream::~MiLogStream(&v55);
      *(_DWORD *)(v2 + 80) = common::tools::TimeUtils::getNow();
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)&v54);
      v17 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v54);
      v18 = FeatureSwitchMgr::isHomeAuditBeforeReleaseEnabled(&v17->feature_switch_mgr)
         && proto::ServerGetFriendEnterHomeOptionRsp::is_home_in_audit(rsp_0);
      std::shared_ptr<Config>::~shared_ptr(&v54);
      if ( v18 )
      {
        common::milog::MiLogStream::create(
          &v55,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onServerGetFriendEnterHomeOptionRsp",
          208);
        v19 = common::milog::MiLogStream::operator<<<char [27],(char *[27])0>(
                &v55,
                (const char (*)[27])"target home in audit uid: ");
        v20 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v19,
                (const unsigned int *)(v2 + 32));
        v21 = common::milog::MiLogStream::operator<<<char [13],(char *[13])0>(v20, (const char (*)[13])" source_uid:");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v21, (const unsigned int *)(v2 + 48));
        common::milog::MiLogStream::~MiLogStream(&v55);
        ret = 9742;
      }
      else if ( !proto::ServerGetFriendEnterHomeOptionRsp::is_online(rsp_0)
             && !proto::ServerGetFriendEnterHomeOptionRsp::is_home_avaliable(rsp_0) )
      {
        common::milog::MiLogStream::create(
          &v55,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onServerGetFriendEnterHomeOptionRsp",
          219);
        v22 = common::milog::MiLogStream::operator<<<char [42],(char *[42])0>(
                &v55,
                (const char (*)[42])"target not online and home not avalibale:");
        is_online = proto::ServerGetFriendEnterHomeOptionRsp::is_online(rsp_0);
        v24 = common::milog::MiLogStream::operator<<(v22, is_online);
        v25 = common::milog::MiLogStream::operator<<<char [2],(char *[2])0>(v24, (const char (*)[2])"|");
        is_home_avaliable = proto::ServerGetFriendEnterHomeOptionRsp::is_home_avaliable(rsp_0);
        v27 = common::milog::MiLogStream::operator<<(v25, is_home_avaliable);
        v28 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v27, (const char (*)[7])" uid: ");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v28, (const unsigned int *)(v2 + 32));
        common::milog::MiLogStream::~MiLogStream(&v55);
        ret = 9703;
      }
      else
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        if ( !Player::isPsnPlatform(this->player_)
          && proto::ServerGetFriendEnterHomeOptionRsp::is_only_mp_with_ps_player(rsp_0) )
        {
          common::milog::MiLogStream::create(
            &v55,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onServerGetFriendEnterHomeOptionRsp",
            227);
          v30 = common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
                  &v55,
                  (const char (*)[46])"target not online and only_mp_with_ps_player:");
          v31 = proto::ServerGetFriendEnterHomeOptionRsp::is_online(rsp_0);
          v32 = common::milog::MiLogStream::operator<<(v30, v31);
          v33 = common::milog::MiLogStream::operator<<<char [2],(char *[2])0>(v32, (const char (*)[2])"|");
          is_only_mp_with_ps_player = proto::ServerGetFriendEnterHomeOptionRsp::is_only_mp_with_ps_player(rsp_0);
          v35 = common::milog::MiLogStream::operator<<(v33, is_only_mp_with_ps_player);
          v36 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v35, (const char (*)[7])" uid: ");
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v36, (const unsigned int *)(v2 + 32));
          common::milog::MiLogStream::~MiLogStream(&v55);
          ret = 1242;
        }
        else
        {
          save_time = proto::ServerGetFriendEnterHomeOptionRsp::last_save_time(rsp_0);
          if ( save_time + proto::ServerGetFriendEnterHomeOptionRsp::prior_check_time(rsp_0) <= *(_DWORD *)(v2 + 80) )
          {
            if ( *(_DWORD *)(v2 + 64) == 1 )
            {
              ret = 9717;
            }
            else if ( *(_DWORD *)(v2 + 64) )
            {
              if ( *(_DWORD *)(v2 + 64) == 2 )
              {
                if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                v46 = Player::getHomeComp(this->player_);
                ret = PlayerHomeComp::tryEnterHome(v46, *(_DWORD *)(v2 + 32), 0, 0);
              }
              else
              {
                common::milog::MiLogStream::create(
                  &v55,
                  &common::milog::MiLogDefault::default_log_obj_,
                  4u,
                  "./src/handler/player_home_handler.cpp",
                  "onServerGetFriendEnterHomeOptionRsp",
                  263);
                v47 = common::milog::MiLogStream::operator<<<char [16],(char *[16])0>(
                        &v55,
                        (const char (*)[16])"invalid option:");
                common::milog::MiLogStream::operator<<<proto::FriendEnterHomeOption,(proto::FriendEnterHomeOption*)0>(
                  v47,
                  (const proto::FriendEnterHomeOption *)(v2 + 64));
                common::milog::MiLogStream::~MiLogStream(&v55);
                ret = 9701;
              }
            }
            else if ( proto::ServerGetFriendEnterHomeOptionRsp::is_online(rsp_0) )
            {
              if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                __asan_report_load8();
              v45 = Player::getHomeComp(this->player_);
              ret = PlayerHomeComp::applyEnterOtherHome(v45, *(_DWORD *)(v2 + 32));
            }
            else
            {
              ret = 9719;
            }
          }
          else
          {
            common::milog::MiLogStream::create(
              &v55,
              &common::milog::MiLogDefault::default_log_obj_,
              1u,
              "./src/handler/player_home_handler.cpp",
              "onServerGetFriendEnterHomeOptionRsp",
              234);
            v38 = common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
                    &v55,
                    (const char (*)[46])"RET_HOME_WAITING_PRIOR_CHECK last_save_time: ");
            val = proto::ServerGetFriendEnterHomeOptionRsp::last_save_time(rsp_0);
            v39 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v38, &val);
            v40 = common::milog::MiLogStream::operator<<<char [20],(char *[20])0>(
                    v39,
                    (const char (*)[20])" prior_check_time: ");
            v51 = proto::ServerGetFriendEnterHomeOptionRsp::prior_check_time(rsp_0);
            v41 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v40, &v51);
            v42 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v41, (const char (*)[7])" now: ");
            v43 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                    v42,
                    (const unsigned int *)(v2 + 80));
            v44 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v43, (const char (*)[7])" uid: ");
            common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v44, (const unsigned int *)(v2 + 32));
            common::milog::MiLogStream::~MiLogStream(&v55);
            ret = 9742;
          }
        }
      }
      if ( ret )
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v48 = Player::getHomeComp(this->player_);
        PlayerHomeComp::sendTryEnterHomeRsp(v48, ret, *(_DWORD *)(v2 + 32));
      }
      v5 = ret;
    }
  }
  std::shared_ptr<proto::ServerGetFriendEnterHomeOptionRsp const>::~shared_ptr((std::shared_ptr<const proto::ServerGetFriendEnterHomeOptionRsp> *const)(v2 + 96));
  result = v5;
  if ( v56 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 277: range 0000000017C99B8A-0000000017C9A4EB
int32_t __cdecl PlayerHomeHandler::onPlayerApplyEnterHomeNotify(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r14
  int32_t v5; // r12d
  const proto::OnlinePlayerInfo *v6; // rax
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  common::milog::MiLogStream *v9; // rax
  common::milog::MiLogStream *v10; // rax
  common::milog::MiLogStream *v11; // rax
  common::milog::MiLogStream *v12; // r12
  const std::string *v13; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v14; // rax
  PlayerHomeComp *v15; // rax
  char v16; // r15
  PlayerBasicComp *BasicComp; // rax
  const proto::OnlinePlayerInfo *v18; // rax
  const std::string *v19; // rax
  PlayerMpComp *MpComp; // rax
  char v21; // al
  PlayerSocialComp *SocialComp; // rax
  PlayerHomeComp *v23; // rax
  time_t v24; // r12
  PlayerMatchComp *MatchComp; // rax
  PlayerHomeComp *v26; // rax
  PlayerHomeComp *v27; // rax
  common::milog::MiLogStream *v28; // rax
  int32_t result; // eax
  std::__shared_ptr_access<proto::PlayerApplyEnterHomeNotify,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *notify; // [rsp+28h] [rbp-E8h]
  std::shared_ptr<Config> v31; // [rsp+30h] [rbp-E0h] BYREF
  common::milog::MiLogStream v32; // [rsp+40h] [rbp-D0h] BYREF
  char v33[176]; // [rsp+60h] [rbp-B0h] BYREF

  v2 = (unsigned __int64)v33;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(128LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "4 48 4 17 source_app_id:279 64 4 14 source_uid:287 80 4 10 option:288 96 16 14 notify_ptr:278";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onPlayerApplyEnterHomeNotify;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556943;
  v4[536862722] = -234556924;
  v4[536862723] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getProto<proto::PlayerApplyEnterHomeNotify>((common::minet::Packet *const)(v2 + 96));
  if ( std::operator==<proto::PlayerApplyEnterHomeNotify>(
         (const std::shared_ptr<proto::PlayerApplyEnterHomeNotify> *)(v2 + 96),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v32,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onPlayerApplyEnterHomeNotify",
      278);
    common::milog::MiLogStream::operator()(&v32, off_26383960);
    common::milog::MiLogStream::~MiLogStream(&v32);
    v5 = -1;
    goto LABEL_55;
  }
  notify = std::__shared_ptr_access<proto::PlayerApplyEnterHomeNotify,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::PlayerApplyEnterHomeNotify,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
  *(_DWORD *)(v2 + 48) = proto::PlayerApplyEnterHomeNotify::src_app_id(notify);
  if ( !*(_DWORD *)(v2 + 48) )
  {
    common::milog::MiLogStream::create(
      &v32,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onPlayerApplyEnterHomeNotify",
      282);
    common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
      &v32,
      (const char (*)[26])"source app id cannot be 0");
    common::milog::MiLogStream::~MiLogStream(&v32);
    v5 = 0;
    goto LABEL_55;
  }
  v6 = proto::PlayerApplyEnterHomeNotify::src_player_info(notify);
  *(_DWORD *)(v2 + 64) = proto::OnlinePlayerInfo::uid(v6);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v2 + 80) = PlayerHomeComp::getFriendEnterHomeOption(HomeComp);
  common::milog::MiLogStream::create(
    &v32,
    &common::milog::MiLogDefault::default_log_obj_,
    1u,
    "./src/handler/player_home_handler.cpp",
    "onPlayerApplyEnterHomeNotify",
    290);
  v8 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(&v32, (const char (*)[12])"source_uid:");
  v9 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v8, (const unsigned int *)(v2 + 64));
  v10 = common::milog::MiLogStream::operator<<<char [16],(char *[16])0>(v9, (const char (*)[16])" source_app_id:");
  v11 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v10, (const unsigned int *)(v2 + 48));
  v12 = common::milog::MiLogStream::operator<<<char [9],(char *[9])0>(v11, (const char (*)[9])" option:");
  v13 = proto::FriendEnterHomeOption_Name[abi:cxx11]((proto::FriendEnterHomeOption)*(_DWORD *)(v2 + 80));
  common::milog::MiLogStream::operator<<<std::string,(std::string*)0>(v12, v13);
  common::milog::MiLogStream::~MiLogStream(&v32);
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)&v31);
  v14 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v31);
  if ( !FeatureSwitchMgr::isHomeAuditBeforeReleaseEnabled(&v14->feature_switch_mgr) )
    goto LABEL_15;
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  v15 = Player::getHomeComp(this->player_);
  if ( PlayerHomeComp::isHomeBlockedByAudit(v15) )
    v16 = 1;
  else
LABEL_15:
    v16 = 0;
  std::shared_ptr<Config>::~shared_ptr(&v31);
  if ( v16 )
    goto LABEL_17;
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  BasicComp = Player::getBasicComp(this->player_);
  if ( !PlayerBasicComp::isStateOpen(BasicComp, 0x5DCu) )
  {
    v5 = PlayerHomeHandler::judgeApplyEnterHome(
           this,
           *(_DWORD *)(v2 + 64),
           0,
           PlayerApplyEnterHomeResultNotify_Reason_OPEN_STATE_NOT_OPEN,
           *(_DWORD *)(v2 + 48));
  }
  else
  {
    v18 = proto::PlayerApplyEnterHomeNotify::src_player_info(notify);
    v19 = proto::OnlinePlayerInfo::online_id[abi:cxx11](v18);
    if ( !(unsigned __int8)std::string::empty(v19) )
      goto LABEL_27;
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    MpComp = Player::getMpComp(this->player_);
    if ( PlayerMpComp::getIsOnlyMpWithPSPlayer(MpComp) )
      v21 = 1;
    else
LABEL_27:
      v21 = 0;
    if ( v21 )
    {
      v5 = PlayerHomeHandler::judgeApplyEnterHome(
             this,
             *(_DWORD *)(v2 + 64),
             0,
             PlayerApplyEnterHomeResultNotify_Reason_PS_PLAYER_NOT_ACCEPT_OTHERS,
             *(_DWORD *)(v2 + 48));
    }
    else
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      SocialComp = Player::getSocialComp(this->player_);
      if ( !PlayerSocialComp::isPlayerFriend(SocialComp, *(_DWORD *)(v2 + 64)) )
        goto LABEL_33;
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      v23 = Player::getHomeComp(this->player_);
      v24 = PlayerHomeComp::getPriorCheckEndTime(v23);
      if ( v24 > common::tools::TimeUtils::getNow() )
      {
LABEL_17:
        v5 = PlayerHomeHandler::judgeApplyEnterHome(
               this,
               *(_DWORD *)(v2 + 64),
               0,
               PlayerApplyEnterHomeResultNotify_Reason_PRIOR_CHECK,
               *(_DWORD *)(v2 + 48));
        goto LABEL_55;
      }
      if ( *(_DWORD *)(v2 + 80) == 1 )
      {
LABEL_33:
        v5 = PlayerHomeHandler::judgeApplyEnterHome(
               this,
               *(_DWORD *)(v2 + 64),
               0,
               PlayerApplyEnterHomeResultNotify_Reason_PLAYER_ENTER_OPTION_REFUSE,
               *(_DWORD *)(v2 + 48));
      }
      else if ( *(_DWORD *)(v2 + 80) )
      {
        if ( *(_DWORD *)(v2 + 80) == 2 )
        {
          v5 = PlayerHomeHandler::judgeApplyEnterHome(
                 this,
                 *(_DWORD *)(v2 + 64),
                 1,
                 PlayerApplyEnterHomeResultNotify_Reason_PLAYER_ENTER_OPTION_DIRECT,
                 *(_DWORD *)(v2 + 48));
        }
        else
        {
          common::milog::MiLogStream::create(
            &v32,
            &common::milog::MiLogDefault::default_log_obj_,
            4u,
            "./src/handler/player_home_handler.cpp",
            "onPlayerApplyEnterHomeNotify",
            359);
          v28 = common::milog::MiLogStream::operator<<<char [16],(char *[16])0>(
                  &v32,
                  (const char (*)[16])"invalid option:");
          common::milog::MiLogStream::operator<<<proto::FriendEnterHomeOption,(proto::FriendEnterHomeOption*)0>(
            v28,
            (const proto::FriendEnterHomeOption *)(v2 + 80));
          common::milog::MiLogStream::~MiLogStream(&v32);
          v5 = PlayerHomeHandler::judgeApplyEnterHome(
                 this,
                 *(_DWORD *)(v2 + 64),
                 0,
                 PlayerApplyEnterHomeResultNotify_Reason_SYSTEM_JUDGE,
                 *(_DWORD *)(v2 + 48));
        }
      }
      else
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        MatchComp = Player::getMatchComp(this->player_);
        if ( PlayerMatchComp::isInMatch(MatchComp) )
        {
          v5 = PlayerHomeHandler::judgeApplyEnterHome(
                 this,
                 *(_DWORD *)(v2 + 64),
                 0,
                 PlayerApplyEnterHomeResultNotify_Reason_HOST_IN_MATCH,
                 *(_DWORD *)(v2 + 48));
        }
        else
        {
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          v26 = Player::getHomeComp(this->player_);
          if ( PlayerHomeComp::isInEditMode(v26) )
          {
            v5 = PlayerHomeHandler::judgeApplyEnterHome(
                   this,
                   *(_DWORD *)(v2 + 64),
                   0,
                   PlayerApplyEnterHomeResultNotify_Reason_HOST_IN_EDIT_MODE,
                   *(_DWORD *)(v2 + 48));
          }
          else
          {
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            v27 = Player::getHomeComp(this->player_);
            PlayerHomeComp::onBeApplied(v27, *(_DWORD *)(v2 + 64), *(_DWORD *)(v2 + 48));
            proto::PlayerApplyEnterHomeNotify::set_src_app_id(notify, 0);
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            Player::sendProto(this->player_, notify);
            v5 = 0;
          }
        }
      }
    }
  }
LABEL_55:
  std::shared_ptr<proto::PlayerApplyEnterHomeNotify>::~shared_ptr((std::shared_ptr<proto::PlayerApplyEnterHomeNotify> *const)(v2 + 96));
  result = v5;
  if ( v33 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 367: range 0000000017C9A4EC-0000000017C9AA47
__int64 __fastcall PlayerHomeHandler::judgeApplyEnterHome(
        PlayerHomeHandler *const this,
        uint32_t apply_uid,
        bool is_agreed,
        proto::PlayerApplyEnterHomeResultNotify::Reason reason,
        uint32_t source_app_id)
{
  unsigned __int64 v5; // r13
  __int64 v6; // rax
  _DWORD *v7; // r12
  uint32_t Uid; // eax
  PlayerBasicComp *BasicComp; // rax
  const std::string *v10; // rax
  common::milog::MiLogStream *v11; // r14
  unsigned int v12; // r14d
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v14; // rax
  PlayerHomeComp *v15; // rax
  common::minet::Packet *v16; // rax
  common::minet::Packet *v17; // r14
  GameserverApp *v18; // rax
  uint32_t AppId; // eax
  NetworkMgrBase *v20; // r14
  uint32_t v21; // r8d
  __int64 result; // rax
  unsigned int val; // [rsp+28h] [rbp-108h] BYREF
  uint32_t app_id; // [rsp+2Ch] [rbp-104h]
  std::shared_ptr<common::minet::Packet> packet_ptr; // [rsp+30h] [rbp-100h] BYREF
  common::milog::MiLogStream v29; // [rsp+40h] [rbp-F0h] BYREF
  char v30[208]; // [rsp+60h] [rbp-D0h] BYREF

  v5 = (unsigned __int64)v30;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v6 = __asan_stack_malloc_2(160LL);
    if ( v6 )
      v5 = v6;
  }
  *(_QWORD *)v5 = 1102416563LL;
  *(_QWORD *)(v5 + 8) = "3 32 4 13 apply_uid:366 48 16 14 packet_ptr:373 80 40 17 result_notify:368";
  *(_QWORD *)(v5 + 16) = PlayerHomeHandler::judgeApplyEnterHome;
  v7 = (_DWORD *)(v5 >> 3);
  v7[536862720] = -235802127;
  v7[536862721] = 61956;
  v7[536862722] = 62194;
  v7[536862723] = -218103808;
  v7[536862724] = -202116109;
  *(_DWORD *)(v5 + 32) = apply_uid;
  proto::PlayerApplyEnterHomeResultNotify::PlayerApplyEnterHomeResultNotify((proto::PlayerApplyEnterHomeResultNotify *const)(v5 + 80));
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  Uid = Player::getUid(this->player_);
  proto::PlayerApplyEnterHomeResultNotify::set_target_uid(
    (proto::PlayerApplyEnterHomeResultNotify *const)(v5 + 80),
    Uid);
  proto::PlayerApplyEnterHomeResultNotify::set_is_agreed(
    (proto::PlayerApplyEnterHomeResultNotify *const)(v5 + 80),
    is_agreed);
  proto::PlayerApplyEnterHomeResultNotify::set_reason((proto::PlayerApplyEnterHomeResultNotify *const)(v5 + 80), reason);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  BasicComp = Player::getBasicComp(this->player_);
  v10 = PlayerBasicComp::getNickName[abi:cxx11](BasicComp);
  proto::PlayerApplyEnterHomeResultNotify::set_target_nickname(
    (proto::PlayerApplyEnterHomeResultNotify *const)(v5 + 80),
    v10);
  common::minet::PacketUtils::createPacket<proto::PlayerApplyEnterHomeResultNotify>((const proto::PlayerApplyEnterHomeResultNotify *)(v5 + 48));
  if ( std::operator==<common::minet::Packet>((const std::shared_ptr<common::minet::Packet> *)(v5 + 48), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v29,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "judgeApplyEnterHome",
      376);
    v11 = common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
            &v29,
            (const char (*)[26])"createPacket failed, uid:");
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    val = Player::getUid(this->player_);
    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v11, &val);
    common::milog::MiLogStream::~MiLogStream(&v29);
    v12 = -1;
  }
  else
  {
    app_id = source_app_id;
    if ( !source_app_id )
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      HomeComp = Player::getHomeComp(this->player_);
      app_id = PlayerHomeComp::getApplyPlayerAppId(HomeComp, *(_DWORD *)(v5 + 32));
      if ( !app_id )
      {
        common::milog::MiLogStream::create(
          &v29,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "judgeApplyEnterHome",
          386);
        v14 = common::milog::MiLogStream::operator<<<char [55],(char *[55])0>(
                &v29,
                (const char (*)[55])"cannot find apply_uid corresponding app_id, apply_uid:");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, (const unsigned int *)(v5 + 32));
        common::milog::MiLogStream::~MiLogStream(&v29);
        v12 = -1;
        goto LABEL_21;
      }
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      v15 = Player::getHomeComp(this->player_);
      PlayerHomeComp::removeApplyPlayer(v15, *(_DWORD *)(v5 + 32));
    }
    v16 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v5 + 48));
    common::minet::Packet::setUserId(v16, *(_DWORD *)(v5 + 32));
    v17 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v5 + 48));
    v18 = Singleton<GameserverApp>::instance();
    AppId = AppBase::getAppId((AppBase *const)v18);
    common::minet::Packet::setSource(v17, 3u, AppId);
    v20 = std::__shared_ptr_access<NetworkMgrBase,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<NetworkMgrBase,(__gnu_cxx::_Lock_policy)2,false,false> *const)&ResourceBox::network_mgr_ptr);
    std::shared_ptr<common::minet::Packet>::shared_ptr(
      &packet_ptr,
      (const std::shared_ptr<common::minet::Packet> *)(v5 + 48));
    NetworkMgrBase::sendPacketToTargetService(v20, (common::minet::PacketPtr)__PAIR128__(3LL, &packet_ptr), app_id, v21);
    std::shared_ptr<common::minet::Packet>::~shared_ptr(&packet_ptr);
    v12 = 0;
  }
LABEL_21:
  std::shared_ptr<common::minet::Packet>::~shared_ptr((std::shared_ptr<common::minet::Packet> *const)(v5 + 48));
  proto::PlayerApplyEnterHomeResultNotify::~PlayerApplyEnterHomeResultNotify((proto::PlayerApplyEnterHomeResultNotify *const)(v5 + 80));
  result = v12;
  if ( v30 == (char *)v5 )
  {
    *(_QWORD *)((v5 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v5 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v5 >> 3) + 0x7FFF8010) = 0;
  }
  else
  {
    *(_QWORD *)v5 = 1172321806LL;
    *(_QWORD *)((v5 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v5 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v5 >> 3) + 0x7FFF8010) = -168430091;
  }
  return result;
};

// Line 400: range 0000000017C9AA48-0000000017C9ABAF
int32_t __cdecl PlayerHomeHandler::onPlayerApplyEnterHomeResultReq(
        PlayerHomeHandler *const this,
        const proto::PlayerApplyEnterHomeResultReq *req,
        proto::PlayerApplyEnterHomeResultRsp *rsp_0)
{
  google::protobuf::uint32 v3; // edx
  bool is_agreed; // dl
  bool v5; // bl
  uint32_t v6; // esi
  common::milog::MiLogStream *v7; // rbx
  unsigned int val; // [rsp+2Ch] [rbp-34h] BYREF
  common::milog::MiLogStream v11; // [rsp+30h] [rbp-30h] BYREF

  v3 = proto::PlayerApplyEnterHomeResultReq::apply_uid(req);
  proto::PlayerApplyEnterHomeResultRsp::set_apply_uid(rsp_0, v3);
  is_agreed = proto::PlayerApplyEnterHomeResultReq::is_agreed(req);
  proto::PlayerApplyEnterHomeResultRsp::set_is_agreed(rsp_0, is_agreed);
  proto::PlayerApplyEnterHomeResultRsp::set_retcode(rsp_0, 0);
  v5 = proto::PlayerApplyEnterHomeResultReq::is_agreed(req);
  v6 = proto::PlayerApplyEnterHomeResultReq::apply_uid(req);
  if ( !(unsigned int)PlayerHomeHandler::judgeApplyEnterHome(
                        this,
                        v6,
                        v5,
                        PlayerApplyEnterHomeResultNotify_Reason_PLAYER_JUDGE,
                        0) )
    return 0;
  common::milog::MiLogStream::create(
    &v11,
    &common::milog::MiLogDefault::default_log_obj_,
    1u,
    "./src/handler/player_home_handler.cpp",
    "onPlayerApplyEnterHomeResultReq",
    406);
  v7 = common::milog::MiLogStream::operator<<<char [33],(char *[33])0>(
         &v11,
         (const char (*)[33])"judgeApplyEnterHome fails, uid: ");
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  val = Player::getUid(this->player_);
  common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v7, &val);
  common::milog::MiLogStream::~MiLogStream(&v11);
  return -1;
};

// Line 413: range 0000000017C9ABB0-0000000017C9AF45
int32_t __cdecl PlayerHomeHandler::onPlayerApplyEnterHomeResultNotify(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // rbx
  __int64 v3; // rax
  unsigned __int64 v4; // r12
  int32_t v5; // r14d
  uint64_t NowMs; // rdx
  int32_t result; // eax
  int32_t ret; // [rsp+18h] [rbp-A8h]
  google::protobuf::uint32 target_uid; // [rsp+1Ch] [rbp-A4h]
  std::__shared_ptr_access<proto::PlayerApplyEnterHomeResultNotify,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *notify; // [rsp+20h] [rbp-A0h]
  PlayerHomeComp *home_comp; // [rsp+28h] [rbp-98h]
  common::milog::MiLogStream v12; // [rsp+30h] [rbp-90h] BYREF
  char v13[112]; // [rsp+50h] [rbp-70h] BYREF

  v2 = (unsigned __int64)v13;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_0(64LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "1 32 16 14 notify_ptr:414";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onPlayerApplyEnterHomeResultNotify;
  v4 = v2 >> 3;
  *(_DWORD *)(v4 + 2147450880) = -235802127;
  *(_DWORD *)(v4 + 2147450884) = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getProto<proto::PlayerApplyEnterHomeResultNotify>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::PlayerApplyEnterHomeResultNotify>(
         (const std::shared_ptr<proto::PlayerApplyEnterHomeResultNotify> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v12,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onPlayerApplyEnterHomeResultNotify",
      414);
    common::milog::MiLogStream::operator()(&v12, off_26383CA0);
    common::milog::MiLogStream::~MiLogStream(&v12);
    v5 = -1;
  }
  else
  {
    notify = std::__shared_ptr_access<proto::PlayerApplyEnterHomeResultNotify,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::PlayerApplyEnterHomeResultNotify,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    home_comp = Player::getHomeComp(this->player_);
    if ( !PlayerHomeComp::getIsApplyingEnterHome(home_comp) )
    {
      common::milog::MiLogStream::create(
        &v12,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onPlayerApplyEnterHomeResultNotify",
        419);
      common::milog::MiLogStream::operator()(&v12, "is_applying_enter_home_ is false.");
      common::milog::MiLogStream::~MiLogStream(&v12);
      v5 = 0;
    }
    else
    {
      NowMs = common::tools::TimeUtils::getNowMs();
      PlayerHomeComp::onApplyEnterHomeEnd(home_comp, NowMs);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Player::sendProto(this->player_, notify);
      target_uid = proto::PlayerApplyEnterHomeResultNotify::target_uid(notify);
      if ( proto::PlayerApplyEnterHomeResultNotify::is_agreed(notify) )
      {
        ret = PlayerHomeComp::tryEnterHome(home_comp, target_uid, 0, 0);
      }
      else if ( proto::PlayerApplyEnterHomeResultNotify::reason(notify) == PlayerApplyEnterHomeResultNotify_Reason_PRIOR_CHECK )
      {
        ret = 9742;
      }
      else
      {
        ret = 9737;
      }
      if ( ret )
        PlayerHomeComp::sendTryEnterHomeRsp(home_comp, ret, target_uid);
      v5 = ret;
    }
  }
  std::shared_ptr<proto::PlayerApplyEnterHomeResultNotify>::~shared_ptr((std::shared_ptr<proto::PlayerApplyEnterHomeResultNotify> *const)(v2 + 32));
  result = v5;
  if ( v13 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 457: range 0000000017C9AF46-0000000017C9B14B
int32_t __cdecl PlayerHomeHandler::onServerTryEnterHomeRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // rbx
  __int64 v3; // rax
  unsigned __int64 v4; // r12
  int32_t v5; // r14d
  PlayerHomeComp *HomeComp; // rdx
  int32_t result; // eax
  std::__shared_ptr_access<const proto::ServerTryEnterHomeRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+18h] [rbp-98h]
  common::milog::MiLogStream v9; // [rsp+20h] [rbp-90h] BYREF
  char v10[112]; // [rsp+40h] [rbp-70h] BYREF

  v2 = (unsigned __int64)v10;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_0(64LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "1 32 16 11 rsp_ptr:458";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerTryEnterHomeRsp;
  v4 = v2 >> 3;
  *(_DWORD *)(v4 + 2147450880) = -235802127;
  *(_DWORD *)(v4 + 2147450884) = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::ServerTryEnterHomeRsp>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::ServerTryEnterHomeRsp const>(
         (const std::shared_ptr<const proto::ServerTryEnterHomeRsp> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v9,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerTryEnterHomeRsp",
      458);
    common::milog::MiLogStream::operator()(&v9, off_26383D80);
    common::milog::MiLogStream::~MiLogStream(&v9);
    v5 = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerTryEnterHomeRsp const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::ServerTryEnterHomeRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    v5 = PlayerHomeComp::onServerTryEnterHomeRsp(HomeComp, rsp_0);
  }
  std::shared_ptr<proto::ServerTryEnterHomeRsp const>::~shared_ptr((std::shared_ptr<const proto::ServerTryEnterHomeRsp> *const)(v2 + 32));
  result = v5;
  if ( v10 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 463: range 0000000017C9B14C-0000000017C9B42D
int32_t __cdecl PlayerHomeHandler::onHomeGetBasicInfoReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v7; // rax
  int32_t v8; // r14d
  Home *v9; // rcx
  int32_t result; // eax
  common::milog::MiLogStream v11; // [rsp+10h] [rbp-D0h] BYREF
  char v12[176]; // [rsp+30h] [rbp-B0h] BYREF

  v2 = (unsigned __int64)v12;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(128LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "3 48 4 7 ret:466 64 16 18 home_world_ptr:464 96 16 12 home_ptr:465";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onHomeGetBasicInfoReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556943;
  v4[536862722] = -219021312;
  v4[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v2 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v2 + 64),
                           (HomePtr *)(v2 + 96));
  if ( *(_DWORD *)(v2 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v11,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeGetBasicInfoReq",
      469);
    v7 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
           &v11,
           (const char (*)[36])"getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v7, (const int *)(v2 + 48));
    common::milog::MiLogStream::~MiLogStream(&v11);
    if ( *(_DWORD *)(v2 + 48) )
      v8 = *(_DWORD *)(v2 + 48);
    else
      v8 = -1;
  }
  else
  {
    v9 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Home::notifyHomeBasicInfo(v9, this->player_);
    v8 = 0;
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 64));
  result = v8;
  if ( v12 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 478: range 0000000017C9B42E-0000000017C9BD8B
int32_t __cdecl PlayerHomeHandler::onHomeSceneJumpReq(
        PlayerHomeHandler *const this,
        const proto::HomeSceneJumpReq *req,
        proto::HomeSceneJumpRsp *rsp_0)
{
  unsigned __int64 p_M_rehash_policy; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  bool is_enter_room_scene; // dl
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v9; // rax
  int32_t v10; // r14d
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v11; // rax
  common::milog::MiLogStream *v12; // r14
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v13; // rax
  common::milog::MiLogStream *v14; // rax
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // rax
  uint32_t v17; // r14d
  HomeWorld *v18; // rax
  uint32_t v19; // r14d
  unsigned __int64 v20; // rax
  unsigned __int64 v21; // rdx
  PlayerSceneComp *SceneComp; // r14
  Scene *v23; // rax
  common::milog::MiLogStream *v24; // r14
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v25; // rax
  common::milog::MiLogStream *v26; // rax
  common::milog::MiLogStream *v27; // rax
  int32_t result; // eax
  unsigned int val; // [rsp+2Ch] [rbp-174h] BYREF
  World var170; // [rsp+30h] [rbp-170h] BYREF

  p_M_rehash_policy = (unsigned __int64)&var170.slot_info_map_._M_h._M_rehash_policy;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_2(192LL);
    if ( v4 )
      p_M_rehash_policy = v4;
  }
  *(_QWORD *)p_M_rehash_policy = 1102416563LL;
  *(_QWORD *)(p_M_rehash_policy + 8) = "6 32 4 7 ret:483 48 4 18 cur_scene_type:496 64 16 18 home_world_ptr:481 96 16 12 "
                                       "home_ptr:482 128 16 17 cur_scene_ptr:490 160 16 18 dest_scene_ptr:503";
  *(_QWORD *)(p_M_rehash_policy + 16) = PlayerHomeHandler::onHomeSceneJumpReq;
  v5 = (_DWORD *)(p_M_rehash_policy >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556924;
  v5[536862722] = -219021312;
  v5[536862723] = -219021312;
  v5[536862724] = -219021312;
  v5[536862725] = -202178560;
  is_enter_room_scene = proto::HomeSceneJumpReq::is_enter_room_scene(req);
  proto::HomeSceneJumpRsp::set_is_enter_room_scene(rsp_0, is_enter_room_scene);
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(p_M_rehash_policy + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(p_M_rehash_policy + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(p_M_rehash_policy + 32) = PlayerHomeComp::getCurHomeWorldAndHome(
                                          HomeComp,
                                          (HomeWorldPtr *)(p_M_rehash_policy + 64),
                                          (HomePtr *)(p_M_rehash_policy + 96));
  if ( *(_DWORD *)(p_M_rehash_policy + 32)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(p_M_rehash_policy + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(p_M_rehash_policy + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      (common::milog::MiLogStream *)&var170.timer_ptr_,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeSceneJumpReq",
      486);
    v9 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
           (common::milog::MiLogStream *const)&var170.timer_ptr_,
           (const char (*)[36])"getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v9, (const int *)(p_M_rehash_policy + 32));
    common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)&var170.timer_ptr_);
    if ( *(_DWORD *)(p_M_rehash_policy + 32) )
      v10 = *(_DWORD *)(p_M_rehash_policy + 32);
    else
      v10 = -1;
    goto LABEL_42;
  }
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  Player::getSceneComp(this->player_);
  PlayerSceneComp::getCurScene((const PlayerSceneComp *const)(p_M_rehash_policy + 128));
  if ( !std::operator==<Scene>((const std::shared_ptr<Scene> *)(p_M_rehash_policy + 128), 0LL) )
  {
    v11 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(p_M_rehash_policy + 128));
    *(_DWORD *)(p_M_rehash_policy + 48) = Scene::getSceneType(v11);
    if ( *(_DWORD *)(p_M_rehash_policy + 48) != 4 && *(_DWORD *)(p_M_rehash_policy + 48) != 5 )
    {
      common::milog::MiLogStream::create(
        (common::milog::MiLogStream *)&var170.timer_ptr_,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "onHomeSceneJumpReq",
        499);
      v12 = common::milog::MiLogStream::operator<<<char [14],(char *[14])0>(
              (common::milog::MiLogStream *const)&var170.timer_ptr_,
              (const char (*)[14])"cur_scene_id:");
      v13 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(p_M_rehash_policy + 128));
      val = Scene::getSceneId(v13);
      v14 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v12, &val);
      v15 = common::milog::MiLogStream::operator<<<char [13],(char *[13])0>(v14, (const char (*)[13])" scene_type:");
      v16 = common::milog::MiLogStream::operator<<<data::SceneType,(data::SceneType*)0>(
              v15,
              (const data::SceneType *)(p_M_rehash_policy + 48));
      common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v16, (const char (*)[12])off_26384020);
      common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)&var170.timer_ptr_);
      v10 = -1;
      goto LABEL_41;
    }
    std::shared_ptr<Scene>::shared_ptr((std::shared_ptr<Scene> *const)(p_M_rehash_policy + 160), 0LL);
    if ( proto::HomeSceneJumpReq::is_enter_room_scene(req) )
    {
      if ( *(_DWORD *)(p_M_rehash_policy + 48) == 5 )
      {
        common::milog::MiLogStream::create(
          (common::milog::MiLogStream *)&var170.timer_ptr_,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeSceneJumpReq",
          508);
        common::milog::MiLogStream::operator<<<char [34],(char *[34])0>(
          (common::milog::MiLogStream *const)&var170.timer_ptr_,
          (const char (*)[34])"player already in home_room scene");
        common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)&var170.timer_ptr_);
        v10 = 9723;
LABEL_40:
        std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(p_M_rehash_policy + 160));
        goto LABEL_41;
      }
      v17 = (unsigned int)std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(p_M_rehash_policy + 64));
      v18 = std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(p_M_rehash_policy + 64));
      HomeWorld::getCurRoomSceneId(v18);
      World::findScene(&var170, v17);
      std::shared_ptr<Scene>::operator=(
        (std::shared_ptr<Scene> *const)(p_M_rehash_policy + 160),
        (std::shared_ptr<Scene> *)&var170);
      std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)&var170);
    }
    else
    {
      if ( *(_DWORD *)(p_M_rehash_policy + 48) == 4 )
      {
        common::milog::MiLogStream::create(
          (common::milog::MiLogStream *)&var170.timer_ptr_,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeSceneJumpReq",
          517);
        common::milog::MiLogStream::operator<<<char [35],(char *[35])0>(
          (common::milog::MiLogStream *const)&var170.timer_ptr_,
          (const char (*)[35])"player already in home_world scene");
        common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)&var170.timer_ptr_);
        v10 = 9723;
        goto LABEL_40;
      }
      v19 = (unsigned int)std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(p_M_rehash_policy + 64));
      v20 = (unsigned __int64)std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(p_M_rehash_policy + 64));
      if ( *(_BYTE *)((v20 >> 3) + 0x7FFF8000) )
        v20 = __asan_report_load8();
      v21 = *(_QWORD *)v20 + 72LL;
      if ( *(_BYTE *)((v21 >> 3) + 0x7FFF8000) )
        v20 = __asan_report_load8();
      (*(void (__fastcall **)(unsigned __int64))v21)(v20);
      World::findScene((World *const)&var170._M_weak_this._M_refcount, v19);
      std::shared_ptr<Scene>::operator=(
        (std::shared_ptr<Scene> *const)(p_M_rehash_policy + 160),
        (std::shared_ptr<Scene> *)&var170._M_weak_this._M_refcount);
      std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)&var170._M_weak_this._M_refcount);
    }
    if ( std::operator==<Scene>((const std::shared_ptr<Scene> *)(p_M_rehash_policy + 160), 0LL) )
    {
      common::milog::MiLogStream::create(
        (common::milog::MiLogStream *)&var170.timer_ptr_,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "onHomeSceneJumpReq",
        524);
      common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
        (common::milog::MiLogStream *const)&var170.timer_ptr_,
        (const char (*)[26])"dest_scene_ptr is nullptr");
      common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)&var170.timer_ptr_);
      v10 = -1;
    }
    else
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      SceneComp = Player::getSceneComp(this->player_);
      TransferReason::TransferReason(
        (TransferReason *const)&var170.scene_map_._M_t._M_impl._M_header._M_parent,
        ENTER_REASON_HOME_SCENE_JUMP);
      v23 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(p_M_rehash_policy + 160));
      *(_DWORD *)(p_M_rehash_policy + 32) = PlayerSceneComp::jumpToSceneBornPosition(
                                              SceneComp,
                                              v23,
                                              (TransferReason *)&var170.scene_map_._M_t._M_impl._M_header._M_parent);
      TransferReason::~TransferReason((TransferReason *const)&var170.scene_map_._M_t._M_impl._M_header._M_parent);
      if ( *(_DWORD *)(p_M_rehash_policy + 32) )
      {
        common::milog::MiLogStream::create(
          (common::milog::MiLogStream *)&var170.timer_ptr_,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "onHomeSceneJumpReq",
          531);
        v24 = common::milog::MiLogStream::operator<<<char [47],(char *[47])0>(
                (common::milog::MiLogStream *const)&var170.timer_ptr_,
                (const char (*)[47])"jumpToSceneBornPosition failed, dest_scene_id:");
        v25 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(p_M_rehash_policy + 160));
        val = Scene::getSceneId(v25);
        v26 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v24, &val);
        v27 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v26, (const char (*)[6])" ret:");
        common::milog::MiLogStream::operator<<<int,(int *)0>(v27, (const int *)(p_M_rehash_policy + 32));
        common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)&var170.timer_ptr_);
        v10 = *(_DWORD *)(p_M_rehash_policy + 32);
      }
      else
      {
        v10 = 0;
      }
    }
    goto LABEL_40;
  }
  common::milog::MiLogStream::create(
    (common::milog::MiLogStream *)&var170.timer_ptr_,
    &common::milog::MiLogDefault::default_log_obj_,
    3u,
    "./src/handler/player_home_handler.cpp",
    "onHomeSceneJumpReq",
    493);
  common::milog::MiLogStream::operator<<<char [25],(char *[25])0>(
    (common::milog::MiLogStream *const)&var170.timer_ptr_,
    (const char (*)[25])"cur_scene_ptr is nullptr");
  common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)&var170.timer_ptr_);
  v10 = -1;
LABEL_41:
  std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(p_M_rehash_policy + 128));
LABEL_42:
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(p_M_rehash_policy + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(p_M_rehash_policy + 64));
  result = v10;
  if ( &var170.slot_info_map_._M_h._M_rehash_policy == (std::__detail::_Prime_rehash_policy *)p_M_rehash_policy )
  {
    *(_QWORD *)((p_M_rehash_policy >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((p_M_rehash_policy >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((p_M_rehash_policy >> 3) + 0x7FFF8010) = 0LL;
  }
  else
  {
    *(_QWORD *)p_M_rehash_policy = 1172321806LL;
    *(_QWORD *)((p_M_rehash_policy >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((p_M_rehash_policy >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((p_M_rehash_policy >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 539: range 0000000017C9BD8C-0000000017C9C394
int32_t __cdecl PlayerHomeHandler::onHomeChangeEditModeReq(
        PlayerHomeHandler *const this,
        const proto::HomeChangeEditModeReq *req,
        proto::HomeChangeEditModeRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  bool is_enter_edit_mode; // dl
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  PlayerBasicComp *BasicComp; // rax
  char v11; // r14
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v12; // rax
  bool v13; // r15
  Home *v14; // rax
  HomeBasicComp *v15; // rax
  bool v16; // r14
  common::milog::MiLogStream *v17; // r14
  Home *v18; // rax
  HomeBasicComp *v19; // rax
  bool v20; // al
  common::milog::MiLogStream *v21; // rax
  common::milog::MiLogStream *v22; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v23; // rax
  Home *v24; // rax
  HomeBasicComp *v25; // rax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v26; // rax
  Home *v28; // r15
  Player *player; // r14
  bool v30; // al
  Home *v31; // rax
  int32_t result; // eax
  unsigned int val; // [rsp+2Ch] [rbp-E4h] BYREF
  std::shared_ptr<Config> v35; // [rsp+30h] [rbp-E0h] BYREF
  common::milog::MiLogStream v36; // [rsp+40h] [rbp-D0h] BYREF
  char v37[176]; // [rsp+60h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v37;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 7 ret:544 64 16 18 home_world_ptr:542 96 16 12 home_ptr:543";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeChangeEditModeReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  is_enter_edit_mode = proto::HomeChangeEditModeReq::is_enter_edit_mode(req);
  proto::HomeChangeEditModeRsp::set_is_enter_edit_mode(rsp_0, is_enter_edit_mode);
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  *(_DWORD *)(v3 + 48) = PlayerHomeHandler::changeHomeCommonCheck(this, (HomeWorldPtr *)(v3 + 64), (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v36,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeChangeEditModeReq",
      547);
    v8 = common::milog::MiLogStream::operator<<<char [35],(char *[35])0>(
           &v36,
           (const char (*)[35])"changeHomeCommonCheck failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v36);
    if ( *(_DWORD *)(v3 + 48) )
      v9 = *(_DWORD *)(v3 + 48);
    else
      v9 = -1;
  }
  else
  {
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    BasicComp = Player::getBasicComp(this->player_);
    if ( !PlayerBasicComp::isStateOpen(BasicComp, 0x5E0u) )
    {
      v9 = 141;
    }
    else
    {
      v11 = 0;
      v13 = 0;
      if ( proto::HomeChangeEditModeReq::is_enter_edit_mode(req) )
      {
        ServiceBox::findService<GameserverService>();
        GameserverService::getConfig((GameserverService *const)&v35);
        v11 = 1;
        v12 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v35);
        if ( FeatureSwitchMgr::isHomeEditModeClosed(&v12->feature_switch_mgr) )
          v13 = 1;
      }
      if ( v11 )
        std::shared_ptr<Config>::~shared_ptr(&v35);
      if ( v13 )
      {
        common::milog::MiLogStream::create(
          &v36,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeChangeEditModeReq",
          558);
        common::milog::MiLogStream::operator()(&v36, "[FEATURE_SWITCH] FEATURE_SWITCH_HOME_EDIT_MODE is closed");
        common::milog::MiLogStream::~MiLogStream(&v36);
        v9 = 142;
      }
      else
      {
        v14 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
        v15 = Home::getBasicComp(v14);
        v16 = HomeBasicComp::getIsInEditMode(v15);
        if ( v16 == proto::HomeChangeEditModeReq::is_enter_edit_mode(req) )
        {
          common::milog::MiLogStream::create(
            &v36,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeChangeEditModeReq",
            564);
          v17 = common::milog::MiLogStream::operator<<<char [32],(char *[32])0>(
                  &v36,
                  (const char (*)[32])"edit mode not change. cur_mode:");
          v18 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          v19 = Home::getBasicComp(v18);
          v20 = HomeBasicComp::getIsInEditMode(v19);
          v21 = common::milog::MiLogStream::operator<<(v17, v20);
          v22 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v21, (const char (*)[11])" home_uid:");
          v23 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          val = Home::getHomeUid(v23);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v22, &val);
          common::milog::MiLogStream::~MiLogStream(&v36);
          v24 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          v25 = Home::getBasicComp(v24);
          if ( HomeBasicComp::getIsInEditMode(v25) )
            v9 = 9708;
          else
            v9 = 0;
        }
        else if ( proto::HomeChangeEditModeReq::is_enter_edit_mode(req)
               && (v26 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96)),
                   Home::isInEditModeCD(v26)) )
        {
          v9 = 9731;
        }
        else
        {
          v28 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          player = this->player_;
          v30 = proto::HomeChangeEditModeReq::is_enter_edit_mode(req);
          Home::changeEditMode(v28, v30, player);
          v31 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          Home::updateEditModeCD(v31);
          v9 = 0;
        }
      }
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v37 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 589: range 0000000017C9C396-0000000017C9C894
int32_t __cdecl PlayerHomeHandler::onHomeEnterEditModeFinishReq(
        PlayerHomeHandler *const this,
        const proto::HomeEnterEditModeFinishReq *req,
        proto::HomeEnterEditModeFinishRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  common::milog::MiLogStream *v7; // rax
  int32_t v8; // r14d
  PlayerBasicComp *BasicComp; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  bool isHomeEditModeClosed; // r14
  Home *v12; // rax
  HomeBasicComp *v13; // rax
  common::milog::MiLogStream *v14; // r14
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v17; // rax
  HomeWorld *v18; // rax
  int32_t result; // eax
  bool is_in_edit_mode; // [rsp+27h] [rbp-E9h]
  unsigned int val; // [rsp+28h] [rbp-E8h] BYREF
  unsigned int HomeUid; // [rsp+2Ch] [rbp-E4h] BYREF
  std::shared_ptr<Config> v23; // [rsp+30h] [rbp-E0h] BYREF
  common::milog::MiLogStream v24; // [rsp+40h] [rbp-D0h] BYREF
  char v25[176]; // [rsp+60h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v25;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 7 ret:593 64 16 18 home_world_ptr:591 96 16 12 home_ptr:592";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeEnterEditModeFinishReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  *(_DWORD *)(v3 + 48) = PlayerHomeHandler::changeHomeCommonCheck(this, (HomeWorldPtr *)(v3 + 64), (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v24,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeEnterEditModeFinishReq",
      596);
    v7 = common::milog::MiLogStream::operator<<<char [35],(char *[35])0>(
           &v24,
           (const char (*)[35])"changeHomeCommonCheck failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v7, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v24);
    if ( *(_DWORD *)(v3 + 48) )
      v8 = *(_DWORD *)(v3 + 48);
    else
      v8 = -1;
  }
  else
  {
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    BasicComp = Player::getBasicComp(this->player_);
    if ( !PlayerBasicComp::isStateOpen(BasicComp, 0x5E0u) )
    {
      v8 = 141;
    }
    else
    {
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)&v23);
      v10 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v23);
      isHomeEditModeClosed = FeatureSwitchMgr::isHomeEditModeClosed(&v10->feature_switch_mgr);
      std::shared_ptr<Config>::~shared_ptr(&v23);
      if ( isHomeEditModeClosed )
      {
        common::milog::MiLogStream::create(
          &v24,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeEnterEditModeFinishReq",
          605);
        common::milog::MiLogStream::operator()(&v24, "[FEATURE_SWITCH] FEATURE_SWITCH_HOME_EDIT_MODE is closed");
        common::milog::MiLogStream::~MiLogStream(&v24);
        v8 = 142;
      }
      else
      {
        v12 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
        v13 = Home::getBasicComp(v12);
        is_in_edit_mode = HomeBasicComp::getIsInEditMode(v13);
        if ( !is_in_edit_mode )
        {
          common::milog::MiLogStream::create(
            &v24,
            &common::milog::MiLogDefault::default_log_obj_,
            3u,
            "./src/handler/player_home_handler.cpp",
            "onHomeEnterEditModeFinishReq",
            613);
          v14 = common::milog::MiLogStream::operator<<<char [50],(char *[50])0>(
                  &v24,
                  (const char (*)[50])"enter edit mode finish but not in edit mode, uid:");
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          val = Player::getUid(this->player_);
          v15 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, &val);
          v16 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v15, (const char (*)[12])", home_uid:");
          v17 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          HomeUid = Home::getHomeUid(v17);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v16, &HomeUid);
          common::milog::MiLogStream::~MiLogStream(&v24);
          v8 = 9709;
        }
        else
        {
          v18 = std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 64));
          HomeWorld::refreshArrangement(v18, is_in_edit_mode);
          v8 = 0;
        }
      }
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v8;
  if ( v25 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 624: range 0000000017C9C896-0000000017C9D63E
int32_t __cdecl PlayerHomeHandler::onHomeChangeModuleReq(
        PlayerHomeHandler *const this,
        const proto::HomeChangeModuleReq *req,
        proto::HomeChangeModuleRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  common::milog::MiLogStream *v7; // rax
  int32_t v8; // r14d
  Home *v9; // rax
  HomeBasicComp *BasicComp; // rax
  Home *v11; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v12; // rax
  bool isHomeModuleClosed; // r14
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v15; // rax
  PlayerSceneComp *SceneComp; // rax
  common::milog::MiLogStream *v17; // rax
  PlayerBasicComp *v18; // rax
  Home *v19; // rax
  HomeSceneComp *v20; // rax
  common::milog::MiLogStream *v21; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v22; // rax
  common::milog::MiLogStream *v23; // rax
  common::milog::MiLogStream *v24; // rax
  Home *v25; // rax
  HomeLimitedShopComp *HomeLimitedShopComp; // rcx
  std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v27; // r14
  Home *v28; // rax
  HomeBasicComp *v29; // rax
  uint32_t Level; // eax
  std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v31; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v32; // rax
  Player *player; // r14
  PlayerHomeComp *v34; // rax
  Home *v35; // rcx
  PlayerHomeComp *v36; // rax
  HomeAvatar *HomeAvatar; // rax
  unsigned __int64 v38; // rax
  unsigned __int64 v39; // rdx
  uint32_t v40; // eax
  PlayerSceneComp *v41; // r14
  Scene *v42; // rax
  common::milog::MiLogStream *v43; // rax
  common::milog::MiLogStream *v44; // rax
  common::milog::MiLogStream *v45; // rax
  int32_t result; // eax
  std::string v47; // [rsp+0h] [rbp-1B0h]
  PlayerHomeHandler *thisa; // [rsp+18h] [rbp-198h]
  google::protobuf::uint32 old_module_id; // [rsp+2Ch] [rbp-184h]
  std::shared_ptr<google::protobuf::Message> p_body_ptr; // [rsp+30h] [rbp-180h] BYREF
  common::milog::MiLogStream v51; // [rsp+40h] [rbp-170h] BYREF
  TransferReason p_reason; // [rsp+60h] [rbp-150h] BYREF
  char v53[272]; // [rsp+A0h] [rbp-110h] BYREF

  *(&v47._anon_0._M_allocated_capacity + 1) = (std::string::size_type)this;
  v47._anon_0._M_allocated_capacity = (std::string::size_type)req;
  v47._M_string_length = (std::string::size_type)rsp_0;
  v3 = (unsigned __int64)v53;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_2(224LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "8 32 1 10 holder:665 48 4 20 target_module_id:625 64 4 7 ret:630 80 4 17 dest_scene_id:685 96 16"
                        " 18 home_world_ptr:628 128 16 12 home_ptr:629 160 16 11 log_ptr:675 192 16 18 dest_scene_ptr:686";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeChangeModuleReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556927;
  v5[536862722] = -234556924;
  v5[536862723] = -219021312;
  v5[536862724] = -219021312;
  v5[536862725] = -219021312;
  v5[536862726] = -202178560;
  *(_DWORD *)(v3 + 48) = proto::HomeChangeModuleReq::target_module_id(req);
  proto::HomeChangeModuleRsp::set_target_module_id(
    (proto::HomeChangeModuleRsp *const)v47._M_string_length,
    *(_DWORD *)(v3 + 48));
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 128), 0LL);
  *(_DWORD *)(v3 + 64) = PlayerHomeHandler::changeHomeCommonCheck(
                           this,
                           (HomeWorldPtr *)(v3 + 96),
                           (HomePtr *)(v3 + 128));
  if ( *(_DWORD *)(v3 + 64)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 96), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 128), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v51,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeChangeModuleReq",
      633);
    v7 = common::milog::MiLogStream::operator<<<char [35],(char *[35])0>(
           &v51,
           (const char (*)[35])"changeHomeCommonCheck failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v7, (const int *)(v3 + 64));
    common::milog::MiLogStream::~MiLogStream(&v51);
    if ( *(_DWORD *)(v3 + 64) )
      v8 = *(_DWORD *)(v3 + 64);
    else
      v8 = -1;
  }
  else
  {
    v9 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
    BasicComp = Home::getBasicComp(v9);
    if ( HomeBasicComp::getIsInEditMode(BasicComp) )
    {
      common::milog::MiLogStream::create(
        &v51,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeChangeModuleReq",
        638);
      common::milog::MiLogStream::operator<<<char [14],(char *[14])0>(&v51, (const char (*)[14])"in edit mode.");
      common::milog::MiLogStream::~MiLogStream(&v51);
      v8 = 9708;
    }
    else
    {
      v11 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
      old_module_id = Home::getCurModuleId(v11);
      if ( old_module_id == *(_DWORD *)(v3 + 48) )
      {
        common::milog::MiLogStream::create(
          &v51,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeChangeModuleReq",
          645);
        common::milog::MiLogStream::operator()(&v51, "module_id:%u not change", *(unsigned int *)(v3 + 48));
        common::milog::MiLogStream::~MiLogStream(&v51);
        v8 = 9702;
      }
      else
      {
        ServiceBox::findService<GameserverService>();
        GameserverService::getConfig((GameserverService *const)(v3 + 192));
        v12 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 192));
        isHomeModuleClosed = FeatureSwitchMgr::isHomeModuleClosed(&v12->feature_switch_mgr, *(_DWORD *)(v3 + 48));
        std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v3 + 192));
        if ( isHomeModuleClosed )
        {
          common::milog::MiLogStream::create(
            &v51,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeChangeModuleReq",
            651);
          common::milog::MiLogStream::operator()(
            &v51,
            "[FEATURE_SWITCH] module_id:%u is feature closed",
            *(unsigned int *)(v3 + 48));
          common::milog::MiLogStream::~MiLogStream(&v51);
          v8 = 142;
        }
        else
        {
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          HomeComp = Player::getHomeComp(this->player_);
          if ( !PlayerHomeComp::isHomeModuleUnlocked(HomeComp, *(_DWORD *)(v3 + 48)) )
          {
            common::milog::MiLogStream::create(
              &v51,
              &common::milog::MiLogDefault::default_log_obj_,
              1u,
              "./src/handler/player_home_handler.cpp",
              "onHomeChangeModuleReq",
              657);
            v15 = common::milog::MiLogStream::operator<<<char [42],(char *[42])0>(
                    &v51,
                    (const char (*)[42])"module is not unlocked. target_module_id:");
            common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v15, (const unsigned int *)(v3 + 48));
            common::milog::MiLogStream::~MiLogStream(&v51);
            v8 = 9726;
          }
          else
          {
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            SceneComp = Player::getSceneComp(this->player_);
            if ( PlayerSceneComp::isInTransfer(SceneComp) )
            {
              common::milog::MiLogStream::create(
                &v51,
                &common::milog::MiLogDefault::default_log_obj_,
                1u,
                "./src/handler/player_home_handler.cpp",
                "onHomeChangeModuleReq",
                662);
              v17 = common::milog::MiLogStream::operator<<<char [39],(char *[39])0>(
                      &v51,
                      (const char (*)[39])"player isInTransfer. target_module_id:");
              common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v17,
                (const unsigned int *)(v3 + 48));
              common::milog::MiLogStream::~MiLogStream(&v51);
              v8 = 9747;
            }
            else
            {
              if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                __asan_report_load8();
              v18 = Player::getBasicComp(this->player_);
              PlayerBasicComp::getNextTransNo[abi:cxx11]((std::string *)&v51, v18);
              StatLogUtils::ContextHolder::ContextHolder((StatLogUtils::ContextHolder *const)(v3 + 32), 0xCE8u, v47);
              std::string::~string(&v51);
              v19 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
              v20 = Home::getSceneComp(v19);
              *(_DWORD *)(v3 + 64) = HomeSceneComp::changeCurModule(v20, *(_DWORD *)(v3 + 48));
              if ( *(_DWORD *)(v3 + 64) )
              {
                common::milog::MiLogStream::create(
                  &v51,
                  &common::milog::MiLogDefault::default_log_obj_,
                  4u,
                  "./src/handler/player_home_handler.cpp",
                  "onHomeChangeModuleReq",
                  670);
                v21 = common::milog::MiLogStream::operator<<<char [33],(char *[33])0>(
                        &v51,
                        (const char (*)[33])"onChangeModule failed. home_uid:");
                v22 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                *(_DWORD *)(v3 + 80) = Home::getHomeUid(v22);
                v23 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                        v21,
                        (const unsigned int *)(v3 + 80));
                v24 = common::milog::MiLogStream::operator<<<char [19],(char *[19])0>(
                        v23,
                        (const char (*)[19])" target_module_id:");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v24,
                  (const unsigned int *)(v3 + 48));
                common::milog::MiLogStream::~MiLogStream(&v51);
                v8 = *(_DWORD *)(v3 + 64);
              }
              else
              {
                v25 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                HomeLimitedShopComp = Home::getHomeLimitedShopComp(v25);
                if ( *(_BYTE *)(((unsigned __int64)&thisa->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                HomeLimitedShopComp::notifyShopInfo(HomeLimitedShopComp, thisa->player_);
                common::tools::perf::make_shared<proto_log::PlayerLogBodyChangeHomeModule>();
                v27 = std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
                v28 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                v29 = Home::getBasicComp(v28);
                Level = HomeBasicComp::getLevel(v29);
                proto_log::PlayerLogBodyChangeHomeModule::set_home_level(v27, Level);
                v31 = std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
                proto_log::PlayerLogBodyChangeHomeModule::set_module_id_before(v31, old_module_id);
                v32 = std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyChangeHomeModule,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
                proto_log::PlayerLogBodyChangeHomeModule::set_module_id_after(v32, *(_DWORD *)(v3 + 48));
                if ( *(_BYTE *)(((unsigned __int64)&thisa->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                player = thisa->player_;
                std::shared_ptr<google::protobuf::Message>::shared_ptr(
                  (std::shared_ptr<google::protobuf::Message> *const)(v3 + 192),
                  0LL);
                std::shared_ptr<google::protobuf::Message>::shared_ptr<proto_log::PlayerLogBodyChangeHomeModule,void>(
                  &p_body_ptr,
                  (const std::shared_ptr<proto_log::PlayerLogBodyChangeHomeModule> *)(v3 + 160));
                Player::printStatLog(player, &p_body_ptr, (MessagePtr *)(v3 + 192), 0xEu);
                std::shared_ptr<google::protobuf::Message>::~shared_ptr(&p_body_ptr);
                std::shared_ptr<google::protobuf::Message>::~shared_ptr((std::shared_ptr<google::protobuf::Message> *const)(v3 + 192));
                if ( *(_BYTE *)(((unsigned __int64)&thisa->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                v34 = Player::getHomeComp(thisa->player_);
                PlayerHomeComp::sendFurnitureCurModuleArrangeCountNotify(v34);
                v35 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                if ( *(_BYTE *)(((unsigned __int64)&thisa->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                Home::notifyHomeComfortInfo(v35, thisa->player_);
                if ( *(_BYTE *)(((unsigned __int64)&thisa->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                v36 = Player::getHomeComp(thisa->player_);
                HomeAvatar = PlayerHomeComp::getHomeAvatar(v36);
                HomeAvatar::updateAvatarsAction(HomeAvatar);
                v38 = (unsigned __int64)std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
                if ( *(_BYTE *)((v38 >> 3) + 0x7FFF8000) )
                  v38 = __asan_report_load8();
                v39 = *(_QWORD *)v38 + 72LL;
                if ( *(_BYTE *)((v39 >> 3) + 0x7FFF8000) )
                  v38 = __asan_report_load8();
                *(_DWORD *)(v3 + 80) = (*(__int64 (__fastcall **)(unsigned __int64))v39)(v38);
                v40 = (unsigned int)std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
                World::findScene((World *const)(v3 + 192), v40);
                if ( std::operator==<Scene>((const std::shared_ptr<Scene> *)(v3 + 192), 0LL) )
                {
                  common::milog::MiLogStream::create(
                    &v51,
                    &common::milog::MiLogDefault::default_log_obj_,
                    4u,
                    "./src/handler/player_home_handler.cpp",
                    "onHomeChangeModuleReq",
                    689);
                  common::milog::MiLogStream::operator()(
                    &v51,
                    "home_world_ptr->findScene() failed. scene_id:%u",
                    *(unsigned int *)(v3 + 80));
                  common::milog::MiLogStream::~MiLogStream(&v51);
                  v8 = -1;
                }
                else
                {
                  if ( *(_BYTE *)(((unsigned __int64)&thisa->player_ >> 3) + 0x7FFF8000) )
                    __asan_report_load8();
                  v41 = Player::getSceneComp(thisa->player_);
                  TransferReason::TransferReason(&p_reason, ENTER_REASON_CHANGE_HOME_MODULE);
                  v42 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 192));
                  *(_DWORD *)(v3 + 64) = PlayerSceneComp::jumpToSceneBornPosition(v41, v42, &p_reason);
                  TransferReason::~TransferReason(&p_reason);
                  if ( *(_DWORD *)(v3 + 64) )
                  {
                    common::milog::MiLogStream::create(
                      &v51,
                      &common::milog::MiLogDefault::default_log_obj_,
                      3u,
                      "./src/handler/player_home_handler.cpp",
                      "onHomeChangeModuleReq",
                      696);
                    v43 = common::milog::MiLogStream::operator<<<char [47],(char *[47])0>(
                            &v51,
                            (const char (*)[47])"jumpToSceneBornPosition failed, dest_scene_id:");
                    v44 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                            v43,
                            (const unsigned int *)(v3 + 80));
                    v45 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v44, (const char (*)[6])" ret:");
                    common::milog::MiLogStream::operator<<<int,(int *)0>(v45, (const int *)(v3 + 64));
                    common::milog::MiLogStream::~MiLogStream(&v51);
                    v8 = *(_DWORD *)(v3 + 64);
                  }
                  else
                  {
                    v8 = 0;
                  }
                }
                std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v3 + 192));
                std::shared_ptr<proto_log::PlayerLogBodyChangeHomeModule>::~shared_ptr((std::shared_ptr<proto_log::PlayerLogBodyChangeHomeModule> *const)(v3 + 160));
              }
              StatLogUtils::ContextHolder::~ContextHolder((StatLogUtils::ContextHolder *const)(v3 + 32));
            }
          }
        }
      }
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 128));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96));
  result = v8;
  if ( v53 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8018) = 0;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8018) = -168430091;
  }
  return result;
};

// Line 704: range 0000000017C9D640-0000000017C9DE7A
int32_t __cdecl PlayerHomeHandler::onHomeGetArrangementInfoReq(
        PlayerHomeHandler *const this,
        const proto::HomeGetArrangementInfoReq *req,
        proto::HomeGetArrangementInfoRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  Home *v10; // rax
  common::milog::MiLogStream *v11; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v12; // rax
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v13; // rax
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v14; // rax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v15; // rax
  __int64 HomeUid; // rcx
  HomeSceneData *p_second; // r14
  proto::HomeSceneArrangementInfo *v18; // rax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v19; // rax
  __int64 v20; // rcx
  common::milog::MiLogStream *v21; // rax
  common::milog::MiLogStream *v22; // rax
  common::milog::MiLogStream *v23; // r14
  int32_t result; // eax
  unsigned int val; // [rsp+24h] [rbp-19Ch] BYREF
  std::_Rb_tree_iterator<std::pair<unsigned int const,HomeSceneData> >::_Self __y; // [rsp+28h] [rbp-198h] BYREF
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_begin; // [rsp+30h] [rbp-190h]
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_begin_0; // [rsp+38h] [rbp-188h]
  const google::protobuf::RepeatedField<unsigned int> *__for_range; // [rsp+40h] [rbp-180h]
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_end; // [rsp+48h] [rbp-178h]
  const unsigned int *scene_id; // [rsp+50h] [rbp-170h]
  const google::protobuf::RepeatedField<unsigned int> *__for_range_0; // [rsp+58h] [rbp-168h]
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_end_0; // [rsp+60h] [rbp-160h]
  const unsigned int *scene_id_0; // [rsp+68h] [rbp-158h]
  common::milog::MiLogStream v36; // [rsp+70h] [rbp-150h] BYREF
  char v37[304]; // [rsp+90h] [rbp-130h] BYREF

  v3 = (unsigned __int64)v37;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_2(256LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "6 48 4 7 ret:707 64 8 8 iter:722 96 16 18 home_world_ptr:705 128 16 12 home_ptr:706 160 16 24 ho"
                        "me_module_data_ptr:714 192 24 16 scene_id_vec:736";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeGetArrangementInfoReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -218959360;
  v5[536862723] = -219021312;
  v5[536862724] = -219021312;
  v5[536862725] = -219021312;
  v5[536862726] = -218103808;
  v5[536862727] = -202116109;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 128), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 96),
                           (HomePtr *)(v3 + 128));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 96), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 128), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v36,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeGetArrangementInfoReq",
      710);
    v8 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
           &v36,
           (const char (*)[36])"getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v36);
    if ( *(_DWORD *)(v3 + 48) )
      v9 = *(_DWORD *)(v3 + 48);
    else
      v9 = -1;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
    Home::getSceneComp(v10);
    HomeSceneComp::getCurHomeModuleData((HomeSceneComp *const)(v3 + 160));
    if ( std::operator==<HomeModuleData>((const std::shared_ptr<HomeModuleData> *)(v3 + 160), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v36,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "onHomeGetArrangementInfoReq",
        717);
      v11 = common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
              &v36,
              (const char (*)[46])"getCurHomeModuleData() return null. home_uid:");
      v12 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
      val = Home::getHomeUid(v12);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v11, &val);
      common::milog::MiLogStream::~MiLogStream(&v36);
      v9 = 9701;
    }
    else
    {
      __for_range = proto::HomeGetArrangementInfoReq::scene_id_list(req);
      __for_begin = google::protobuf::RepeatedField<unsigned int>::begin(__for_range);
      __for_end = google::protobuf::RepeatedField<unsigned int>::end(__for_range);
      while ( 1 )
      {
        if ( __for_begin == __for_end )
        {
          std::vector<unsigned int>::vector((std::vector<unsigned int> *const)(v3 + 192));
          __for_range_0 = proto::HomeGetArrangementInfoReq::scene_id_list(req);
          __for_begin_0 = google::protobuf::RepeatedField<unsigned int>::begin(__for_range_0);
          __for_end_0 = google::protobuf::RepeatedField<unsigned int>::end(__for_range_0);
          while ( __for_begin_0 != __for_end_0 )
          {
            scene_id_0 = __for_begin_0;
            std::vector<unsigned int>::push_back((std::vector<unsigned int> *const)(v3 + 192), __for_begin_0++);
          }
          common::milog::MiLogStream::create(
            &v36,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeGetArrangementInfoReq",
            741);
          v21 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                  &v36,
                  (const char (*)[24])"[ZT_PERF] scene_id_vec:");
          v22 = common::milog::MiLogStream::operator<<<unsigned int>(v21, (const std::vector<unsigned int> *)(v3 + 192));
          v23 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(v22, (const char (*)[10])", length:");
          __y._M_node = (std::_Rb_tree_iterator<std::pair<unsigned int const,HomeSceneData> >::_Base_ptr)proto::HomeGetArrangementInfoRsp::ByteSizeLong(rsp_0);
          common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(v23, (const unsigned __int64 *)&__y);
          common::milog::MiLogStream::~MiLogStream(&v36);
          v9 = 0;
          std::vector<unsigned int>::~vector((std::vector<unsigned int> *const)(v3 + 192));
          goto LABEL_32;
        }
        scene_id = __for_begin;
        v13 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        *(std::map<unsigned int,HomeSceneData>::iterator *)(v3 + 64) = std::map<unsigned int,HomeSceneData>::find(
                                                                         &v13->scene_data_map,
                                                                         scene_id);
        v14 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        __y._M_node = std::map<unsigned int,HomeSceneData>::end(&v14->scene_data_map)._M_node;
        if ( std::operator==(
               (const std::_Rb_tree_iterator<std::pair<unsigned int const,HomeSceneData> >::_Self *)(v3 + 64),
               &__y) )
        {
          common::milog::MiLogStream::create(
            &v36,
            &common::milog::MiLogDefault::default_log_obj_,
            3u,
            "./src/handler/player_home_handler.cpp",
            "onHomeGetArrangementInfoReq",
            725);
          v15 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
          HomeUid = Home::getHomeUid(v15);
          if ( *(_BYTE *)(((unsigned __int64)scene_id >> 3) + 0x7FFF8000) != 0
            && (char)(((unsigned __int8)scene_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)scene_id >> 3) + 0x7FFF8000) )
          {
            __asan_report_load4();
          }
          common::milog::MiLogStream::operator()(
            &v36,
            "scene_id:%u not find in scene_data_map. home_uid:%u",
            *scene_id,
            HomeUid);
          common::milog::MiLogStream::~MiLogStream(&v36);
          v9 = 9702;
          goto LABEL_32;
        }
        p_second = &std::_Rb_tree_iterator<std::pair<unsigned int const,HomeSceneData>>::operator->((const std::_Rb_tree_iterator<std::pair<unsigned int const,HomeSceneData> > *const)(v3 + 64))->second;
        v18 = proto::HomeGetArrangementInfoRsp::add_scene_arrangement_info_list(rsp_0);
        if ( HomeSceneData::toClient(p_second, v18) )
          break;
        ++__for_begin;
      }
      common::milog::MiLogStream::create(
        &v36,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "onHomeGetArrangementInfoReq",
        730);
      v19 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
      v20 = Home::getHomeUid(v19);
      if ( *(_BYTE *)(((unsigned __int64)scene_id >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)scene_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)scene_id >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      common::milog::MiLogStream::operator()(&v36, "scene_id:%u toClient failed. home_uid:%u", *scene_id, v20);
      common::milog::MiLogStream::~MiLogStream(&v36);
      v9 = 9701;
    }
LABEL_32:
    std::shared_ptr<HomeModuleData>::~shared_ptr((std::shared_ptr<HomeModuleData> *const)(v3 + 160));
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 128));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96));
  result = v9;
  if ( v37 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 748: range 0000000017C9DE7C-0000000017CA409F
int32_t __cdecl PlayerHomeHandler::checkArrangementData(
        PlayerHomeHandler *const this,
        HomeModuleDataPtr *module_data_ptr,
        const HomeSceneArrangementData *arrangement_data)
{
  int32_t v3; // r13d
  unsigned __int64 v4; // r14
  __int64 v5; // rax
  _DWORD *v6; // r12
  common::milog::MiLogStream *v7; // rax
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v8; // rax
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v9; // rax
  const HomeFurnitureData *v10; // rdx
  const HomeFurnitureData *v11; // rdx
  _BOOL4 v12; // r15d
  uint32_t v13; // eax
  int v14; // r15d
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v15; // rax
  common::milog::MiLogStream *v16; // rax
  common::milog::MiLogStream *v17; // rax
  common::milog::MiLogStream *v18; // rax
  common::milog::MiLogStream *v19; // rax
  common::milog::MiLogStream *v20; // rax
  common::milog::MiLogStream *v21; // rax
  HomeModuleData *v22; // rax
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v23; // rdx
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v24; // rdx
  bool *p_is_unlocked; // rax
  common::milog::MiLogStream *v26; // r15
  common::milog::MiLogStream *v27; // rax
  common::milog::MiLogStream *v28; // rax
  common::milog::MiLogStream *v29; // rax
  int v30; // r15d
  std::map<unsigned int,unsigned int>::mapped_type *v31; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v32; // rax
  const unsigned int *v33; // r8
  std::pair<std::__detail::_Node_iterator<std::pair<unsigned int const,unsigned int>,false,false>,bool> v34; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v35; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v36; // rax
  const unsigned int *v37; // r8
  std::pair<std::__detail::_Node_iterator<std::pair<unsigned int const,unsigned int>,false,false>,bool> v38; // rax
  HomeWorldExcelConfigMgr *p_home_config_mgr; // rcx
  common::milog::MiLogStream *v40; // r15
  common::milog::MiLogStream *v41; // rax
  common::milog::MiLogStream *v42; // r15
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v43; // rax
  common::milog::MiLogStream *v44; // rax
  common::milog::MiLogStream *v45; // rax
  common::milog::MiLogStream *v46; // rax
  common::milog::MiLogStream *v47; // rax
  common::milog::MiLogStream *v48; // rax
  common::milog::MiLogStream *v49; // rax
  common::milog::MiLogStream *v50; // rax
  common::milog::MiLogStream *v51; // rax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v52; // rax
  char v53; // al
  int v54; // r15d
  __int64 v55; // rcx
  __int64 v56; // rax
  __int64 v57; // rax
  __int64 v58; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v59; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v60; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v61; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v62; // rax
  HomeWorldExcelConfigMgr *v63; // rcx
  common::milog::MiLogStream *v64; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v65; // rdx
  int v66; // ecx
  std::map<unsigned int,unsigned int>::mapped_type *v67; // rdx
  unsigned int v68; // esi
  __int64 v69; // rcx
  HomeWorldExcelConfigMgr *v70; // rcx
  common::milog::MiLogStream *v71; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v72; // rdx
  int v73; // ecx
  std::map<unsigned int,unsigned int>::mapped_type *v74; // rdx
  unsigned int v75; // esi
  common::milog::MiLogStream *v76; // rax
  common::milog::MiLogStream *v77; // rax
  common::milog::MiLogStream *v78; // rax
  common::milog::MiLogStream *v79; // rax
  __gnu_cxx::__normal_iterator<int const*,std::vector<int> >::reference v80; // rdx
  std::vector<HomeFurnitureData>::size_type v81; // r15
  int v83; // r15d
  std::map<unsigned int,unsigned int>::mapped_type *v84; // rax
  common::milog::MiLogStream *v85; // rax
  common::milog::MiLogStream *v86; // rax
  common::milog::MiLogStream *v87; // rax
  common::milog::MiLogStream *v88; // rax
  common::milog::MiLogStream *v89; // rax
  int v90; // r15d
  std::map<unsigned int,unsigned int>::mapped_type *v91; // rdx
  common::milog::MiLogStream *v92; // rax
  common::milog::MiLogStream *v93; // rax
  common::milog::MiLogStream *v94; // rax
  common::milog::MiLogStream *v95; // rax
  common::milog::MiLogStream *v96; // r13
  std::map<unsigned int,unsigned int>::mapped_type *v97; // rax
  int v98; // r15d
  int v99; // r15d
  common::milog::MiLogStream *v101; // rax
  common::milog::MiLogStream *v102; // rax
  common::milog::MiLogStream *v103; // rax
  common::milog::MiLogStream *v104; // rax
  common::milog::MiLogStream *v105; // r13
  common::milog::MiLogStream *v106; // rax
  common::milog::MiLogStream *v107; // r13
  common::milog::MiLogStream *v108; // rax
  common::milog::MiLogStream *v109; // rax
  common::milog::MiLogStream *v110; // rax
  common::milog::MiLogStream *v111; // rax
  std::unordered_map<unsigned int,unsigned int>::mapped_type *v112; // rdx
  int v113; // ecx
  common::milog::MiLogStream *v114; // rax
  common::milog::MiLogStream *v115; // rax
  common::milog::MiLogStream *v116; // rax
  common::milog::MiLogStream *v117; // rax
  common::milog::MiLogStream *v118; // r13
  std::unordered_map<unsigned int,unsigned int>::mapped_type *v119; // rax
  HomeWorldExcelConfigMgr *v120; // rcx
  common::milog::MiLogStream *v121; // rax
  common::milog::MiLogStream *v122; // rax
  common::milog::MiLogStream *v123; // rax
  common::milog::MiLogStream *v124; // rax
  common::milog::MiLogStream *v125; // r13
  std::unordered_map<unsigned int,unsigned int>::mapped_type *v126; // rax
  std::vector<HomeBlockSubFieldData>::size_type v127; // rcx
  common::milog::MiLogStream *v128; // rax
  common::milog::MiLogStream *v129; // rax
  common::milog::MiLogStream *v130; // rax
  common::milog::MiLogStream *v131; // rax
  common::milog::MiLogStream *v132; // r13
  std::unordered_map<unsigned int,unsigned int>::mapped_type *v133; // rax
  common::milog::MiLogStream *v134; // rax
  common::milog::MiLogStream *v135; // r13
  std::vector<HomeFurnitureData>::size_type group_furniture_index; // r15
  common::milog::MiLogStream *v137; // rax
  common::milog::MiLogStream *v138; // rax
  common::milog::MiLogStream *v139; // r13
  std::vector<HomeFurnitureData> *p_deploy_furniure_vec; // rcx
  std::pair<std::_Rb_tree_const_iterator<unsigned int>,bool> v141; // rax
  common::milog::MiLogStream *v142; // rax
  common::milog::MiLogStream *v143; // rax
  HomeWorldExcelConfigMgr *v144; // rcx
  common::milog::MiLogStream *v145; // rax
  common::milog::MiLogStream *v146; // rax
  common::milog::MiLogStream *v147; // rax
  common::milog::MiLogStream *v148; // rax
  common::milog::MiLogStream *v149; // rax
  common::milog::MiLogStream *v150; // rax
  common::milog::MiLogStream *v151; // rax
  common::milog::MiLogStream *v152; // rax
  common::milog::MiLogStream *v153; // rax
  common::milog::MiLogStream *v154; // rax
  std::vector<HomeFurnitureData>::size_type v155; // r15
  common::milog::MiLogStream *v156; // r13
  common::milog::MiLogStream *v157; // rax
  common::milog::MiLogStream *v158; // r13
  common::milog::MiLogStream *v159; // rax
  common::milog::MiLogStream *v160; // rax
  common::milog::MiLogStream *v161; // rax
  common::milog::MiLogStream *v162; // rax
  common::milog::MiLogStream *v163; // rax
  double v164; // xmm0_8
  char v165; // al
  common::milog::MiLogStream *v166; // rax
  common::milog::MiLogStream *v167; // rax
  common::milog::MiLogStream *v168; // rax
  common::milog::MiLogStream *v169; // rax
  common::milog::MiLogStream *v170; // rax
  common::milog::MiLogStream *v171; // rax
  int v172; // r15d
  std::vector<HomeFurnitureCustomSuiteData>::size_type v173; // r15
  common::milog::MiLogStream *v175; // rax
  std::vector<int>::size_type v176; // r15
  common::milog::MiLogStream *v177; // rax
  __gnu_cxx::__normal_iterator<int const*,std::vector<int> >::reference v178; // rdx
  std::pair<std::_Rb_tree_const_iterator<int>,bool> v179; // rax
  common::milog::MiLogStream *v180; // rax
  common::milog::MiLogStream *v181; // rax
  common::milog::MiLogStream *v182; // rax
  std::vector<HomeFurnitureData>::size_type v183; // r15
  common::milog::MiLogStream *v185; // rax
  common::milog::MiLogStream *v186; // rax
  common::milog::MiLogStream *v187; // rax
  HomeWorldExcelConfigMgr *v188; // rcx
  const std::set<data::FurnitureDeploySurfaceType> *HomeFurnitureCustomSuiteForbiddenTypeSet; // rax
  common::milog::MiLogStream *v190; // rax
  common::milog::MiLogStream *v191; // rax
  common::milog::MiLogStream *v192; // rax
  int v193; // r15d
  int v194; // r15d
  int v195; // r15d
  const HomeFurnitureData *v196; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v197; // rdx
  common::milog::MiLogStream *v198; // rax
  common::milog::MiLogStream *v199; // rax
  common::milog::MiLogStream *v200; // r13
  const HomeFurnitureData *v201; // rax
  common::milog::MiLogStream *v202; // rax
  common::milog::MiLogStream *v203; // r13
  const HomeFurnitureData *v204; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v205; // rax
  bool *v206; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v207; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v208; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v209; // rax
  common::milog::MiLogStream *v210; // rax
  common::milog::MiLogStream *v211; // rax
  common::milog::MiLogStream *v212; // r13
  uint32_t v213; // ecx
  uint32_t v214; // esi
  __int64 v215; // rcx
  HomeWorldExcelConfigMgr *v216; // rcx
  common::milog::MiLogStream *v217; // rax
  uint32_t AvatarComp; // ecx
  bool v219; // r13
  common::milog::MiLogStream *v220; // rax
  PlayerHomeComp *HomeComp; // rax
  PlayerHomeComp *v222; // rax
  uint32_t HomeLevel; // eax
  PlayerBasicComp *BasicComp; // rax
  char v225; // al
  common::milog::MiLogStream *v226; // r13
  uint32_t bgm_id; // r13d
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v228; // rdi
  common::milog::MiLogStream *v229; // rax
  common::milog::MiLogStream *v230; // rax
  common::milog::MiLogStream *v231; // rax
  common::milog::MiLogStream *v232; // rax
  common::milog::MiLogStream *v233; // rcx
  Player *player; // r13
  bool is_first_furniture; // [rsp+26h] [rbp-95Ah]
  bool is_furniture_suite_virtual_root; // [rsp+27h] [rbp-959h]
  uint32_t another_scene_id; // [rsp+28h] [rbp-958h]
  uint32_t total_avatar_count; // [rsp+2Ch] [rbp-954h]
  uint32_t module_world_scene_id; // [rsp+30h] [rbp-950h]
  uint32_t module_room_scene_id; // [rsp+34h] [rbp-94Ch]
  uint32_t room_scene_id; // [rsp+38h] [rbp-948h]
  int32_t ret; // [rsp+3Ch] [rbp-944h]
  int32_t reta; // [rsp+3Ch] [rbp-944h]
  float valid_cylinder_radius; // [rsp+40h] [rbp-940h]
  float valid_cylinder_height; // [rsp+44h] [rbp-93Ch]
  std::map<unsigned int,HomeBlockData>::const_iterator __for_begin; // [rsp+48h] [rbp-938h] BYREF
  std::map<unsigned int,HomeBlockData>::const_iterator __for_end; // [rsp+50h] [rbp-930h] BYREF
  std::vector<HomeFurnitureGroupData>::const_iterator __for_begin_0; // [rsp+58h] [rbp-928h] BYREF
  std::vector<HomeFurnitureCustomSuiteData>::const_iterator __for_end_1; // [rsp+60h] [rbp-920h] BYREF
  std::vector<HomeFurnitureData>::const_iterator __for_begin_1; // [rsp+68h] [rbp-918h] BYREF
  std::vector<HomeFurnitureData>::const_iterator __for_end_0; // [rsp+70h] [rbp-910h] BYREF
  const TxtConfigMgr *txt_config_mgr; // [rsp+78h] [rbp-908h]
  const JsonConfigMgr *json_config_mgr; // [rsp+80h] [rbp-900h]
  HomeSceneData *another_scene_data_ptr; // [rsp+88h] [rbp-8F8h]
  PlayerHomeComp *player_home_comp; // [rsp+90h] [rbp-8F0h]
  PlayerHomeModule *player_home_module; // [rsp+98h] [rbp-8E8h]
  PlayerHomeScene *player_this_home_scene; // [rsp+A0h] [rbp-8E0h]
  const std::map<unsigned int,HomeBlockData> *__for_range; // [rsp+A8h] [rbp-8D8h]
  PlayerHomeScene *player_another_home_scene; // [rsp+B0h] [rbp-8D0h]
  std::map<unsigned int,HomeBlockData> *__for_range_13; // [rsp+B8h] [rbp-8C8h]
  const std::pair<unsigned int const,HomeBlockData> *v265; // [rsp+C0h] [rbp-8C0h]
  std::tuple_element<0,const std::pair<unsigned int const,HomeBlockData> >::type *block_id_0; // [rsp+C8h] [rbp-8B8h]
  std::tuple_element<1,const std::pair<unsigned int const,HomeBlockData> >::type *block_data_0; // [rsp+D0h] [rbp-8B0h]
  PlayerHomeBlock *player_home_block_0; // [rsp+D8h] [rbp-8A8h]
  const std::vector<HomeFurnitureData> *__for_range_14; // [rsp+E0h] [rbp-8A0h]
  const std::vector<HomeFurnitureData> *__for_range_15; // [rsp+E8h] [rbp-898h]
  const std::vector<HomeNpcData> *__for_range_16; // [rsp+F0h] [rbp-890h]
  const HomeNpcData *npc_0; // [rsp+F8h] [rbp-888h]
  const HomeFurnitureData *furniture_4; // [rsp+100h] [rbp-880h]
  const HomeFurnitureData *furniture_3; // [rsp+108h] [rbp-878h]
  std::map<unsigned int,unsigned int> *__for_range_17; // [rsp+110h] [rbp-870h]
  std::map<unsigned int,unsigned int> *__for_range_18; // [rsp+118h] [rbp-868h]
  const data::HomeworldLevelExcelConfig *home_level_config_ptr; // [rsp+120h] [rbp-860h]
  std::set<unsigned int> *__for_range_19; // [rsp+128h] [rbp-858h]
  const unsigned int *suite_id; // [rsp+130h] [rbp-850h]
  std::pair<unsigned int const,unsigned int> *v280; // [rsp+138h] [rbp-848h]
  std::tuple_element<0,std::pair<unsigned int const,unsigned int> >::type *avatar_id_0; // [rsp+140h] [rbp-840h]
  std::tuple_element<1,std::pair<unsigned int const,unsigned int> >::type *count_0; // [rsp+148h] [rbp-838h]
  std::pair<unsigned int const,unsigned int> *__in; // [rsp+158h] [rbp-828h]
  std::tuple_element<0,std::pair<unsigned int const,unsigned int> >::type *furniture_id; // [rsp+160h] [rbp-820h]
  std::tuple_element<1,std::pair<unsigned int const,unsigned int> >::type *count; // [rsp+168h] [rbp-818h]
  const std::pair<unsigned int const,HomeBlockData> *v287; // [rsp+170h] [rbp-810h]
  std::tuple_element<0,const std::pair<unsigned int const,HomeBlockData> >::type *block_id; // [rsp+178h] [rbp-808h]
  std::tuple_element<1,const std::pair<unsigned int const,HomeBlockData> >::type *block_data; // [rsp+180h] [rbp-800h]
  PlayerHomeBlock *player_home_block; // [rsp+188h] [rbp-7F8h]
  const std::vector<HomeFurnitureData> *__for_range_0; // [rsp+190h] [rbp-7F0h]
  const std::vector<HomeFurnitureData> *__for_range_1; // [rsp+198h] [rbp-7E8h]
  const std::vector<HomeNpcData> *__for_range_2; // [rsp+1A0h] [rbp-7E0h]
  const std::vector<HomeAnimalData> *__for_range_3; // [rsp+1A8h] [rbp-7D8h]
  std::map<unsigned int,unsigned int> *__for_range_4; // [rsp+1B0h] [rbp-7D0h]
  std::map<unsigned int,unsigned int> *__for_range_5; // [rsp+1B8h] [rbp-7C8h]
  const std::vector<HomeFurnitureSuiteData> *__for_range_6; // [rsp+1C0h] [rbp-7C0h]
  const std::vector<HomeBlockFieldData> *__for_range_8; // [rsp+1C8h] [rbp-7B8h]
  const std::vector<HomeFurnitureGroupData> *__for_range_9; // [rsp+1D0h] [rbp-7B0h]
  const std::vector<HomeFurnitureCustomSuiteData> *__for_range_11; // [rsp+1D8h] [rbp-7A8h]
  const HomeFurnitureCustomSuiteData *suite_0; // [rsp+1E0h] [rbp-7A0h]
  const std::vector<int> *__for_range_12; // [rsp+1E8h] [rbp-798h]
  const HomeFurnitureData *furniture_2; // [rsp+1F0h] [rbp-790h]
  const HomeFurnitureGroupData *furniture_group_data; // [rsp+1F8h] [rbp-788h]
  const HomeFurnitureData *group_furniture; // [rsp+200h] [rbp-780h]
  const data::HomeWorldFurnitureExcelConfig *home_furniture_config_ptr; // [rsp+208h] [rbp-778h]
  const FurnitureGroupJsonConfig *furniture_group_json_config_ptr; // [rsp+210h] [rbp-770h]
  const std::unordered_map<unsigned int,unsigned int> *scene_group_map; // [rsp+218h] [rbp-768h]
  const Vector3 *group_furniture_pos; // [rsp+220h] [rbp-760h]
  const std::unordered_map<unsigned int,unsigned int> *furniture_group_config_map; // [rsp+228h] [rbp-758h]
  const std::vector<HomeFurnitureData> *__for_range_10; // [rsp+230h] [rbp-750h]
  const HomeFurnitureData *virtual_furniture; // [rsp+238h] [rbp-748h]
  const HomeBlockFieldData *field; // [rsp+240h] [rbp-740h]
  const data::HomeWorldFarmFieldExcelConfig *field_config_ptr; // [rsp+248h] [rbp-738h]
  const HomeFurnitureSuiteData *suite; // [rsp+250h] [rbp-730h]
  const FurnitureSuiteJsonConfig *furniture_json_config_ptr; // [rsp+258h] [rbp-728h]
  const std::vector<int> *__for_range_7; // [rsp+260h] [rbp-720h]
  const HomeFurnitureData *furniture_1; // [rsp+268h] [rbp-718h]
  const std::pair<unsigned int const,unsigned int> *v319; // [rsp+270h] [rbp-710h]
  std::tuple_element<0,const std::pair<unsigned int const,unsigned int> >::type *avatar_id; // [rsp+278h] [rbp-708h]
  std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *avatar_count; // [rsp+280h] [rbp-700h]
  const data::HomeWorldNPCExcelConfig *home_avatar_config_ptr; // [rsp+288h] [rbp-6F8h]
  const std::pair<unsigned int const,unsigned int> *v323; // [rsp+290h] [rbp-6F0h]
  std::tuple_element<0,const std::pair<unsigned int const,unsigned int> >::type *animal_furniture_id; // [rsp+298h] [rbp-6E8h]
  std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *animal_furniture_count; // [rsp+2A0h] [rbp-6E0h]
  const HomeAnimalData *animal; // [rsp+2B0h] [rbp-6D0h]
  const HomeNpcData *npc; // [rsp+2B8h] [rbp-6C8h]
  const HomeFurnitureData *furniture_0; // [rsp+2C0h] [rbp-6C0h]
  const HomeFurnitureData *furniture; // [rsp+2C8h] [rbp-6B8h]
  common::milog::MiLogStream v331; // [rsp+2D0h] [rbp-6B0h] BYREF
  common::milog::MiLogStream v332; // [rsp+2F0h] [rbp-690h] BYREF
  common::milog::MiLogStream v333; // [rsp+310h] [rbp-670h] BYREF
  char v334[1616]; // [rsp+330h] [rbp-650h] BYREF

  v4 = (unsigned __int64)v334;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v5 = __asan_stack_malloc_5(1568LL);
    if ( v5 )
      v4 = v5;
  }
  *(_QWORD *)v4 = 1102416563LL;
  *(_QWORD *)(v4 + 8) = "26 32 4 7 ret:754 48 4 17 this_scene_id:764 64 4 29 block_furniture_num_limit:768 80 4 21 suite_"
                        "furnitue_id:769 96 4 25 furniture_suite_count:853 112 4 25 furniture_group_count:855 128 4 19 bl"
                        "ock_load_cost:906 144 4 25 block_high_load_limit:907 160 4 24 block_furniture_num:1020 176 4 25 "
                        "beside_furniture_num:1022 192 4 20 furniture_index:1159 208 4 17 surface_type:1174 224 4 23 avat"
                        "ar_furniture_id:962 240 16 18 home_world_ptr:810 272 16 13 scene_ptr:816 304 48 30 tmp_furniture"
                        "_id_count_map:848 384 48 27 tmp_avatar_id_count_map:849 464 48 37 tmp_animal_furniture_id_count_"
                        "map:850 544 48 30 tmp_furniture_suite_id_set:852 624 48 43 tmp_block_animal_furniture_id_count_m"
                        "ap:863 704 48 36 tmp_block_furniture_id_count_map:864 784 48 33 tmp_block_avatar_id_count_map:86"
                        "5 864 48 36 tmp_furniture_index_in_suite_set:866 944 48 27 group_furniture_id_set:1061 1024 56 2"
                        "2 furniture_guid_map:854 1120 376 30 blocks_load_message_stream:858";
  *(_QWORD *)(v4 + 16) = PlayerHomeHandler::checkArrangementData;
  v6 = (_DWORD *)(v4 >> 3);
  v6[536862720] = -235802127;
  v6[536862721] = -234556924;
  v6[536862722] = -234556924;
  v6[536862723] = -234556924;
  v6[536862724] = -234556924;
  v6[536862725] = -234556924;
  v6[536862726] = -234556924;
  v6[536862727] = 61956;
  v6[536862728] = 62194;
  v6[536862729] = 62194;
  v6[536862731] = -218959118;
  v6[536862733] = -219021312;
  v6[536862734] = 62194;
  v6[536862736] = -218959118;
  v6[536862738] = -219021312;
  v6[536862739] = 62194;
  v6[536862741] = -218959118;
  v6[536862743] = -219021312;
  v6[536862744] = 62194;
  v6[536862746] = -218959118;
  v6[536862748] = -219021312;
  v6[536862749] = 62194;
  v6[536862751] = -218959118;
  v6[536862753] = -234881024;
  v6[536862754] = -218959118;
  v6[536862766] = -218103808;
  v6[536862767] = -202116109;
  v6[536862768] = -202116109;
  if ( std::operator==<HomeModuleData>(module_data_ptr, 0LL) )
  {
    common::milog::MiLogStream::create(
      &v333,
      &common::milog::MiLogDefault::default_log_obj_,
      4u,
      "./src/handler/player_home_handler.cpp",
      "checkArrangementData",
      751);
    common::milog::MiLogStream::operator()(&v333, "module_data_ptr is null");
    common::milog::MiLogStream::~MiLogStream(&v333);
    v3 = -1;
    goto LABEL_458;
  }
  *(_DWORD *)(v4 + 32) = HomeSceneArrangementData::checkValid(arrangement_data);
  if ( *(_DWORD *)(v4 + 32) )
  {
    common::milog::MiLogStream::create(
      &v333,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "checkArrangementData",
      757);
    v7 = common::milog::MiLogStream::operator<<<char [23],(char *[23])0>(
           &v333,
           (const char (*)[23])"checkValid fail. ret: ");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v7, (const int *)(v4 + 32));
    common::milog::MiLogStream::~MiLogStream(&v333);
    v3 = *(_DWORD *)(v4 + 32);
    goto LABEL_458;
  }
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)(v4 + 272));
  txt_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 272))->design_config.txt_config_mgr;
  std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v4 + 272));
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)(v4 + 272));
  json_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 272))->design_config.json_config_mgr;
  std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v4 + 272));
  if ( *(_BYTE *)(((unsigned __int64)arrangement_data >> 3) + 0x7FFF8000) != 0
    && *(_BYTE *)(((unsigned __int64)arrangement_data >> 3) + 0x7FFF8000) <= 3 )
  {
    __asan_report_load4();
  }
  *(_DWORD *)(v4 + 48) = arrangement_data->scene_id;
  v8 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)module_data_ptr);
  module_world_scene_id = HomeModuleData::getWorldSceneId(v8);
  v9 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)module_data_ptr);
  module_room_scene_id = HomeModuleData::getCurRoomSceneId(v9);
  *(_DWORD *)(v4 + 64) = 0;
  *(_DWORD *)(v4 + 80) = ConstValueExcelConfigMgr::getHomeSuiteFurnitureID(&txt_config_mgr->const_value_config_mgr);
  if ( module_world_scene_id == *(_DWORD *)(v4 + 48) )
  {
    another_scene_id = module_room_scene_id;
    *(_DWORD *)(v4 + 64) = ConstValueExcelConfigMgr::getHomeWorldBlockFurnitureLimit(&txt_config_mgr->const_value_config_mgr);
    if ( !std::optional<HomeFurnitureData>::has_value(&arrangement_data->main_house) )
    {
      common::milog::MiLogStream::create(
        &v333,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementData",
        777);
      common::milog::MiLogStream::operator()(
        &v333,
        "this_scene_id:%u is module_world_scene_id but main_house is null",
        *(unsigned int *)(v4 + 48));
      common::milog::MiLogStream::~MiLogStream(&v333);
      v3 = 9738;
      goto LABEL_458;
    }
    v10 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
    if ( *(_BYTE *)(((unsigned __int64)v10 >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)v10 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v10 >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    room_scene_id = HomeWorldExcelConfigMgr::getRoomSceneIdByFurnitureId(
                      &txt_config_mgr->home_config_mgr,
                      v10->furniture_id);
    if ( SceneExcelConfigMgr::getSceneTypeBySceneId(&txt_config_mgr->scene_config_mgr, room_scene_id) != SCENE_HOME_ROOM )
    {
      common::milog::MiLogStream::create(
        &v333,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementData",
        784);
      v11 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
      if ( *(_BYTE *)(((unsigned __int64)v11 >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)v11 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v11 >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      common::milog::MiLogStream::operator()(
        &v333,
        "scene_type is not SCENE_HOME_WORLD. room_scene_id:%u main_house->furniture_id:%u",
        room_scene_id,
        v11->furniture_id);
      common::milog::MiLogStream::~MiLogStream(&v333);
      v3 = -1;
      goto LABEL_458;
    }
  }
  else
  {
    if ( module_room_scene_id != *(_DWORD *)(v4 + 48) )
    {
      common::milog::MiLogStream::create(
        &v333,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementData",
        803);
      common::milog::MiLogStream::operator()(
        &v333,
        "this_scene_id:%u is not module_world_scene_id:%u nor module_room_scene_id:%u",
        *(unsigned int *)(v4 + 48),
        module_world_scene_id,
        module_room_scene_id);
      common::milog::MiLogStream::~MiLogStream(&v333);
      v3 = -1;
      goto LABEL_458;
    }
    another_scene_id = module_world_scene_id;
    *(_DWORD *)(v4 + 64) = ConstValueExcelConfigMgr::getHomeRoomBlockFurnitureLimit(&txt_config_mgr->const_value_config_mgr);
    if ( std::optional<HomeFurnitureData>::has_value(&arrangement_data->main_house) )
    {
      common::milog::MiLogStream::create(
        &v333,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementData",
        796);
      common::milog::MiLogStream::operator()(
        &v333,
        "this_scene_id:%u is module_room_scene_id but main_house is not null",
        *(unsigned int *)(v4 + 48));
      common::milog::MiLogStream::~MiLogStream(&v333);
      v3 = -1;
      goto LABEL_458;
    }
  }
  if ( *(char *)(((unsigned __int64)&arrangement_data->is_set_born_pos >> 3) + 0x7FFF8000) < 0 )
    __asan_report_load1(&arrangement_data->is_set_born_pos);
  if ( !arrangement_data->is_set_born_pos )
    goto LABEL_39;
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  Player::getSceneComp(this->player_);
  PlayerSceneComp::getCurWorld<HomeWorld>((const PlayerSceneComp *const)(v4 + 240));
  if ( std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v4 + 240), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v333,
      &common::milog::MiLogDefault::default_log_obj_,
      4u,
      "./src/handler/player_home_handler.cpp",
      "checkArrangementData",
      813);
    common::milog::MiLogStream::operator()(&v333, "getCurWorld HomeWorld fails");
    common::milog::MiLogStream::~MiLogStream(&v333);
    v3 = -1;
    v12 = 0;
  }
  else
  {
    v13 = (unsigned int)std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 240));
    World::findScene((World *const)(v4 + 272), v13);
    if ( std::operator==<Scene>((const std::shared_ptr<Scene> *)(v4 + 272), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v333,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementData",
        819);
      common::milog::MiLogStream::operator()(&v333, "findScene %u fails", *(unsigned int *)(v4 + 48));
      common::milog::MiLogStream::~MiLogStream(&v333);
      v3 = -1;
      v14 = 0;
    }
    else
    {
      v15 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 272));
      if ( !Scene::isPosValid(v15, &arrangement_data->born_pos) )
      {
        common::milog::MiLogStream::create(
          &v333,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "checkArrangementData",
          824);
        v16 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(&v333, (const char (*)[10])"born_pos:");
        v17 = operator<<(v16, &arrangement_data->born_pos);
        v18 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v17, (const char (*)[11])" scene_id:");
        v19 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v18,
                (const unsigned int *)(v4 + 48));
        common::milog::MiLogStream::operator<<<char [9],(char *[9])0>(v19, (const char (*)[9])" invalid");
        common::milog::MiLogStream::~MiLogStream(&v333);
        v3 = 551;
        v14 = 0;
      }
      else if ( !Vector3::isValid(&arrangement_data->born_rot) )
      {
        common::milog::MiLogStream::create(
          &v333,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "checkArrangementData",
          829);
        v20 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(&v333, (const char (*)[10])"born_rot:");
        v21 = operator<<(v20, &arrangement_data->born_rot);
        common::milog::MiLogStream::operator<<<char [9],(char *[9])0>(v21, (const char (*)[9])" invalid");
        common::milog::MiLogStream::~MiLogStream(&v333);
        v3 = 551;
        v14 = 0;
      }
      else
      {
        v14 = 1;
      }
    }
    std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v4 + 272));
    v12 = v14 == 1;
  }
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v4 + 240));
  if ( v12 )
  {
LABEL_39:
    v22 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)module_data_ptr);
    another_scene_data_ptr = HomeModuleData::findHomeSceneData(v22, another_scene_id);
    if ( another_scene_data_ptr )
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      player_home_comp = Player::getHomeComp(this->player_);
      v24 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)module_data_ptr);
      if ( *(_BYTE *)(((unsigned __int64)&v24->module_id >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)v24 + 20) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v24->module_id >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      player_home_module = PlayerHomeComp::getHomeModule(player_home_comp, v24->module_id);
      player_this_home_scene = PlayerHomeModule::getScene(player_home_module, *(_DWORD *)(v4 + 48));
      if ( *(char *)(((unsigned __int64)&player_this_home_scene->is_unlocked >> 3) + 0x7FFF8000) < 0 )
        __asan_report_load1(&player_this_home_scene->is_unlocked);
      if ( !player_this_home_scene->is_unlocked )
      {
        common::milog::MiLogStream::create(
          &v333,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "checkArrangementData",
          846);
        common::milog::MiLogStream::operator()(
          &v333,
          "this scene is not unlocked in PlayerHomeScene. scene_id:%u",
          *(unsigned int *)(v4 + 48));
        common::milog::MiLogStream::~MiLogStream(&v333);
      }
      std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v4 + 304));
      std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v4 + 384));
      std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v4 + 464));
      total_avatar_count = 0;
      std::set<unsigned int>::set((std::set<unsigned int> *const)(v4 + 544));
      *(_DWORD *)(v4 + 96) = 0;
      std::unordered_map<unsigned int,unsigned int>::unordered_map((std::unordered_map<unsigned int,unsigned int> *const)(v4 + 1024));
      *(_DWORD *)(v4 + 112) = 0;
      std::ostringstream::basic_ostringstream(v4 + 1120);
      __for_range = &arrangement_data->block_data_map;
      __for_begin._M_node = std::map<unsigned int,HomeBlockData>::begin(&arrangement_data->block_data_map)._M_node;
      __for_end._M_node = std::map<unsigned int,HomeBlockData>::end(&arrangement_data->block_data_map)._M_node;
      while ( std::operator!=(&__for_begin, &__for_end) )
      {
        v287 = std::_Rb_tree_const_iterator<std::pair<unsigned int const,HomeBlockData>>::operator*(&__for_begin);
        block_id = std::get<0ul,unsigned int const,HomeBlockData>(v287);
        block_data = (std::tuple_element<1,const std::pair<unsigned int const,HomeBlockData> >::type *)std::get<1ul,unsigned int const,HomeBlockData>(v287);
        std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v4 + 624));
        std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v4 + 704));
        std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v4 + 784));
        std::set<int>::set((std::set<int> *const)(v4 + 864));
        if ( *(_BYTE *)(((unsigned __int64)block_id >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)block_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)block_id >> 3) + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        player_home_block = PlayerHomeScene::getBlock(player_this_home_scene, *block_id);
        p_is_unlocked = &player_home_block->is_unlocked;
        if ( *(_BYTE *)(((unsigned __int64)p_is_unlocked >> 3) + 0x7FFF8000) != 0
          && ((unsigned __int8)p_is_unlocked & 7) >= *(_BYTE *)(((unsigned __int64)p_is_unlocked >> 3) + 0x7FFF8000) )
        {
          __asan_report_load1(p_is_unlocked);
        }
        if ( !player_home_block->is_unlocked )
        {
          common::milog::MiLogStream::create(
            &v333,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "checkArrangementData",
            871);
          v26 = common::milog::MiLogStream::operator<<<char [5],(char *[5])0>(&v333, (const char (*)[5])"uid:");
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          *(_DWORD *)(v4 + 224) = Player::getUid(this->player_);
          v27 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v26,
                  (const unsigned int *)(v4 + 224));
          v28 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v27, (const char (*)[8])" block:");
          v29 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v28, block_id);
          common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v29, (const char (*)[11])off_263853A0);
          common::milog::MiLogStream::~MiLogStream(&v333);
          v30 = 0;
        }
        else
        {
          __for_range_0 = &block_data->persistent_furniture_vec;
          __for_begin_1._M_current = std::vector<HomeFurnitureData>::begin(&block_data->persistent_furniture_vec)._M_current;
          __for_end_0._M_current = std::vector<HomeFurnitureData>::end(__for_range_0)._M_current;
          while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(
                    &__for_begin_1,
                    &__for_end_0) )
          {
            furniture = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin_1);
            v31 = std::map<unsigned int,unsigned int>::operator[](
                    (std::map<unsigned int,unsigned int> *const)(v4 + 304),
                    &furniture->furniture_id);
            if ( *(_BYTE *)(((unsigned __int64)v31 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)v31 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v31 >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            ++*v31;
            v32 = std::map<unsigned int,unsigned int>::operator[](
                    (std::map<unsigned int,unsigned int> *const)(v4 + 704),
                    &furniture->furniture_id);
            if ( *(_BYTE *)(((unsigned __int64)v32 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)v32 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v32 >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            ++*v32;
            if ( !HomeFurnitureData::isValid(furniture) )
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                3u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                881);
              if ( *(_BYTE *)(((unsigned __int64)furniture >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)furniture & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture >> 3)
                                                                            + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              common::milog::MiLogStream::operator()(&v333, "furniture_id:%u invalid", furniture->furniture_id);
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 551;
LABEL_77:
              v30 = 1;
              goto LABEL_331;
            }
            v34 = std::unordered_map<unsigned int,unsigned int>::emplace<unsigned int const&,unsigned int const&>(
                    (std::unordered_map<unsigned int,unsigned int> *const)(v4 + 1024),
                    &furniture->guid,
                    &furniture->furniture_id,
                    &furniture->guid,
                    v33);
            if ( !v34.second )
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                3u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                886);
              if ( *(_BYTE *)(((unsigned __int64)&furniture->guid >> 3) + 0x7FFF8000) != 0
                && (char)((((_BYTE)furniture + 32) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&furniture->guid >> 3)
                                                                         + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              common::milog::MiLogStream::operator()(&v333, "repeated guid:%u invalid", furniture->guid);
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 9712;
              goto LABEL_77;
            }
            __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin_1);
          }
          __for_range_1 = &block_data->deploy_furniure_vec;
          __for_begin_1._M_current = std::vector<HomeFurnitureData>::begin(&block_data->deploy_furniure_vec)._M_current;
          __for_end_0._M_current = std::vector<HomeFurnitureData>::end(__for_range_1)._M_current;
          while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(
                    &__for_begin_1,
                    &__for_end_0) )
          {
            furniture_0 = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin_1);
            v35 = std::map<unsigned int,unsigned int>::operator[](
                    (std::map<unsigned int,unsigned int> *const)(v4 + 304),
                    &furniture_0->furniture_id);
            if ( *(_BYTE *)(((unsigned __int64)v35 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)v35 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v35 >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            ++*v35;
            v36 = std::map<unsigned int,unsigned int>::operator[](
                    (std::map<unsigned int,unsigned int> *const)(v4 + 704),
                    &furniture_0->furniture_id);
            if ( *(_BYTE *)(((unsigned __int64)v36 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)v36 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v36 >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            ++*v36;
            if ( !HomeFurnitureData::isValid(furniture_0) )
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                3u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                896);
              if ( *(_BYTE *)(((unsigned __int64)furniture_0 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)furniture_0 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture_0 >> 3)
                                                                              + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              common::milog::MiLogStream::operator()(&v333, "furniture_id:%u invalid", furniture_0->furniture_id);
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 551;
LABEL_94:
              v30 = 1;
              goto LABEL_331;
            }
            v38 = std::unordered_map<unsigned int,unsigned int>::emplace<unsigned int const&,unsigned int const&>(
                    (std::unordered_map<unsigned int,unsigned int> *const)(v4 + 1024),
                    &furniture_0->guid,
                    &furniture_0->furniture_id,
                    &furniture_0->guid,
                    v37);
            if ( !v38.second )
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                3u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                901);
              if ( *(_BYTE *)(((unsigned __int64)&furniture_0->guid >> 3) + 0x7FFF8000) != 0
                && (char)((((_BYTE)furniture_0 + 32) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&furniture_0->guid >> 3)
                                                                           + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              common::milog::MiLogStream::operator()(&v333, "repeated guid:%u invalid", furniture_0->guid);
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 9712;
              goto LABEL_94;
            }
            __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin_1);
          }
          *(_DWORD *)(v4 + 128) = PlayerHomeHandler::getBlockLoadCost((const std::map<unsigned int,unsigned int> *)(v4 + 704));
          p_home_config_mgr = &txt_config_mgr->home_config_mgr;
          if ( *(_BYTE *)(((unsigned __int64)block_id >> 3) + 0x7FFF8000) != 0
            && (char)(((unsigned __int8)block_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)block_id >> 3) + 0x7FFF8000) )
          {
            __asan_report_load4();
          }
          *(_DWORD *)(v4 + 144) = HomeWorldExcelConfigMgr::getHighLoadLimit(
                                    p_home_config_mgr,
                                    *(_DWORD *)(v4 + 48),
                                    *block_id);
          if ( *(_DWORD *)(v4 + 128) <= *(_DWORD *)(v4 + 144) )
            goto LABEL_107;
          common::milog::MiLogStream::create(
            &v333,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "checkArrangementData",
            910);
          v40 = common::milog::MiLogStream::operator<<<char [40],(char *[40])0>(
                  &v333,
                  (const char (*)[40])"home block load reach high limit, uid: ");
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          *(_DWORD *)(v4 + 224) = Player::getUid(this->player_);
          v41 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v40,
                  (const unsigned int *)(v4 + 224));
          v42 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v41, (const char (*)[12])" module id:");
          v43 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)module_data_ptr);
          v44 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v42, &v43->module_id);
          v45 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v44, (const char (*)[11])" scene id:");
          v46 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v45,
                  (const unsigned int *)(v4 + 48));
          v47 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v46, (const char (*)[11])" block id:");
          v48 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v47, block_id);
          v49 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v48, (const char (*)[12])" load cost:");
          v50 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v49,
                  (const unsigned int *)(v4 + 128));
          v51 = common::milog::MiLogStream::operator<<<char [18],(char *[18])0>(
                  v50,
                  (const char (*)[18])" high load limit:");
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v51, (const unsigned int *)(v4 + 144));
          common::milog::MiLogStream::~MiLogStream(&v333);
          std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)module_data_ptr);
          HomeModuleData::getHome((const HomeModuleData *const)(v4 + 272));
          if ( !std::operator!=<Home>(0LL, (const std::shared_ptr<Home> *)(v4 + 272)) )
            goto LABEL_101;
          v52 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 272));
          if ( !Home::isTurnOffLoadLimit(v52) )
            v53 = 1;
          else
LABEL_101:
            v53 = 0;
          if ( v53 )
          {
            v3 = 9779;
            v54 = 0;
          }
          else
          {
            v54 = 1;
          }
          std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v4 + 272));
          if ( v54 == 1 )
          {
LABEL_107:
            v55 = std::operator<<<std::char_traits<char>>(v4 + 1120, " block id:");
            if ( *(_BYTE *)(((unsigned __int64)block_id >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)block_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)block_id >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            v56 = std::ostream::operator<<(v55, *block_id);
            v57 = std::operator<<<std::char_traits<char>>(v56, " load cost:");
            v58 = std::ostream::operator<<(v57, *(unsigned int *)(v4 + 128));
            std::ostream::operator<<(v58, &std::endl<char,std::char_traits<char>>);
            __for_range_2 = &block_data->deploy_npc_vec;
            __for_begin_1._M_current = (const HomeFurnitureData *)std::vector<HomeNpcData>::begin(&block_data->deploy_npc_vec)._M_current;
            __for_end_0._M_current = (const HomeFurnitureData *)std::vector<HomeNpcData>::end(__for_range_2)._M_current;
            while ( __gnu_cxx::operator!=<HomeNpcData const*,std::vector<HomeNpcData>>(
                      (const __gnu_cxx::__normal_iterator<const HomeNpcData*,std::vector<HomeNpcData> > *)&__for_begin_1,
                      (const __gnu_cxx::__normal_iterator<const HomeNpcData*,std::vector<HomeNpcData> > *)&__for_end_0) )
            {
              npc = __gnu_cxx::__normal_iterator<HomeNpcData const*,std::vector<HomeNpcData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeNpcData*,std::vector<HomeNpcData> > *const)&__for_begin_1);
              v59 = std::map<unsigned int,unsigned int>::operator[](
                      (std::map<unsigned int,unsigned int> *const)(v4 + 384),
                      &npc->avatar_id);
              if ( *(_BYTE *)(((unsigned __int64)v59 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)v59 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v59 >> 3) + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              ++*v59;
              v60 = std::map<unsigned int,unsigned int>::operator[](
                      (std::map<unsigned int,unsigned int> *const)(v4 + 784),
                      &npc->avatar_id);
              if ( *(_BYTE *)(((unsigned __int64)v60 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)v60 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v60 >> 3) + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              ++*v60;
              __gnu_cxx::__normal_iterator<HomeNpcData const*,std::vector<HomeNpcData>>::operator++((__gnu_cxx::__normal_iterator<const HomeNpcData*,std::vector<HomeNpcData> > *const)&__for_begin_1);
            }
            total_avatar_count += std::vector<HomeNpcData>::size(&block_data->deploy_npc_vec);
            __for_range_3 = &block_data->deploy_animal_vec;
            __for_begin_1._M_current = (const HomeFurnitureData *)std::vector<HomeAnimalData>::begin(&block_data->deploy_animal_vec)._M_current;
            __for_end_0._M_current = (const HomeFurnitureData *)std::vector<HomeAnimalData>::end(__for_range_3)._M_current;
            while ( __gnu_cxx::operator!=<HomeAnimalData const*,std::vector<HomeAnimalData>>(
                      (const __gnu_cxx::__normal_iterator<const HomeAnimalData*,std::vector<HomeAnimalData> > *)&__for_begin_1,
                      (const __gnu_cxx::__normal_iterator<const HomeAnimalData*,std::vector<HomeAnimalData> > *)&__for_end_0) )
            {
              animal = __gnu_cxx::__normal_iterator<HomeAnimalData const*,std::vector<HomeAnimalData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeAnimalData*,std::vector<HomeAnimalData> > *const)&__for_begin_1);
              v61 = std::map<unsigned int,unsigned int>::operator[](
                      (std::map<unsigned int,unsigned int> *const)(v4 + 464),
                      &animal->furniture_id);
              if ( *(_BYTE *)(((unsigned __int64)v61 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)v61 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v61 >> 3) + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              ++*v61;
              v62 = std::map<unsigned int,unsigned int>::operator[](
                      (std::map<unsigned int,unsigned int> *const)(v4 + 624),
                      &animal->furniture_id);
              if ( *(_BYTE *)(((unsigned __int64)v62 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)v62 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v62 >> 3) + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              ++*v62;
              __gnu_cxx::__normal_iterator<HomeAnimalData const*,std::vector<HomeAnimalData>>::operator++((__gnu_cxx::__normal_iterator<const HomeAnimalData*,std::vector<HomeAnimalData> > *const)&__for_begin_1);
            }
            __for_range_4 = (std::map<unsigned int,unsigned int> *)(v4 + 624);
            __for_begin_1._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::begin((std::map<unsigned int,unsigned int> *const)(v4 + 624))._M_node;
            __for_end_0._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::end(__for_range_4)._M_node;
            while ( std::operator!=(
                      (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_begin_1,
                      (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_end_0) )
            {
              v323 = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_1);
              animal_furniture_id = std::get<0ul,unsigned int const,unsigned int>(v323);
              animal_furniture_count = (std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *)std::get<1ul,unsigned int const,unsigned int>(v323);
              v63 = &txt_config_mgr->home_config_mgr;
              if ( *(_BYTE *)(((unsigned __int64)animal_furniture_id >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)animal_furniture_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)animal_furniture_id >> 3)
                                                                                      + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              if ( !data::HomeWorldExcelConfigMgrBase::findHomeworldAnimalExcelConfig(v63, *animal_furniture_id) )
              {
                common::milog::MiLogStream::create(
                  &v333,
                  &common::milog::MiLogDefault::default_log_obj_,
                  1u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  942);
                v64 = common::milog::MiLogStream::operator<<<char [70],(char *[70])0>(
                        &v333,
                        (const char (*)[70])"findHomeworldAnimalExcelConfig() return nullptr. animal_furniture_id:");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v64, animal_furniture_id);
                common::milog::MiLogStream::~MiLogStream(&v333);
                v3 = 9764;
LABEL_143:
                v30 = 1;
                goto LABEL_331;
              }
              v65 = std::map<unsigned int,unsigned int>::operator[](
                      (std::map<unsigned int,unsigned int> *const)(v4 + 704),
                      animal_furniture_id);
              if ( *(_BYTE *)(((unsigned __int64)v65 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)v65 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v65 >> 3) + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              v66 = *v65;
              if ( *(_BYTE *)(((unsigned __int64)animal_furniture_count >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)animal_furniture_count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)animal_furniture_count >> 3)
                                                                                         + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              if ( v66 != *animal_furniture_count )
              {
                common::milog::MiLogStream::create(
                  &v333,
                  &common::milog::MiLogDefault::default_log_obj_,
                  1u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  947);
                v67 = std::map<unsigned int,unsigned int>::operator[](
                        (std::map<unsigned int,unsigned int> *const)(v4 + 704),
                        animal_furniture_id);
                if ( *(_BYTE *)(((unsigned __int64)v67 >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)v67 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v67 >> 3) + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                v68 = *v67;
                if ( *(_BYTE *)(((unsigned __int64)animal_furniture_count >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)animal_furniture_count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)animal_furniture_count >> 3)
                                                                                           + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                v69 = *animal_furniture_count;
                if ( *(_BYTE *)(((unsigned __int64)animal_furniture_id >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)animal_furniture_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)animal_furniture_id >> 3)
                                                                                        + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                common::milog::MiLogStream::operator()(
                  &v333,
                  "animal_furniture_id:%u animal_furniture_count:%u != furniture_count:%u",
                  *animal_furniture_id,
                  v69,
                  v68);
                common::milog::MiLogStream::~MiLogStream(&v333);
                v3 = 9764;
                goto LABEL_143;
              }
              std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_1);
            }
            __for_range_5 = (std::map<unsigned int,unsigned int> *)(v4 + 784);
            __for_begin_1._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::begin((std::map<unsigned int,unsigned int> *const)(v4 + 784))._M_node;
            __for_end_0._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::end(__for_range_5)._M_node;
            while ( std::operator!=(
                      (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_begin_1,
                      (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_end_0) )
            {
              v319 = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_1);
              avatar_id = std::get<0ul,unsigned int const,unsigned int>(v319);
              avatar_count = (std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *)std::get<1ul,unsigned int const,unsigned int>(v319);
              v70 = &txt_config_mgr->home_config_mgr;
              if ( *(_BYTE *)(((unsigned __int64)avatar_id >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)avatar_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)avatar_id >> 3)
                                                                            + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              home_avatar_config_ptr = HomeWorldExcelConfigMgr::findHomeWorldNPCExcelConfigByAvatarId(v70, *avatar_id);
              if ( !home_avatar_config_ptr )
              {
                common::milog::MiLogStream::create(
                  &v332,
                  &common::milog::MiLogDefault::default_log_obj_,
                  1u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  959);
                v71 = common::milog::MiLogStream::operator<<<char [67],(char *[67])0>(
                        &v332,
                        (const char (*)[67])"findHomeWorldNPCExcelConfigByAvatarId() return nullptr. avatar_id:");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v71, avatar_id);
                common::milog::MiLogStream::~MiLogStream(&v332);
                v3 = 9765;
LABEL_162:
                v30 = 1;
                goto LABEL_331;
              }
              if ( *(_BYTE *)(((unsigned __int64)&home_avatar_config_ptr->furniture_id >> 3) + 0x7FFF8000) != 0
                && *(_BYTE *)(((unsigned __int64)&home_avatar_config_ptr->furniture_id >> 3) + 0x7FFF8000) <= 3 )
              {
                __asan_report_load4();
              }
              *(_DWORD *)(v4 + 224) = home_avatar_config_ptr->furniture_id;
              v72 = std::map<unsigned int,unsigned int>::operator[](
                      (std::map<unsigned int,unsigned int> *const)(v4 + 704),
                      (const std::map<unsigned int,unsigned int>::key_type *)(v4 + 224));
              if ( *(_BYTE *)(((unsigned __int64)v72 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)v72 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v72 >> 3) + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              v73 = *v72;
              if ( *(_BYTE *)(((unsigned __int64)avatar_count >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)avatar_count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)avatar_count >> 3)
                                                                               + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              if ( v73 != *avatar_count )
              {
                common::milog::MiLogStream::create(
                  &v333,
                  &common::milog::MiLogDefault::default_log_obj_,
                  1u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  965);
                v74 = std::map<unsigned int,unsigned int>::operator[](
                        (std::map<unsigned int,unsigned int> *const)(v4 + 704),
                        (const std::map<unsigned int,unsigned int>::key_type *)(v4 + 224));
                if ( *(_BYTE *)(((unsigned __int64)v74 >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)v74 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v74 >> 3) + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                v75 = *v74;
                if ( *(_BYTE *)(((unsigned __int64)avatar_count >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)avatar_count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)avatar_count >> 3)
                                                                                 + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                common::milog::MiLogStream::operator()(
                  &v333,
                  "avatar_furniture_id:%u avatar_count:%u != furniture_count:%u",
                  *(unsigned int *)(v4 + 224),
                  *avatar_count,
                  v75);
                common::milog::MiLogStream::~MiLogStream(&v333);
                v3 = 9765;
                goto LABEL_162;
              }
              std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_1);
            }
            __for_range_6 = &block_data->furniure_suite_vec;
            __for_begin_0._M_current = (const HomeFurnitureGroupData *)std::vector<HomeFurnitureSuiteData>::begin(&block_data->furniure_suite_vec)._M_current;
            __for_end_1._M_current = (const HomeFurnitureCustomSuiteData *)std::vector<HomeFurnitureSuiteData>::end(__for_range_6)._M_current;
            while ( __gnu_cxx::operator!=<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>(
                      (const __gnu_cxx::__normal_iterator<const HomeFurnitureSuiteData*,std::vector<HomeFurnitureSuiteData> > *)&__for_begin_0,
                      (const __gnu_cxx::__normal_iterator<const HomeFurnitureSuiteData*,std::vector<HomeFurnitureSuiteData> > *)&__for_end_1) )
            {
              suite = __gnu_cxx::__normal_iterator<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeFurnitureSuiteData*,std::vector<HomeFurnitureSuiteData> > *const)&__for_begin_0);
              if ( *(_BYTE *)(((unsigned __int64)suite >> 3) + 0x7FFF8000) != 0
                && *(_BYTE *)(((unsigned __int64)suite >> 3) + 0x7FFF8000) <= 3 )
              {
                __asan_report_load4();
              }
              furniture_json_config_ptr = JsonConfigMgr::findFurnitureSuiteJsonConfig(json_config_mgr, suite->suite_id);
              if ( !furniture_json_config_ptr )
              {
                common::milog::MiLogStream::create(
                  &v332,
                  &common::milog::MiLogDefault::default_log_obj_,
                  1u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  977);
                v76 = common::milog::MiLogStream::operator<<<char [57],(char *[57])0>(
                        &v332,
                        (const char (*)[57])"findFurnitureSuiteJsonConfig() return nullptr. suite_id:");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v76, &suite->suite_id);
                common::milog::MiLogStream::~MiLogStream(&v332);
                v3 = 9766;
LABEL_193:
                v30 = 1;
                goto LABEL_331;
              }
              if ( std::vector<int>::empty(&suite->included_furniture_index_vec) )
              {
                common::milog::MiLogStream::create(
                  &v333,
                  &common::milog::MiLogDefault::default_log_obj_,
                  4u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  982);
                v77 = common::milog::MiLogStream::operator<<<char [38],(char *[38])0>(
                        &v333,
                        (const char (*)[38])"empty suite furniture vec. suite_id: ");
                v78 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v77, &suite->suite_id);
                v79 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v78, (const char (*)[8])" guid: ");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v79, &suite->guid);
                common::milog::MiLogStream::~MiLogStream(&v333);
              }
              std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v4 + 944));
              __for_range_7 = &suite->included_furniture_index_vec;
              __for_begin_1._M_current = (const HomeFurnitureData *)std::vector<int>::begin(&suite->included_furniture_index_vec)._M_current;
              __for_end_0._M_current = (const HomeFurnitureData *)std::vector<int>::end(__for_range_7)._M_current;
              while ( __gnu_cxx::operator!=<int const*,std::vector<int>>(
                        (const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *)&__for_begin_1,
                        (const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *)&__for_end_0) )
              {
                v80 = __gnu_cxx::__normal_iterator<int const*,std::vector<int>>::operator*((const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *const)&__for_begin_1);
                if ( *(_BYTE *)(((unsigned __int64)v80 >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)v80 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v80 >> 3) + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                *(_DWORD *)(v4 + 224) = *v80;
                if ( *(int *)(v4 + 224) < 0
                  || (v81 = *(int *)(v4 + 224),
                      v81 >= std::vector<HomeFurnitureData>::size(&block_data->deploy_furniure_vec)) )
                {
                  common::milog::MiLogStream::create(
                    &v333,
                    &common::milog::MiLogDefault::default_log_obj_,
                    4u,
                    "./src/handler/player_home_handler.cpp",
                    "checkArrangementData",
                    989);
                  common::milog::MiLogStream::operator()(
                    &v333,
                    "furniture_index:%d is out of range.",
                    *(unsigned int *)(v4 + 224));
                  common::milog::MiLogStream::~MiLogStream(&v333);
                  v3 = 9766;
                  v83 = 0;
                  goto LABEL_191;
                }
                furniture_1 = std::vector<HomeFurnitureData>::operator[](
                                &block_data->deploy_furniure_vec,
                                *(int *)(v4 + 224));
                if ( *(_BYTE *)(((unsigned __int64)furniture_1 >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)furniture_1 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture_1 >> 3)
                                                                                + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                if ( furniture_1->furniture_id != *(_DWORD *)(v4 + 80) )
                {
                  v84 = std::map<unsigned int,unsigned int>::operator[](
                          (std::map<unsigned int,unsigned int> *const)(v4 + 944),
                          &furniture_1->furniture_id);
                  if ( *(_BYTE *)(((unsigned __int64)v84 >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)v84 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v84 >> 3) + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  ++*v84;
                }
                std::set<int>::insert((std::set<int> *const)(v4 + 864), (const std::set<int>::value_type *)(v4 + 224));
                __gnu_cxx::__normal_iterator<int const*,std::vector<int>>::operator++((__gnu_cxx::__normal_iterator<int const*,std::vector<int> > *const)&__for_begin_1);
              }
              if ( std::operator!=<unsigned int,unsigned int,std::less<unsigned int>,std::allocator<std::pair<unsigned int const,unsigned int>>>(
                     (const std::map<unsigned int,unsigned int> *)(v4 + 944),
                     &furniture_json_config_ptr->included_furnite_id_count_map) )
              {
                common::milog::MiLogStream::create(
                  &v333,
                  &common::milog::MiLogDefault::default_log_obj_,
                  3u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  1004);
                v85 = common::milog::MiLogStream::operator<<<char [69],(char *[69])0>(
                        &v333,
                        (const char (*)[69])"suite_included_furniture_id_count_map not equal to config. suite_id:");
                v86 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v85, &suite->suite_id);
                v87 = common::milog::MiLogStream::operator<<<char [13],(char *[13])0>(
                        v86,
                        (const char (*)[13])" client_map:");
                v88 = common::milog::MiLogStream::operator<<<unsigned int,unsigned int>(
                        v87,
                        (const std::map<unsigned int,unsigned int> *)(v4 + 944));
                v89 = common::milog::MiLogStream::operator<<<char [18],(char *[18])0>(
                        v88,
                        (const char (*)[18])" json_config_map:");
                common::milog::MiLogStream::operator<<<unsigned int,unsigned int>(
                  v89,
                  &furniture_json_config_ptr->included_furnite_id_count_map);
                common::milog::MiLogStream::~MiLogStream(&v333);
              }
              std::set<unsigned int>::insert((std::set<unsigned int> *const)(v4 + 544), &suite->suite_id);
              v83 = 1;
LABEL_191:
              std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v4 + 944));
              if ( v83 != 1 )
                goto LABEL_193;
              __gnu_cxx::__normal_iterator<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>::operator++((__gnu_cxx::__normal_iterator<const HomeFurnitureSuiteData*,std::vector<HomeFurnitureSuiteData> > *const)&__for_begin_0);
            }
            v90 = std::vector<HomeFurnitureSuiteData>::size(&block_data->furniure_suite_vec);
            *(_DWORD *)(v4 + 96) += v90
                                  + std::vector<HomeFurnitureCustomSuiteData>::size(&block_data->furniture_custom_suite_vec);
            v91 = std::map<unsigned int,unsigned int>::operator[](
                    (std::map<unsigned int,unsigned int> *const)(v4 + 304),
                    (const std::map<unsigned int,unsigned int>::key_type *)(v4 + 80));
            if ( *(_BYTE *)(((unsigned __int64)v91 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)v91 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v91 >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            if ( *v91 == *(_DWORD *)(v4 + 96) )
            {
              *(_DWORD *)(v4 + 160) = std::vector<HomeFurnitureData>::size(&block_data->deploy_furniure_vec);
              v98 = std::vector<HomeFurnitureSuiteData>::size(&block_data->furniure_suite_vec);
              v99 = std::vector<HomeFurnitureCustomSuiteData>::size(&block_data->furniture_custom_suite_vec) + v98;
              *(_DWORD *)(v4 + 176) = v99 + std::vector<HomeNpcData>::size(&block_data->deploy_npc_vec);
              if ( *(_DWORD *)(v4 + 160) < *(_DWORD *)(v4 + 176)
                || (unsigned int)(*(_DWORD *)(v4 + 160) - *(_DWORD *)(v4 + 176)) > *(_DWORD *)(v4 + 64)
                || std::vector<HomeFurnitureSuiteData>::size(&block_data->furniure_suite_vec) > *(unsigned int *)(v4 + 64) )
              {
                common::milog::MiLogStream::create(
                  &v333,
                  &common::milog::MiLogDefault::default_log_obj_,
                  3u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  1027);
                v101 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(
                         &v333,
                         (const char (*)[11])"block_id: ");
                v102 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v101, block_id);
                v103 = common::milog::MiLogStream::operator<<<char [22],(char *[22])0>(
                         v102,
                         (const char (*)[22])" block_furniture_num:");
                v104 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                         v103,
                         (const unsigned int *)(v4 + 160));
                v105 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(
                         v104,
                         (const char (*)[12])" suite_num:");
                __for_begin_1._M_current = (const HomeFurnitureData *)std::vector<HomeFurnitureSuiteData>::size(&block_data->furniure_suite_vec);
                v106 = common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(
                         v105,
                         (const unsigned __int64 *)&__for_begin_1);
                v107 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(
                         v106,
                         (const char (*)[10])" npc_num:");
                __for_end_0._M_current = (const HomeFurnitureData *)std::vector<HomeNpcData>::size(&block_data->deploy_npc_vec);
                v108 = common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(
                         v107,
                         (const unsigned __int64 *)&__for_end_0);
                v109 = common::milog::MiLogStream::operator<<<char [23],(char *[23])0>(
                         v108,
                         (const char (*)[23])" beside_furniture_num:");
                v110 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                         v109,
                         (const unsigned int *)(v4 + 176));
                v111 = common::milog::MiLogStream::operator<<<char [28],(char *[28])0>(
                         v110,
                         (const char (*)[28])" block_furniture_num_limit:");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v111,
                  (const unsigned int *)(v4 + 64));
                common::milog::MiLogStream::~MiLogStream(&v333);
                v3 = 9733;
                v30 = 1;
              }
              else
              {
                __for_range_8 = &block_data->deploy_field_vec;
                __for_end_1._M_current = (const HomeFurnitureCustomSuiteData *)std::vector<HomeBlockFieldData>::begin(&block_data->deploy_field_vec)._M_current;
                __for_begin_1._M_current = (const HomeFurnitureData *)std::vector<HomeBlockFieldData>::end(__for_range_8)._M_current;
                while ( __gnu_cxx::operator!=<HomeBlockFieldData const*,std::vector<HomeBlockFieldData>>(
                          (const __gnu_cxx::__normal_iterator<const HomeBlockFieldData*,std::vector<HomeBlockFieldData> > *)&__for_end_1,
                          (const __gnu_cxx::__normal_iterator<const HomeBlockFieldData*,std::vector<HomeBlockFieldData> > *)&__for_begin_1) )
                {
                  field = __gnu_cxx::__normal_iterator<HomeBlockFieldData const*,std::vector<HomeBlockFieldData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeBlockFieldData*,std::vector<HomeBlockFieldData> > *const)&__for_end_1);
                  v112 = std::unordered_map<unsigned int,unsigned int>::operator[](
                           (std::unordered_map<unsigned int,unsigned int> *const)(v4 + 1024),
                           &field->guid);
                  if ( *(_BYTE *)(((unsigned __int64)v112 >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)v112 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v112 >> 3) + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  v113 = *v112;
                  if ( *(_BYTE *)(((unsigned __int64)&field->furniture_id >> 3) + 0x7FFF8000) != 0
                    && (char)((((_BYTE)field + 4) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&field->furniture_id >> 3)
                                                                        + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  if ( v113 != field->furniture_id )
                  {
                    common::milog::MiLogStream::create(
                      &v333,
                      &common::milog::MiLogDefault::default_log_obj_,
                      3u,
                      "./src/handler/player_home_handler.cpp",
                      "checkArrangementData",
                      1037);
                    v114 = common::milog::MiLogStream::operator<<<char [32],(char *[32])0>(
                             &v333,
                             (const char (*)[32])"invalid field_proto data. guid:");
                    v115 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v114, &field->guid);
                    v116 = common::milog::MiLogStream::operator<<<char [16],(char *[16])0>(
                             v115,
                             (const char (*)[16])" furniture id: ");
                    v117 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                             v116,
                             &field->furniture_id);
                    v118 = common::milog::MiLogStream::operator<<<char [23],(char *[23])0>(
                             v117,
                             (const char (*)[23])" deploy furniture id: ");
                    v119 = std::unordered_map<unsigned int,unsigned int>::operator[](
                             (std::unordered_map<unsigned int,unsigned int> *const)(v4 + 1024),
                             &field->guid);
                    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v118, v119);
                    common::milog::MiLogStream::~MiLogStream(&v333);
                    v3 = 9712;
LABEL_223:
                    v30 = 1;
                    goto LABEL_331;
                  }
                  v120 = &txt_config_mgr->home_config_mgr;
                  if ( *(_BYTE *)(((unsigned __int64)&field->furniture_id >> 3) + 0x7FFF8000) != 0
                    && (char)((((_BYTE)field + 4) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&field->furniture_id >> 3)
                                                                        + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  field_config_ptr = data::HomeWorldExcelConfigMgrBase::findHomeWorldFarmFieldExcelConfig(
                                       v120,
                                       field->furniture_id);
                  if ( !field_config_ptr )
                  {
                    common::milog::MiLogStream::create(
                      &v333,
                      &common::milog::MiLogDefault::default_log_obj_,
                      3u,
                      "./src/handler/player_home_handler.cpp",
                      "checkArrangementData",
                      1045);
                    v121 = common::milog::MiLogStream::operator<<<char [30],(char *[30])0>(
                             &v333,
                             (const char (*)[30])"find field config fail. guid:");
                    v122 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v121, &field->guid);
                    v123 = common::milog::MiLogStream::operator<<<char [16],(char *[16])0>(
                             v122,
                             (const char (*)[16])" furniture id: ");
                    v124 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                             v123,
                             &field->furniture_id);
                    v125 = common::milog::MiLogStream::operator<<<char [23],(char *[23])0>(
                             v124,
                             (const char (*)[23])" deploy furniture id: ");
                    v126 = std::unordered_map<unsigned int,unsigned int>::operator[](
                             (std::unordered_map<unsigned int,unsigned int> *const)(v4 + 1024),
                             &field->guid);
                    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v125, v126);
                    common::milog::MiLogStream::~MiLogStream(&v333);
                    v3 = 9712;
                    goto LABEL_223;
                  }
                  v127 = std::vector<HomeBlockSubFieldData>::size(&field->sub_field_vec);
                  if ( *(_BYTE *)(((unsigned __int64)&field_config_ptr->field_slot_num >> 3) + 0x7FFF8000) != 0
                    && (char)((((_BYTE)field_config_ptr + 12) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&field_config_ptr->field_slot_num >> 3)
                                                                                    + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  if ( v127 != field_config_ptr->field_slot_num )
                  {
                    common::milog::MiLogStream::create(
                      &v333,
                      &common::milog::MiLogDefault::default_log_obj_,
                      3u,
                      "./src/handler/player_home_handler.cpp",
                      "checkArrangementData",
                      1052);
                    v128 = common::milog::MiLogStream::operator<<<char [29],(char *[29])0>(
                             &v333,
                             (const char (*)[29])"invalid subfield data. guid:");
                    v129 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v128, &field->guid);
                    v130 = common::milog::MiLogStream::operator<<<char [16],(char *[16])0>(
                             v129,
                             (const char (*)[16])" furniture id: ");
                    v131 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                             v130,
                             &field->furniture_id);
                    v132 = common::milog::MiLogStream::operator<<<char [23],(char *[23])0>(
                             v131,
                             (const char (*)[23])" deploy furniture id: ");
                    v133 = std::unordered_map<unsigned int,unsigned int>::operator[](
                             (std::unordered_map<unsigned int,unsigned int> *const)(v4 + 1024),
                             &field->guid);
                    v134 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v132, v133);
                    v135 = common::milog::MiLogStream::operator<<<char [18],(char *[18])0>(
                             v134,
                             (const char (*)[18])" sub_field_size: ");
                    __for_end_0._M_current = (const HomeFurnitureData *)std::vector<HomeBlockSubFieldData>::size(&field->sub_field_vec);
                    common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(
                      v135,
                      (const unsigned __int64 *)&__for_end_0);
                    common::milog::MiLogStream::~MiLogStream(&v333);
                    v3 = 9712;
                    goto LABEL_223;
                  }
                  __gnu_cxx::__normal_iterator<HomeBlockFieldData const*,std::vector<HomeBlockFieldData>>::operator++((__gnu_cxx::__normal_iterator<const HomeBlockFieldData*,std::vector<HomeBlockFieldData> > *const)&__for_end_1);
                }
                std::set<unsigned int>::set((std::set<unsigned int> *const)(v4 + 944));
                *(_DWORD *)(v4 + 112) += std::vector<HomeFurnitureGroupData>::size(&block_data->deploy_furniture_group_vec);
                __for_range_9 = &block_data->deploy_furniture_group_vec;
                __for_begin_0._M_current = std::vector<HomeFurnitureGroupData>::begin(&block_data->deploy_furniture_group_vec)._M_current;
                __for_end_1._M_current = (const HomeFurnitureCustomSuiteData *)std::vector<HomeFurnitureGroupData>::end(__for_range_9)._M_current;
LABEL_224:
                if ( __gnu_cxx::operator!=<HomeFurnitureGroupData const*,std::vector<HomeFurnitureGroupData>>(
                       &__for_begin_0,
                       (const __gnu_cxx::__normal_iterator<const HomeFurnitureGroupData*,std::vector<HomeFurnitureGroupData> > *)&__for_end_1) )
                {
                  furniture_group_data = __gnu_cxx::__normal_iterator<HomeFurnitureGroupData const*,std::vector<HomeFurnitureGroupData>>::operator*(&__for_begin_0);
                  if ( *(_BYTE *)(((unsigned __int64)furniture_group_data >> 3) + 0x7FFF8000) != 0
                    && *(_BYTE *)(((unsigned __int64)furniture_group_data >> 3) + 0x7FFF8000) <= 3 )
                  {
                    __asan_report_load4();
                  }
                  group_furniture_index = furniture_group_data->group_furniture_index;
                  if ( group_furniture_index < std::vector<HomeFurnitureData>::size(&block_data->deploy_furniure_vec) )
                  {
                    p_deploy_furniure_vec = &block_data->deploy_furniure_vec;
                    if ( *(_BYTE *)(((unsigned __int64)furniture_group_data >> 3) + 0x7FFF8000) != 0
                      && *(_BYTE *)(((unsigned __int64)furniture_group_data >> 3) + 0x7FFF8000) <= 3 )
                    {
                      __asan_report_load4();
                    }
                    group_furniture = std::vector<HomeFurnitureData>::operator[](
                                        p_deploy_furniure_vec,
                                        furniture_group_data->group_furniture_index);
                    v141 = std::set<unsigned int>::insert(
                             (std::set<unsigned int> *const)(v4 + 944),
                             &group_furniture->furniture_id);
                    if ( !v141.second )
                    {
                      common::milog::MiLogStream::create(
                        &v333,
                        &common::milog::MiLogDefault::default_log_obj_,
                        3u,
                        "./src/handler/player_home_handler.cpp",
                        "checkArrangementData",
                        1074);
                      v142 = common::milog::MiLogStream::operator<<<char [42],(char *[42])0>(
                               &v333,
                               (const char (*)[42])"duplicate group_furniture, furniture id: ");
                      v143 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                               v142,
                               &group_furniture->furniture_id);
                      v139 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                               v143,
                               (const char (*)[7])" uid: ");
                      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                        __asan_report_load8();
                    }
                    else
                    {
                      v144 = &txt_config_mgr->home_config_mgr;
                      if ( *(_BYTE *)(((unsigned __int64)group_furniture >> 3) + 0x7FFF8000) != 0
                        && (char)(((unsigned __int8)group_furniture & 7) + 3) >= *(_BYTE *)(((unsigned __int64)group_furniture >> 3)
                                                                                          + 0x7FFF8000) )
                      {
                        __asan_report_load4();
                      }
                      home_furniture_config_ptr = data::HomeWorldExcelConfigMgrBase::findHomeWorldFurnitureExcelConfig(
                                                    v144,
                                                    group_furniture->furniture_id);
                      if ( home_furniture_config_ptr )
                      {
                        if ( *(_BYTE *)(((unsigned __int64)&home_furniture_config_ptr->special_furniture_type >> 3)
                                      + 0x7FFF8000) != 0
                          && *(_BYTE *)(((unsigned __int64)&home_furniture_config_ptr->special_furniture_type >> 3)
                                      + 0x7FFF8000) <= 3 )
                        {
                          __asan_report_load4();
                        }
                        if ( home_furniture_config_ptr->special_furniture_type == GroupFurnitrue )
                        {
                          if ( *(_BYTE *)(((unsigned __int64)group_furniture >> 3) + 0x7FFF8000) != 0
                            && (char)(((unsigned __int8)group_furniture & 7) + 3) >= *(_BYTE *)(((unsigned __int64)group_furniture >> 3)
                                                                                              + 0x7FFF8000) )
                          {
                            __asan_report_load4();
                          }
                          furniture_group_json_config_ptr = JsonConfigMgr::findFurnitureGroupConfig(
                                                              json_config_mgr,
                                                              group_furniture->furniture_id);
                          if ( furniture_group_json_config_ptr )
                          {
                            scene_group_map = &furniture_group_json_config_ptr->scene_group_map;
                            if ( !common::tools::MiscUtils::isContains<std::unordered_map<unsigned int,unsigned int> const,unsigned int>(
                                    &furniture_group_json_config_ptr->scene_group_map,
                                    (const unsigned int *)(v4 + 48)) )
                            {
                              common::milog::MiLogStream::create(
                                &v333,
                                &common::milog::MiLogDefault::default_log_obj_,
                                3u,
                                "./src/handler/player_home_handler.cpp",
                                "checkArrangementData",
                                1098);
                              v151 = common::milog::MiLogStream::operator<<<char [22],(char *[22])0>(
                                       &v333,
                                       (const char (*)[22])"cannot put in scene: ");
                              v152 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                       v151,
                                       (const unsigned int *)(v4 + 48));
                              v153 = common::milog::MiLogStream::operator<<<char [17],(char *[17])0>(
                                       v152,
                                       (const char (*)[17])", furniture id: ");
                              v154 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                       v153,
                                       &group_furniture->furniture_id);
                              v139 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(
                                       v154,
                                       (const char (*)[8])", uid: ");
                              if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                                __asan_report_load8();
                            }
                            else
                            {
                              group_furniture_pos = &group_furniture->spawn_pos;
                              if ( *(_BYTE *)(((unsigned __int64)furniture_group_json_config_ptr >> 3) + 0x7FFF8000) != 0
                                && *(_BYTE *)(((unsigned __int64)furniture_group_json_config_ptr >> 3) + 0x7FFF8000) <= 3 )
                              {
                                __asan_report_load4();
                              }
                              valid_cylinder_radius = furniture_group_json_config_ptr->radius;
                              if ( *(_BYTE *)(((unsigned __int64)&furniture_group_json_config_ptr->height >> 3)
                                            + 0x7FFF8000) != 0
                                && (char)((((_BYTE)furniture_group_json_config_ptr + 4) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&furniture_group_json_config_ptr->height >> 3) + 0x7FFF8000) )
                              {
                                __asan_report_load4();
                              }
                              valid_cylinder_height = furniture_group_json_config_ptr->height;
                              furniture_group_config_map = &furniture_group_json_config_ptr->furniture_group_config_map;
                              v155 = std::vector<HomeFurnitureData>::size(&furniture_group_data->virtual_furniure_vec);
                              if ( v155 == std::unordered_map<unsigned int,unsigned int>::size(furniture_group_config_map) )
                              {
                                __for_range_10 = &furniture_group_data->virtual_furniure_vec;
                                __for_begin_1._M_current = std::vector<HomeFurnitureData>::begin(&furniture_group_data->virtual_furniure_vec)._M_current;
                                __for_end_0._M_current = std::vector<HomeFurnitureData>::end(__for_range_10)._M_current;
                                while ( 1 )
                                {
                                  if ( !__gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(
                                          &__for_begin_1,
                                          &__for_end_0) )
                                  {
                                    __gnu_cxx::__normal_iterator<HomeFurnitureGroupData const*,std::vector<HomeFurnitureGroupData>>::operator++(&__for_begin_0);
                                    goto LABEL_224;
                                  }
                                  virtual_furniture = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin_1);
                                  if ( !HomeFurnitureData::isValid(virtual_furniture) )
                                  {
                                    common::milog::MiLogStream::create(
                                      &v333,
                                      &common::milog::MiLogDefault::default_log_obj_,
                                      3u,
                                      "./src/handler/player_home_handler.cpp",
                                      "checkArrangementData",
                                      1120);
                                    if ( *(_BYTE *)(((unsigned __int64)virtual_furniture >> 3) + 0x7FFF8000) != 0
                                      && (char)(((unsigned __int8)virtual_furniture & 7) + 3) >= *(_BYTE *)(((unsigned __int64)virtual_furniture >> 3) + 0x7FFF8000) )
                                    {
                                      __asan_report_load4();
                                    }
                                    common::milog::MiLogStream::operator()(
                                      &v333,
                                      "furniture_id:%u invalid",
                                      virtual_furniture->furniture_id);
                                    common::milog::MiLogStream::~MiLogStream(&v333);
                                    v3 = 551;
                                    goto LABEL_294;
                                  }
                                  if ( !common::tools::MiscUtils::isContains<std::unordered_map<unsigned int,unsigned int> const,unsigned int>(
                                          furniture_group_config_map,
                                          &virtual_furniture->furniture_id) )
                                  {
                                    common::milog::MiLogStream::create(
                                      &v333,
                                      &common::milog::MiLogDefault::default_log_obj_,
                                      3u,
                                      "./src/handler/player_home_handler.cpp",
                                      "checkArrangementData",
                                      1125);
                                    v162 = common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
                                             &v333,
                                             (const char (*)[46])"virtual furniture not in json, furniture id: ");
                                    v163 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                             v162,
                                             &virtual_furniture->furniture_id);
                                    v139 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                                             v163,
                                             (const char (*)[7])" uid: ");
                                    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                                      __asan_report_load8();
                                    goto LABEL_289;
                                  }
                                  if ( getPlaneDistance(&virtual_furniture->spawn_pos, group_furniture_pos) > valid_cylinder_radius )
                                    goto LABEL_284;
                                  if ( *(_BYTE *)(((unsigned __int64)&virtual_furniture->spawn_pos.y >> 3) + 0x7FFF8000) != 0
                                    && (char)((((_BYTE)virtual_furniture + 8) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&virtual_furniture->spawn_pos.y >> 3) + 0x7FFF8000) )
                                  {
                                    __asan_report_load4();
                                  }
                                  *(float *)&v164 = virtual_furniture->spawn_pos.y;
                                  if ( *(_BYTE *)(((unsigned __int64)&group_furniture_pos->y >> 3) + 0x7FFF8000) != 0
                                    && (char)((((_BYTE)group_furniture_pos + 4) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&group_furniture_pos->y >> 3) + 0x7FFF8000) )
                                  {
                                    v164 = __asan_report_load4();
                                  }
                                  if ( *(float *)&v164 <= (float)(group_furniture_pos->y + valid_cylinder_height)
                                    && (float)(group_furniture_pos->y - valid_cylinder_height) <= virtual_furniture->spawn_pos.y )
                                  {
                                    v165 = 0;
                                  }
                                  else
                                  {
LABEL_284:
                                    v165 = 1;
                                  }
                                  if ( v165 )
                                    break;
                                  __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin_1);
                                }
                                common::milog::MiLogStream::create(
                                  &v333,
                                  &common::milog::MiLogDefault::default_log_obj_,
                                  3u,
                                  "./src/handler/player_home_handler.cpp",
                                  "checkArrangementData",
                                  1133);
                                v166 = common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
                                         &v333,
                                         (const char (*)[46])"virtual furniture invalid pos, furniture id: ");
                                v167 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                         v166,
                                         &virtual_furniture->furniture_id);
                                v168 = common::milog::MiLogStream::operator<<<char [15],(char *[15])0>(
                                         v167,
                                         (const char (*)[15])", vitrual_pos:");
                                v169 = operator<<(v168, &virtual_furniture->spawn_pos);
                                v170 = common::milog::MiLogStream::operator<<<char [13],(char *[13])0>(
                                         v169,
                                         (const char (*)[13])", group_pos:");
                                v171 = operator<<(v170, group_furniture_pos);
                                v139 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                                         v171,
                                         (const char (*)[7])" uid: ");
                                if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                                  __asan_report_load8();
                              }
                              else
                              {
                                common::milog::MiLogStream::create(
                                  &v333,
                                  &common::milog::MiLogDefault::default_log_obj_,
                                  3u,
                                  "./src/handler/player_home_handler.cpp",
                                  "checkArrangementData",
                                  1110);
                                v156 = common::milog::MiLogStream::operator<<<char [28],(char *[28])0>(
                                         &v333,
                                         (const char (*)[28])"virtual_furniure_vec size: ");
                                __for_begin_1._M_current = (const HomeFurnitureData *)std::vector<HomeFurnitureData>::size(&furniture_group_data->virtual_furniure_vec);
                                v157 = common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(
                                         v156,
                                         (const unsigned __int64 *)&__for_begin_1);
                                v158 = common::milog::MiLogStream::operator<<<char [34],(char *[34])0>(
                                         v157,
                                         (const char (*)[34])"furniture_group_config_map size: ");
                                __for_end_0._M_current = (const HomeFurnitureData *)std::unordered_map<unsigned int,unsigned int>::size(furniture_group_config_map);
                                v159 = common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(
                                         v158,
                                         (const unsigned __int64 *)&__for_end_0);
                                v160 = common::milog::MiLogStream::operator<<<char [17],(char *[17])0>(
                                         v159,
                                         (const char (*)[17])", furniture id: ");
                                v161 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                         v160,
                                         &group_furniture->furniture_id);
                                v139 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(
                                         v161,
                                         (const char (*)[8])", uid: ");
                                if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                                  __asan_report_load8();
                              }
                            }
                          }
                          else
                          {
                            common::milog::MiLogStream::create(
                              &v333,
                              &common::milog::MiLogDefault::default_log_obj_,
                              3u,
                              "./src/handler/player_home_handler.cpp",
                              "checkArrangementData",
                              1091);
                            v149 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
                                     &v333,
                                     (const char (*)[53])off_26385FA0);
                            v150 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                     v149,
                                     &group_furniture->furniture_id);
                            v139 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                                     v150,
                                     (const char (*)[7])" uid: ");
                            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                              __asan_report_load8();
                          }
                        }
                        else
                        {
                          common::milog::MiLogStream::create(
                            &v333,
                            &common::milog::MiLogDefault::default_log_obj_,
                            3u,
                            "./src/handler/player_home_handler.cpp",
                            "checkArrangementData",
                            1085);
                          v147 = common::milog::MiLogStream::operator<<<char [47],(char *[47])0>(
                                   &v333,
                                   (const char (*)[47])"special furniture type invalid, furniture id: ");
                          v148 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                   v147,
                                   &group_furniture->furniture_id);
                          v139 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                                   v148,
                                   (const char (*)[7])" uid: ");
                          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                            __asan_report_load8();
                        }
                      }
                      else
                      {
                        common::milog::MiLogStream::create(
                          &v333,
                          &common::milog::MiLogDefault::default_log_obj_,
                          3u,
                          "./src/handler/player_home_handler.cpp",
                          "checkArrangementData",
                          1080);
                        v145 = common::milog::MiLogStream::operator<<<char [48],(char *[48])0>(
                                 &v333,
                                 (const char (*)[48])off_26385EE0);
                        v146 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                 v145,
                                 &group_furniture->furniture_id);
                        v139 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                                 v146,
                                 (const char (*)[7])" uid: ");
                        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                          __asan_report_load8();
                      }
                    }
                  }
                  else
                  {
                    common::milog::MiLogStream::create(
                      &v333,
                      &common::milog::MiLogDefault::default_log_obj_,
                      3u,
                      "./src/handler/player_home_handler.cpp",
                      "checkArrangementData",
                      1067);
                    v137 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                             &v333,
                             (const char (*)[24])"group_furniture_index: ");
                    v138 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                             v137,
                             &furniture_group_data->group_furniture_index);
                    v139 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                             v138,
                             (const char (*)[24])off_26385E40);
                    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                      __asan_report_load8();
                  }
LABEL_289:
                  *(_DWORD *)(v4 + 224) = Player::getUid(this->player_);
                  common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                    v139,
                    (const unsigned int *)(v4 + 224));
                  common::milog::MiLogStream::~MiLogStream(&v333);
                  v3 = 9781;
LABEL_294:
                  v172 = 0;
                }
                else if ( std::vector<HomeFurnitureCustomSuiteData>::size(&block_data->furniture_custom_suite_vec) > *(unsigned int *)(v4 + 64)
                       || (v173 = std::vector<HomeFurnitureCustomSuiteData>::size(&block_data->furniture_custom_suite_vec),
                           v173 > ConstValueExcelConfigMgr::getHomeFurnitureCustomSuiteNumLimit(&txt_config_mgr->const_value_config_mgr)) )
                {
                  v3 = 9790;
                  v172 = 0;
                }
                else
                {
                  __for_range_11 = &block_data->furniture_custom_suite_vec;
                  __for_begin_0._M_current = (const HomeFurnitureGroupData *)std::vector<HomeFurnitureCustomSuiteData>::begin(&block_data->furniture_custom_suite_vec)._M_current;
                  __for_end_1._M_current = std::vector<HomeFurnitureCustomSuiteData>::end(__for_range_11)._M_current;
                  while ( 1 )
                  {
                    if ( !__gnu_cxx::operator!=<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>(
                            (const __gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *)&__for_begin_0,
                            &__for_end_1) )
                    {
                      v172 = 1;
                      goto LABEL_328;
                    }
                    suite_0 = __gnu_cxx::__normal_iterator<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *const)&__for_begin_0);
                    if ( std::vector<int>::size(&suite_0->included_furniture_index_vec) <= 2 )
                    {
                      common::milog::MiLogStream::create(
                        &v333,
                        &common::milog::MiLogDefault::default_log_obj_,
                        1u,
                        "./src/handler/player_home_handler.cpp",
                        "checkArrangementData",
                        1150);
                      v175 = common::milog::MiLogStream::operator<<<char [39],(char *[39])0>(
                               &v333,
                               (const char (*)[39])"suite furniture size too small. guid: ");
                      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v175, &suite_0->guid);
                      common::milog::MiLogStream::~MiLogStream(&v333);
                      v3 = 9787;
                      goto LABEL_327;
                    }
                    v176 = std::vector<int>::size(&suite_0->included_furniture_index_vec);
                    if ( v176 > ConstValueExcelConfigMgr::getHomeFurnitureCustomSuiteCapacity(&txt_config_mgr->const_value_config_mgr) )
                      break;
                    is_first_furniture = 1;
                    __for_range_12 = &suite_0->included_furniture_index_vec;
                    __for_begin_1._M_current = (const HomeFurnitureData *)std::vector<int>::begin(&suite_0->included_furniture_index_vec)._M_current;
                    __for_end_0._M_current = (const HomeFurnitureData *)std::vector<int>::end(__for_range_12)._M_current;
                    while ( __gnu_cxx::operator!=<int const*,std::vector<int>>(
                              (const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *)&__for_begin_1,
                              (const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *)&__for_end_0) )
                    {
                      v178 = __gnu_cxx::__normal_iterator<int const*,std::vector<int>>::operator*((const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *const)&__for_begin_1);
                      if ( *(_BYTE *)(((unsigned __int64)v178 >> 3) + 0x7FFF8000) != 0
                        && (char)(((unsigned __int8)v178 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v178 >> 3)
                                                                               + 0x7FFF8000) )
                      {
                        __asan_report_load4();
                      }
                      *(_DWORD *)(v4 + 192) = *v178;
                      is_furniture_suite_virtual_root = is_first_furniture;
                      is_first_furniture = 0;
                      v179 = std::set<int>::insert(
                               (std::set<int> *const)(v4 + 864),
                               (const std::set<int>::value_type *)(v4 + 192));
                      if ( !v179.second )
                      {
                        common::milog::MiLogStream::create(
                          &v331,
                          &common::milog::MiLogDefault::default_log_obj_,
                          1u,
                          "./src/handler/player_home_handler.cpp",
                          "checkArrangementData",
                          1165);
                        v180 = common::milog::MiLogStream::operator<<<char [27],(char *[27])0>(
                                 &v331,
                                 (const char (*)[27])"duplicate furniture_index:");
                        v181 = common::milog::MiLogStream::operator<<<int,(int *)0>(v180, (const int *)(v4 + 192));
                        v182 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                                 v181,
                                 (const char (*)[7])" guid:");
                        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v182, &suite_0->guid);
                        common::milog::MiLogStream::~MiLogStream(&v331);
                        v3 = 9786;
                        goto LABEL_327;
                      }
                      if ( *(int *)(v4 + 192) < 0
                        || (v183 = *(int *)(v4 + 192),
                            v183 >= std::vector<HomeFurnitureData>::size(&block_data->deploy_furniure_vec)) )
                      {
                        common::milog::MiLogStream::create(
                          &v332,
                          &common::milog::MiLogDefault::default_log_obj_,
                          4u,
                          "./src/handler/player_home_handler.cpp",
                          "checkArrangementData",
                          1170);
                        v185 = common::milog::MiLogStream::operator<<<char [17],(char *[17])0>(
                                 &v332,
                                 (const char (*)[17])"furniture_index:");
                        v186 = common::milog::MiLogStream::operator<<<int,(int *)0>(v185, (const int *)(v4 + 192));
                        v187 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                                 v186,
                                 (const char (*)[24])off_263863C0);
                        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v187, &suite_0->guid);
                        common::milog::MiLogStream::~MiLogStream(&v332);
                        v3 = 9766;
                        goto LABEL_327;
                      }
                      furniture_2 = std::vector<HomeFurnitureData>::operator[](
                                      &block_data->deploy_furniure_vec,
                                      *(int *)(v4 + 192));
                      v188 = &txt_config_mgr->home_config_mgr;
                      if ( *(_BYTE *)(((unsigned __int64)furniture_2 >> 3) + 0x7FFF8000) != 0
                        && (char)(((unsigned __int8)furniture_2 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture_2 >> 3)
                                                                                      + 0x7FFF8000) )
                      {
                        __asan_report_load4();
                      }
                      *(_DWORD *)(v4 + 208) = HomeWorldExcelConfigMgr::getFurnitureDeploySurfaceType(
                                                v188,
                                                furniture_2->furniture_id);
                      HomeFurnitureCustomSuiteForbiddenTypeSet = ConstValueExcelConfigMgr::getHomeFurnitureCustomSuiteForbiddenTypeSet(&txt_config_mgr->const_value_config_mgr);
                      if ( common::tools::MiscUtils::isContains<std::set<data::FurnitureDeploySurfaceType> const,data::FurnitureDeploySurfaceType>(
                             HomeFurnitureCustomSuiteForbiddenTypeSet,
                             (const data::FurnitureDeploySurfaceType *)(v4 + 208))
                        && (!is_furniture_suite_virtual_root || *(_DWORD *)(v4 + 208) != 14) )
                      {
                        common::milog::MiLogStream::create(
                          &v333,
                          &common::milog::MiLogDefault::default_log_obj_,
                          1u,
                          "./src/handler/player_home_handler.cpp",
                          "checkArrangementData",
                          1182);
                        v190 = common::milog::MiLogStream::operator<<<char [41],(char *[41])0>(
                                 &v333,
                                 (const char (*)[41])"surface type is forbidden, surface_type:");
                        *(_DWORD *)(v4 + 224) = *(_DWORD *)(v4 + 208);
                        v191 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                                 v190,
                                 (const unsigned int *)(v4 + 224));
                        v192 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                                 v191,
                                 (const char (*)[7])" guid:");
                        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v192, &suite_0->guid);
                        common::milog::MiLogStream::~MiLogStream(&v333);
                        v3 = 9791;
                        goto LABEL_327;
                      }
                      __gnu_cxx::__normal_iterator<int const*,std::vector<int>>::operator++((__gnu_cxx::__normal_iterator<int const*,std::vector<int> > *const)&__for_begin_1);
                    }
                    __gnu_cxx::__normal_iterator<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>::operator++((__gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *const)&__for_begin_0);
                  }
                  common::milog::MiLogStream::create(
                    &v333,
                    &common::milog::MiLogDefault::default_log_obj_,
                    1u,
                    "./src/handler/player_home_handler.cpp",
                    "checkArrangementData",
                    1155);
                  v177 = common::milog::MiLogStream::operator<<<char [32],(char *[32])0>(
                           &v333,
                           (const char (*)[32])"suite furniture too big. guid: ");
                  common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v177, &suite_0->guid);
                  common::milog::MiLogStream::~MiLogStream(&v333);
                  v3 = 9788;
LABEL_327:
                  v172 = 0;
                }
LABEL_328:
                std::set<unsigned int>::~set((std::set<unsigned int> *const)(v4 + 944));
                if ( v172 == 1 )
                  v30 = 2;
                else
                  v30 = 1;
              }
            }
            else
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                1u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                1015);
              v92 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(
                      &v333,
                      (const char (*)[10])"block_id:");
              v93 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v92, block_id);
              v94 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                      v93,
                      (const char (*)[24])" furniture_suite_count:");
              v95 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                      v94,
                      (const unsigned int *)(v4 + 96));
              v96 = common::milog::MiLogStream::operator<<<char [21],(char *[21])0>(
                      v95,
                      (const char (*)[21])" furniture node num:");
              v97 = std::map<unsigned int,unsigned int>::operator[](
                      (std::map<unsigned int,unsigned int> *const)(v4 + 304),
                      (const std::map<unsigned int,unsigned int>::key_type *)(v4 + 80));
              common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v96, v97);
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 9766;
              v30 = 1;
            }
          }
          else
          {
            v30 = 1;
          }
        }
LABEL_331:
        std::set<int>::~set((std::set<int> *const)(v4 + 864));
        if ( v30 )
        {
          if ( v30 == 2 )
            v193 = 2;
          else
            v193 = 1;
        }
        else
        {
          v193 = 0;
        }
        std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v4 + 784));
        if ( v193 )
        {
          if ( v193 == 2 )
            v194 = 2;
          else
            v194 = 1;
        }
        else
        {
          v194 = 0;
        }
        std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v4 + 704));
        if ( v194 )
        {
          if ( v194 == 2 )
            v195 = 2;
          else
            v195 = 1;
        }
        else
        {
          v195 = 0;
        }
        std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v4 + 624));
        if ( v195 && v195 != 2 )
          goto LABEL_457;
        std::_Rb_tree_const_iterator<std::pair<unsigned int const,HomeBlockData>>::operator++(&__for_begin);
      }
      if ( !std::optional<HomeFurnitureData>::has_value(&arrangement_data->main_house) )
        goto LABEL_354;
      v196 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
      v197 = std::map<unsigned int,unsigned int>::operator[](
               (std::map<unsigned int,unsigned int> *const)(v4 + 304),
               &v196->furniture_id);
      if ( *(_BYTE *)(((unsigned __int64)v197 >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)v197 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v197 >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      if ( *v197 == 1 )
      {
LABEL_354:
        player_another_home_scene = PlayerHomeModule::getScene(player_home_module, another_scene_id);
        if ( *(char *)(((unsigned __int64)&player_another_home_scene->is_unlocked >> 3) + 0x7FFF8000) < 0 )
          __asan_report_load1(&player_another_home_scene->is_unlocked);
        if ( player_another_home_scene->is_unlocked )
        {
          __for_range_13 = &another_scene_data_ptr->arrangement_data.block_data_map;
          __for_begin_0._M_current = (const HomeFurnitureGroupData *)std::map<unsigned int,HomeBlockData>::begin(&another_scene_data_ptr->arrangement_data.block_data_map)._M_node;
          __for_end_1._M_current = (const HomeFurnitureCustomSuiteData *)std::map<unsigned int,HomeBlockData>::end(__for_range_13)._M_node;
          while ( std::operator!=(
                    (const std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData> >::_Self *)&__for_begin_0,
                    (const std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData> >::_Self *)&__for_end_1) )
          {
            v265 = std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData> > *const)&__for_begin_0);
            block_id_0 = std::get<0ul,unsigned int const,HomeBlockData>(v265);
            block_data_0 = (std::tuple_element<1,const std::pair<unsigned int const,HomeBlockData> >::type *)std::get<1ul,unsigned int const,HomeBlockData>(v265);
            if ( *(_BYTE *)(((unsigned __int64)block_id_0 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)block_id_0 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)block_id_0 >> 3)
                                                                           + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            player_home_block_0 = PlayerHomeScene::getBlock(player_another_home_scene, *block_id_0);
            v206 = &player_home_block_0->is_unlocked;
            if ( *(_BYTE *)(((unsigned __int64)v206 >> 3) + 0x7FFF8000) != 0
              && ((unsigned __int8)v206 & 7) >= *(_BYTE *)(((unsigned __int64)v206 >> 3) + 0x7FFF8000) )
            {
              __asan_report_load1(v206);
            }
            if ( player_home_block_0->is_unlocked )
            {
              __for_range_14 = &block_data_0->persistent_furniture_vec;
              __for_begin_1._M_current = std::vector<HomeFurnitureData>::begin(&block_data_0->persistent_furniture_vec)._M_current;
              __for_end_0._M_current = std::vector<HomeFurnitureData>::end(__for_range_14)._M_current;
              while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(
                        &__for_begin_1,
                        &__for_end_0) )
              {
                furniture_3 = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin_1);
                v207 = std::map<unsigned int,unsigned int>::operator[](
                         (std::map<unsigned int,unsigned int> *const)(v4 + 304),
                         &furniture_3->furniture_id);
                if ( *(_BYTE *)(((unsigned __int64)v207 >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)v207 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v207 >> 3) + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                ++*v207;
                __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin_1);
              }
              __for_range_15 = &block_data_0->deploy_furniure_vec;
              __for_begin_1._M_current = std::vector<HomeFurnitureData>::begin(&block_data_0->deploy_furniure_vec)._M_current;
              __for_end_0._M_current = std::vector<HomeFurnitureData>::end(__for_range_15)._M_current;
              while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(
                        &__for_begin_1,
                        &__for_end_0) )
              {
                furniture_4 = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin_1);
                v208 = std::map<unsigned int,unsigned int>::operator[](
                         (std::map<unsigned int,unsigned int> *const)(v4 + 304),
                         &furniture_4->furniture_id);
                if ( *(_BYTE *)(((unsigned __int64)v208 >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)v208 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v208 >> 3) + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                ++*v208;
                __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin_1);
              }
              __for_range_16 = &block_data_0->deploy_npc_vec;
              __for_begin_1._M_current = (const HomeFurnitureData *)std::vector<HomeNpcData>::begin(&block_data_0->deploy_npc_vec)._M_current;
              __for_end_0._M_current = (const HomeFurnitureData *)std::vector<HomeNpcData>::end(__for_range_16)._M_current;
              while ( __gnu_cxx::operator!=<HomeNpcData const*,std::vector<HomeNpcData>>(
                        (const __gnu_cxx::__normal_iterator<const HomeNpcData*,std::vector<HomeNpcData> > *)&__for_begin_1,
                        (const __gnu_cxx::__normal_iterator<const HomeNpcData*,std::vector<HomeNpcData> > *)&__for_end_0) )
              {
                npc_0 = __gnu_cxx::__normal_iterator<HomeNpcData const*,std::vector<HomeNpcData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeNpcData*,std::vector<HomeNpcData> > *const)&__for_begin_1);
                v209 = std::map<unsigned int,unsigned int>::operator[](
                         (std::map<unsigned int,unsigned int> *const)(v4 + 384),
                         &npc_0->avatar_id);
                if ( *(_BYTE *)(((unsigned __int64)v209 >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)v209 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v209 >> 3) + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                ++*v209;
                __gnu_cxx::__normal_iterator<HomeNpcData const*,std::vector<HomeNpcData>>::operator++((__gnu_cxx::__normal_iterator<const HomeNpcData*,std::vector<HomeNpcData> > *const)&__for_begin_1);
              }
              total_avatar_count += std::vector<HomeNpcData>::size(&block_data_0->deploy_npc_vec);
              *(_DWORD *)(v4 + 112) += std::vector<HomeFurnitureGroupData>::size(&block_data_0->deploy_furniture_group_vec);
            }
            std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData> > *const)&__for_begin_0);
          }
        }
        if ( ConstValueExcelConfigMgr::getHomeRoomFurnitureGroupLimit(&txt_config_mgr->const_value_config_mgr) >= *(_DWORD *)(v4 + 112) )
        {
          __for_range_17 = (std::map<unsigned int,unsigned int> *)(v4 + 304);
          __for_begin_1._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::begin((std::map<unsigned int,unsigned int> *const)(v4 + 304))._M_node;
          __for_end_0._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::end(__for_range_17)._M_node;
          while ( std::operator!=(
                    (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_begin_1,
                    (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_end_0) )
          {
            __in = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_1);
            furniture_id = std::get<0ul,unsigned int const,unsigned int>(__in);
            count = std::get<1ul,unsigned int const,unsigned int>(__in);
            if ( *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            v213 = *count;
            if ( *(_BYTE *)(((unsigned __int64)furniture_id >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)furniture_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture_id >> 3)
                                                                             + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            ret = PlayerHomeHandler::checkArrangeLimit(*furniture_id, v213);
            if ( ret )
            {
              v3 = ret;
              goto LABEL_457;
            }
            if ( *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            v214 = *count;
            if ( *(_BYTE *)(((unsigned __int64)furniture_id >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)furniture_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture_id >> 3)
                                                                             + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            reta = PlayerHomeHandler::checkFurnitureItemCount(this, *furniture_id, v214);
            if ( reta )
            {
              v3 = reta;
              goto LABEL_457;
            }
            std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_1);
          }
          __for_range_18 = (std::map<unsigned int,unsigned int> *)(v4 + 384);
          __for_begin_1._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::begin((std::map<unsigned int,unsigned int> *const)(v4 + 384))._M_node;
          __for_end_0._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::end(__for_range_18)._M_node;
          while ( std::operator!=(
                    (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_begin_1,
                    (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_end_0) )
          {
            v280 = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_1);
            avatar_id_0 = std::get<0ul,unsigned int const,unsigned int>(v280);
            count_0 = std::get<1ul,unsigned int const,unsigned int>(v280);
            if ( *(_BYTE *)(((unsigned __int64)count_0 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)count_0 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)count_0 >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            if ( *count_0 != 1 )
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                1u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                1253);
              v215 = *count_0;
              if ( *(_BYTE *)(((unsigned __int64)avatar_id_0 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)avatar_id_0 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)avatar_id_0 >> 3)
                                                                              + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              common::milog::MiLogStream::operator()(&v333, off_26386580, *avatar_id_0, v215);
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 9765;
              goto LABEL_457;
            }
            v216 = &txt_config_mgr->home_config_mgr;
            if ( *(_BYTE *)(((unsigned __int64)avatar_id_0 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)avatar_id_0 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)avatar_id_0 >> 3)
                                                                            + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            if ( !HomeWorldExcelConfigMgr::findHomeWorldNPCExcelConfigByAvatarId(v216, *avatar_id_0) )
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                1u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                1259);
              v217 = common::milog::MiLogStream::operator<<<char [67],(char *[67])0>(
                       &v333,
                       (const char (*)[67])"findHomeWorldNPCExcelConfigByAvatarId() return nullptr. avatar_id:");
              common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v217, avatar_id_0);
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 9765;
              goto LABEL_457;
            }
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            AvatarComp = (unsigned int)Player::getAvatarComp(this->player_);
            if ( *(_BYTE *)(((unsigned __int64)avatar_id_0 >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)avatar_id_0 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)avatar_id_0 >> 3)
                                                                            + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            PlayerAvatarComp::findFormalAvatarByAvatarId((const PlayerAvatarComp *const)(v4 + 272), AvatarComp);
            v219 = std::operator==<FormalAvatar>((const std::shared_ptr<FormalAvatar> *)(v4 + 272), 0LL);
            std::shared_ptr<FormalAvatar>::~shared_ptr((std::shared_ptr<FormalAvatar> *const)(v4 + 272));
            if ( v219 )
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                1u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                1264);
              v220 = common::milog::MiLogStream::operator<<<char [56],(char *[56])0>(
                       &v333,
                       (const char (*)[56])"findFormalAvatarByAvatarId() return nullptr. avatar_id:");
              common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v220, avatar_id_0);
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 9765;
              goto LABEL_457;
            }
            std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_1);
          }
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          HomeComp = Player::getHomeComp(this->player_);
          home_level_config_ptr = PlayerHomeComp::getHomeLevelConfig(HomeComp);
          if ( home_level_config_ptr )
          {
            if ( !total_avatar_count )
              goto LABEL_430;
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            BasicComp = Player::getBasicComp(this->player_);
            if ( !PlayerBasicComp::isStateOpen(BasicComp, 0x5DFu) )
              v225 = 1;
            else
LABEL_430:
              v225 = 0;
            if ( v225 )
            {
              common::milog::MiLogStream::create(
                &v333,
                &common::milog::MiLogDefault::default_log_obj_,
                4u,
                "./src/handler/player_home_handler.cpp",
                "checkArrangementData",
                1277);
              v226 = common::milog::MiLogStream::operator<<<char [63],(char *[63])0>(
                       &v333,
                       (const char (*)[63])"OPEN_STATE_HOME_AVATAR is locked. but avatar want in home uid:");
              if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                __asan_report_load8();
              *(_DWORD *)(v4 + 224) = Player::getUid(this->player_);
              common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v226,
                (const unsigned int *)(v4 + 224));
              common::milog::MiLogStream::~MiLogStream(&v333);
              v3 = 9768;
            }
            else
            {
              if ( *(_BYTE *)(((unsigned __int64)&home_level_config_ptr->deploy_npc_count >> 3) + 0x7FFF8000) != 0
                && (char)((((_BYTE)home_level_config_ptr + 44) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&home_level_config_ptr->deploy_npc_count >> 3)
                                                                                     + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              if ( total_avatar_count <= home_level_config_ptr->deploy_npc_count )
              {
                __for_range_19 = (std::set<unsigned int> *)(v4 + 544);
                __for_begin_1._M_current = (const HomeFurnitureData *)std::set<unsigned int>::begin((const std::set<unsigned int> *const)(v4 + 544))._M_node;
                __for_end_0._M_current = (const HomeFurnitureData *)std::set<unsigned int>::end(__for_range_19)._M_node;
                while ( std::operator!=(
                          (const std::_Rb_tree_const_iterator<unsigned int>::_Self *)&__for_begin_1,
                          (const std::_Rb_tree_const_iterator<unsigned int>::_Self *)&__for_end_0) )
                {
                  suite_id = std::_Rb_tree_const_iterator<unsigned int>::operator*((const std::_Rb_tree_const_iterator<unsigned int> *const)&__for_begin_1);
                  if ( *(_BYTE *)(((unsigned __int64)suite_id >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)suite_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)suite_id >> 3)
                                                                               + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  if ( !PlayerHomeComp::isFurnitureSuiteUnlocked(player_home_comp, *suite_id) )
                  {
                    common::milog::MiLogStream::create(
                      &v333,
                      &common::milog::MiLogDefault::default_log_obj_,
                      1u,
                      "./src/handler/player_home_handler.cpp",
                      "checkArrangementData",
                      1290);
                    if ( *(_BYTE *)(((unsigned __int64)suite_id >> 3) + 0x7FFF8000) != 0
                      && (char)(((unsigned __int8)suite_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)suite_id >> 3)
                                                                                 + 0x7FFF8000) )
                    {
                      __asan_report_load4();
                    }
                    common::milog::MiLogStream::operator()(&v333, "suite_id not unlocked. suite_id:%u", *suite_id);
                    common::milog::MiLogStream::~MiLogStream(&v333);
                    v3 = 9728;
                    goto LABEL_457;
                  }
                  std::_Rb_tree_const_iterator<unsigned int>::operator++((std::_Rb_tree_const_iterator<unsigned int> *const)&__for_begin_1);
                }
                if ( *(_BYTE *)(((unsigned __int64)&arrangement_data->bgm_id >> 3) + 0x7FFF8000) != 0
                  && (char)((((_BYTE)arrangement_data - 36) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&arrangement_data->bgm_id >> 3)
                                                                                  + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                bgm_id = arrangement_data->bgm_id;
                v228 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)module_data_ptr);
                *(_DWORD *)(v4 + 32) = PlayerHomeHandler::checkHomeBgmUsable(
                                         this,
                                         player_home_comp,
                                         v228,
                                         arrangement_data,
                                         bgm_id);
                if ( *(_DWORD *)(v4 + 32) )
                {
                  common::milog::MiLogStream::create(
                    &v333,
                    &common::milog::MiLogDefault::default_log_obj_,
                    1u,
                    "./src/handler/player_home_handler.cpp",
                    "checkArrangementData",
                    1298);
                  v229 = common::milog::MiLogStream::operator<<<char [33],(char *[33])0>(
                           &v333,
                           (const char (*)[33])"checkHomeBgmUsable fail, bgm_id:");
                  v230 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                           v229,
                           &arrangement_data->bgm_id);
                  v231 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v230, (const char (*)[6])" ret:");
                  v232 = common::milog::MiLogStream::operator<<<int,(int *)0>(v231, (const int *)(v4 + 32));
                  v233 = common::milog::MiLogStream::operator<<<char [9],(char *[9])0>(
                           v232,
                           (const char (*)[9])" player:");
                  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                    __asan_report_load8();
                  operator<<(v233, this->player_);
                  common::milog::MiLogStream::~MiLogStream(&v333);
                  v3 = *(_DWORD *)(v4 + 32);
                }
                else
                {
                  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                    __asan_report_load8();
                  player = this->player_;
                  std::ostringstream::str(&v333, v4 + 1120);
                  Player::notifyServerLog(player, SERVER_LOG_NONE, LOG_LEVEL_DEBUG_0, (const std::string *)&v333);
                  std::string::~string(&v333);
                  v3 = 0;
                }
              }
              else
              {
                common::milog::MiLogStream::create(
                  &v333,
                  &common::milog::MiLogDefault::default_log_obj_,
                  1u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementData",
                  1282);
                common::milog::MiLogStream::operator()(
                  &v333,
                  "total_avatar_count:%u greate than allow_max_count:%u",
                  total_avatar_count,
                  home_level_config_ptr->deploy_npc_count);
                common::milog::MiLogStream::~MiLogStream(&v333);
                v3 = -1;
              }
            }
          }
          else
          {
            common::milog::MiLogStream::create(
              &v333,
              &common::milog::MiLogDefault::default_log_obj_,
              4u,
              "./src/handler/player_home_handler.cpp",
              "checkArrangementData",
              1272);
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            v222 = Player::getHomeComp(this->player_);
            HomeLevel = PlayerHomeComp::getHomeLevel(v222);
            common::milog::MiLogStream::operator()(&v333, "home_level_config_ptr is null. home_level:%u", HomeLevel);
            common::milog::MiLogStream::~MiLogStream(&v333);
            v3 = -1;
          }
        }
        else
        {
          common::milog::MiLogStream::create(
            &v333,
            &common::milog::MiLogDefault::default_log_obj_,
            3u,
            "./src/handler/player_home_handler.cpp",
            "checkArrangementData",
            1228);
          v210 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                   &v333,
                   (const char (*)[24])"group furniture count :");
          v211 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                   v210,
                   (const unsigned int *)(v4 + 112));
          v212 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v211, (const char (*)[8])", uid: ");
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          *(_DWORD *)(v4 + 224) = Player::getUid(this->player_);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v212, (const unsigned int *)(v4 + 224));
          common::milog::MiLogStream::~MiLogStream(&v333);
          v3 = 9782;
        }
      }
      else
      {
        common::milog::MiLogStream::create(
          &v333,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "checkArrangementData",
          1193);
        v198 = common::milog::MiLogStream::operator<<<char [15],(char *[15])0>(
                 &v333,
                 (const char (*)[15])"this_scene_id:");
        v199 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                 v198,
                 (const unsigned int *)(v4 + 48));
        v200 = common::milog::MiLogStream::operator<<<char [45],(char *[45])0>(v199, (const char (*)[45])off_263864A0);
        v201 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
        v202 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v200, &v201->furniture_id);
        v203 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v202, (const char (*)[11])" count is ");
        v204 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
        v205 = std::map<unsigned int,unsigned int>::operator[](
                 (std::map<unsigned int,unsigned int> *const)(v4 + 304),
                 &v204->furniture_id);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v203, v205);
        common::milog::MiLogStream::~MiLogStream(&v333);
        v3 = 9767;
      }
LABEL_457:
      std::ostringstream::~ostringstream(v4 + 1120);
      std::unordered_map<unsigned int,unsigned int>::~unordered_map((std::unordered_map<unsigned int,unsigned int> *const)(v4 + 1024));
      std::set<unsigned int>::~set((std::set<unsigned int> *const)(v4 + 544));
      std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v4 + 464));
      std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v4 + 384));
      std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v4 + 304));
    }
    else
    {
      common::milog::MiLogStream::create(
        &v333,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementData",
        837);
      v23 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)module_data_ptr);
      if ( *(_BYTE *)(((unsigned __int64)&v23->module_id >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)v23 + 20) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v23->module_id >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      common::milog::MiLogStream::operator()(
        &v333,
        "scene_id:%u not found in home_module:%u",
        another_scene_id,
        v23->module_id);
      common::milog::MiLogStream::~MiLogStream(&v333);
      v3 = -1;
    }
  }
LABEL_458:
  if ( v334 == (char *)v4 )
  {
    *(_QWORD *)((v4 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8010) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8018) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8020) = 0LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF802C) = 0;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8034) = 0LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF8040) = 0;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8048) = 0LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF8054) = 0;
    *(_QWORD *)((v4 >> 3) + 0x7FFF805C) = 0LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF8068) = 0;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8070) = 0LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF807C) = 0;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8084) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF80B8) = 0LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF80C0) = 0;
  }
  else
  {
    *(_QWORD *)v4 = 1172321806LL;
    __asan_stack_free_5(v4, 1568LL, v334);
  }
  return v3;
};

// Line 1310: range 0000000017CA40A0-0000000017CA4343
int32_t __cdecl PlayerHomeHandler::checkArrangeLimit(uint32_t furniture_item_id, uint32_t arrange_count)
{
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v2; // rax
  data::SpeicalFurnitureType furniture_type; // [rsp+10h] [rbp-50h]
  uint32_t arrange_limit; // [rsp+14h] [rbp-4Ch]
  const data::HomeWorldFurnitureExcelConfig *home_furniture_config_ptr; // [rsp+18h] [rbp-48h]
  std::shared_ptr<Config> v7; // [rsp+20h] [rbp-40h] BYREF
  common::milog::MiLogStream v8; // [rsp+30h] [rbp-30h] BYREF

  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)&v7);
  v2 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v7);
  home_furniture_config_ptr = data::HomeWorldExcelConfigMgrBase::findHomeWorldFurnitureExcelConfig(
                                &v2->design_config.txt_config_mgr.home_config_mgr,
                                furniture_item_id);
  std::shared_ptr<Config>::~shared_ptr(&v7);
  if ( home_furniture_config_ptr )
  {
    if ( *(_BYTE *)(((unsigned __int64)&home_furniture_config_ptr->special_furniture_type >> 3) + 0x7FFF8000) != 0
      && *(_BYTE *)(((unsigned __int64)&home_furniture_config_ptr->special_furniture_type >> 3) + 0x7FFF8000) <= 3 )
    {
      __asan_report_load4();
    }
    furniture_type = home_furniture_config_ptr->special_furniture_type;
    if ( furniture_type == Fish || furniture_type == CustomNodeFurnitrue )
    {
      common::milog::MiLogStream::create(
        &v8,
        &common::milog::MiLogDefault::default_log_obj_,
        3u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangeLimit",
        1323);
      common::milog::MiLogStream::operator()(&v8, "furniture item id: %u can not be arranged", furniture_item_id);
      common::milog::MiLogStream::~MiLogStream(&v8);
      return 9785;
    }
    else
    {
      if ( *(_BYTE *)(((unsigned __int64)&home_furniture_config_ptr->arrange_limit >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)home_furniture_config_ptr - 124) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&home_furniture_config_ptr->arrange_limit >> 3)
                                                                                  + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      arrange_limit = home_furniture_config_ptr->arrange_limit;
      if ( arrange_limit && arrange_limit < arrange_count )
      {
        common::milog::MiLogStream::create(
          &v8,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "checkArrangeLimit",
          1330);
        common::milog::MiLogStream::operator()(
          &v8,
          "furniture reach arrange limit, furniture item id: %u, arrange count: %u, arrange limit: %u",
          furniture_item_id,
          arrange_count,
          arrange_limit);
        common::milog::MiLogStream::~MiLogStream(&v8);
        return 9776;
      }
      else
      {
        return 0;
      }
    }
  }
  else
  {
    common::milog::MiLogStream::create(
      &v8,
      &common::milog::MiLogDefault::default_log_obj_,
      4u,
      "./src/handler/player_home_handler.cpp",
      "checkArrangeLimit",
      1314);
    common::milog::MiLogStream::operator()(&v8, off_26386860, furniture_item_id);
    common::milog::MiLogStream::~MiLogStream(&v8);
    return -1;
  }
};

// Line 1339: range 0000000017CA4344-0000000017CA44F7
int32_t __cdecl PlayerHomeHandler::checkFurnitureItemCount(
        PlayerHomeHandler *const this,
        uint32_t furniture_id,
        uint32_t count)
{
  PlayerItemComp *ItemComp; // rax
  PlayerItemComp *v4; // rax
  uint32_t ItemCount; // eax
  int32_t ret; // [rsp+10h] [rbp-50h]
  data::SpeicalFurnitureType furniture_speical_type; // [rsp+14h] [rbp-4Ch]
  HomeWorldExcelConfigMgr *home_config_mgr; // [rsp+18h] [rbp-48h]
  std::shared_ptr<Config> v11; // [rsp+20h] [rbp-40h] BYREF
  common::milog::MiLogStream v12; // [rsp+30h] [rbp-30h] BYREF

  ret = 0;
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)&v11);
  home_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v11)->design_config.txt_config_mgr.home_config_mgr;
  std::shared_ptr<Config>::~shared_ptr(&v11);
  furniture_speical_type = HomeWorldExcelConfigMgr::getFurnitureSpeicalType(home_config_mgr, furniture_id);
  if ( furniture_speical_type != NPC_1
    && (furniture_speical_type < NPC_1 || (unsigned int)(furniture_speical_type - 7) > 1) )
  {
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    ItemComp = Player::getItemComp(this->player_);
    if ( count > PlayerItemComp::getItemCount(ItemComp, furniture_id) )
    {
      common::milog::MiLogStream::create(
        &v12,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "checkFurnitureItemCount",
        1356);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      v4 = Player::getItemComp(this->player_);
      ItemCount = PlayerItemComp::getItemCount(v4, furniture_id);
      common::milog::MiLogStream::operator()(
        &v12,
        "furniture not enough. furniture_id:%u req_count:%u has_count:%u",
        furniture_id,
        count,
        ItemCount);
      common::milog::MiLogStream::~MiLogStream(&v12);
      return 9721;
    }
  }
  return ret;
};

// Line 1367: range 0000000017CA44F8-0000000017CA4827
uint32_t __cdecl PlayerHomeHandler::getBlockLoadCost(
        const std::map<unsigned int,unsigned int> *block_furniture_id_count_map)
{
  std::pair<unsigned int const,unsigned int> *v1; // rax
  std::pair<unsigned int const,unsigned int> *v2; // rdx
  HomeWorldExcelConfigMgr *p_home_config_mgr; // rcx
  common::milog::MiLogStream *v4; // rax
  uint32_t cost; // ecx
  uint32_t block_load_cost; // [rsp+10h] [rbp-80h]
  std::map<unsigned int,unsigned int>::const_iterator __for_begin; // [rsp+18h] [rbp-78h] BYREF
  std::map<unsigned int,unsigned int>::const_iterator __for_end; // [rsp+20h] [rbp-70h] BYREF
  const std::map<unsigned int,unsigned int> *__for_range; // [rsp+28h] [rbp-68h]
  std::tuple_element<0,const std::pair<unsigned int const,unsigned int> >::type *furniture_id; // [rsp+30h] [rbp-60h]
  std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *count; // [rsp+38h] [rbp-58h]
  const data::HomeWorldFurnitureExcelConfig *furniture_config_ptr; // [rsp+40h] [rbp-50h]
  std::pair<unsigned int const,unsigned int> v14; // [rsp+48h] [rbp-48h] BYREF
  std::shared_ptr<Config> v15; // [rsp+50h] [rbp-40h] BYREF
  common::milog::MiLogStream v16; // [rsp+60h] [rbp-30h] BYREF

  block_load_cost = 0;
  __for_range = block_furniture_id_count_map;
  __for_begin._M_node = std::map<unsigned int,unsigned int>::begin(block_furniture_id_count_map)._M_node;
  __for_end._M_node = std::map<unsigned int,unsigned int>::end(block_furniture_id_count_map)._M_node;
  while ( std::operator!=(&__for_begin, &__for_end) )
  {
    v1 = (std::pair<unsigned int const,unsigned int> *)std::_Rb_tree_const_iterator<std::pair<unsigned int const,unsigned int>>::operator*(&__for_begin);
    v2 = v1;
    if ( ((unsigned __int8)v1 & 7) >= *(_BYTE *)(((unsigned __int64)v1 >> 3) + 0x7FFF8000)
      && *(_BYTE *)(((unsigned __int64)v1 >> 3) + 0x7FFF8000) != 0
      || *(_BYTE *)((((unsigned __int64)&v1->second + 3) >> 3) + 0x7FFF8000) != 0
      && (((unsigned __int8)v1 + 7) & 7) >= *(_BYTE *)((((unsigned __int64)&v1->second + 3) >> 3) + 0x7FFF8000) )
    {
      __asan_report_load_n(v1, 8LL);
    }
    v14 = *v2;
    furniture_id = std::get<0ul,unsigned int const,unsigned int>(&v14);
    count = (std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *)std::get<1ul,unsigned int const,unsigned int>(&v14);
    ServiceBox::findService<GameserverService>();
    GameserverService::getConfig((GameserverService *const)&v15);
    p_home_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v15)->design_config.txt_config_mgr.home_config_mgr;
    if ( *(_BYTE *)(((unsigned __int64)furniture_id >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)furniture_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture_id >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    furniture_config_ptr = data::HomeWorldExcelConfigMgrBase::findHomeWorldFurnitureExcelConfig(
                             p_home_config_mgr,
                             *furniture_id);
    std::shared_ptr<Config>::~shared_ptr(&v15);
    if ( furniture_config_ptr )
    {
      if ( *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      if ( *count )
      {
        if ( *(_BYTE *)(((unsigned __int64)&furniture_config_ptr->cost >> 3) + 0x7FFF8000) != 0
          && *(_BYTE *)(((unsigned __int64)&furniture_config_ptr->cost >> 3) + 0x7FFF8000) <= 3 )
        {
          __asan_report_load4();
        }
        cost = furniture_config_ptr->cost;
        if ( *(_BYTE *)(((unsigned __int64)&furniture_config_ptr->discount_cost >> 3) + 0x7FFF8000) != 0
          && (char)((((_BYTE)furniture_config_ptr - 100) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&furniture_config_ptr->discount_cost >> 3)
                                                                               + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        block_load_cost += cost + furniture_config_ptr->discount_cost * (*count - 1);
      }
    }
    else
    {
      common::milog::MiLogStream::create(
        &v16,
        &common::milog::MiLogDefault::default_log_obj_,
        3u,
        "./src/handler/player_home_handler.cpp",
        "getBlockLoadCost",
        1374);
      v4 = common::milog::MiLogStream::operator<<<char [56],(char *[56])0>(
             &v16,
             (const char (*)[56])"findHomeWorldFurnitureExcelConfig failed, furniture_id:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v4, furniture_id);
      common::milog::MiLogStream::~MiLogStream(&v16);
    }
    std::_Rb_tree_const_iterator<std::pair<unsigned int const,unsigned int>>::operator++(&__for_begin);
  }
  return block_load_cost;
};

// Line 1388: range 0000000017CA4828-0000000017CA5E26
int32_t __cdecl PlayerHomeHandler::onHomeUpdateArrangementInfoReq(
        PlayerHomeHandler *const this,
        const proto::HomeUpdateArrangementInfoReq *req,
        proto::HomeUpdateArrangementInfoRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  common::milog::MiLogStream *v7; // rax
  int32_t v8; // r14d
  Home *v9; // rax
  HomeBasicComp *BasicComp; // rax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v11; // rax
  Home *v12; // rax
  HomeBasicComp *v13; // rax
  Home *v14; // rax
  HomeBasicComp *v15; // rax
  uint32_t EditSceneId; // eax
  Home *v17; // rax
  HomeModuleData *v18; // rax
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v19; // rdx
  common::milog::MiLogStream *v20; // rax
  common::milog::MiLogStream *v21; // rax
  HomeFurnitureData *v22; // rdx
  HomeFurnitureData *v23; // rdx
  std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::pointer v24; // rdx
  unsigned int second; // ecx
  char v26; // al
  HomeSceneArrangementData *v27; // rax
  Home *v28; // rax
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v29; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v30; // rax
  HomeWorld *v31; // r15
  uint32_t v32; // r14d
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v33; // rdx
  common::milog::MiLogStream *v34; // rax
  HomeModuleData *v35; // rax
  HomeModuleData *v36; // rax
  common::milog::MiLogStream *v37; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v38; // rax
  HomeModuleData *v39; // r14
  Home *v40; // rax
  Home *v41; // rcx
  Home *v42; // r15
  uint32_t v43; // r14d
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v44; // rdx
  Home *v45; // r15
  uint32_t v46; // r14d
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v47; // rdx
  Home *v48; // rax
  HomeSceneComp *SceneComp; // rax
  uint32_t *v50; // rdx
  Home *v51; // rax
  HomeGroupRecordComp *GroupRecordComp; // rax
  PlayerHomeComp *HomeComp; // rax
  PlayerHomeComp *v54; // rax
  HomeAvatar *HomeAvatar; // rax
  PlayerHomeComp *v56; // rax
  Home *v57; // rcx
  Home *v58; // rax
  HomeSceneComp *v59; // rcx
  PlayerWatcherComp *WatcherComp; // rax
  PlayerHomeComp *v61; // r15
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v62; // rdx
  PlayerHomeComp *v63; // rax
  PlayerHomeComp *v64; // r15
  uint32_t v65; // r14d
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v66; // rdx
  int32_t result; // eax
  bool is_room_scene_change; // [rsp+2Bh] [rbp-4D5h]
  unsigned int val; // [rsp+2Ch] [rbp-4D4h] BYREF
  uint32_t old_main_house_furniture_id; // [rsp+30h] [rbp-4D0h]
  uint32_t new_main_house_furniture_id; // [rsp+34h] [rbp-4CCh]
  uint32_t old_room_scene_id; // [rsp+38h] [rbp-4C8h]
  uint32_t group_id_0; // [rsp+3Ch] [rbp-4C4h]
  std::map<unsigned int,unsigned int>::iterator __for_begin; // [rsp+40h] [rbp-4C0h] BYREF
  std::map<unsigned int,unsigned int>::iterator __for_end; // [rsp+48h] [rbp-4B8h] BYREF
  std::set<unsigned int>::iterator __for_end_0; // [rsp+50h] [rbp-4B0h] BYREF
  const proto::HomeSceneArrangementInfo *scene_arrangement_info_proto; // [rsp+58h] [rbp-4A8h]
  HomeSceneData *scene_data_ptr; // [rsp+60h] [rbp-4A0h]
  HomeSceneArrangementData *arrangement_data; // [rsp+68h] [rbp-498h]
  std::map<unsigned int,unsigned int> *__for_range; // [rsp+70h] [rbp-490h]
  HomeSceneData *cur_room_scene_data_ptr; // [rsp+78h] [rbp-488h]
  std::set<unsigned int> *__for_range_0; // [rsp+80h] [rbp-480h]
  const std::pair<unsigned int const,unsigned int> *v83; // [rsp+88h] [rbp-478h]
  std::tuple_element<0,const std::pair<unsigned int const,unsigned int> >::type *group_id; // [rsp+90h] [rbp-470h]
  std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *furniture_guid; // [rsp+98h] [rbp-468h]
  std::shared_ptr<Config> v86; // [rsp+A0h] [rbp-460h] BYREF
  common::milog::MiLogStream v87; // [rsp+B0h] [rbp-450h] BYREF
  char v88[1072]; // [rsp+D0h] [rbp-430h] BYREF

  v3 = (unsigned __int64)v88;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_4(1024LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "9 32 4 8 ret:1391 48 4 13 scene_id:1409 64 4 22 new_room_scene_id:1481 80 8 9 iter:1463 112 16 1"
                        "9 home_world_ptr:1389 144 16 13 home_ptr:1390 176 16 25 home_module_data_ptr:1416 208 48 28 to_d"
                        "el_group_record_set:1460 288 600 26 temp_arrangement_data:1431";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeUpdateArrangementInfoReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556924;
  v5[536862722] = 61956;
  v5[536862722] = -234881024;
  v5[536862723] = 62194;
  v5[536862724] = 62194;
  v5[536862725] = 62194;
  v5[536862726] = 62194;
  v5[536862728] = -218959118;
  v5[536862747] = -218103808;
  v5[536862748] = -202116109;
  v5[536862749] = -202116109;
  v5[536862750] = -202116109;
  v5[536862751] = -202116109;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 112), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 144), 0LL);
  *(_DWORD *)(v3 + 32) = PlayerHomeHandler::changeHomeCommonCheck(
                           this,
                           (HomeWorldPtr *)(v3 + 112),
                           (HomePtr *)(v3 + 144));
  if ( *(_DWORD *)(v3 + 32)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 112), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 144), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v87,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeUpdateArrangementInfoReq",
      1394);
    v7 = common::milog::MiLogStream::operator<<<char [35],(char *[35])0>(
           &v87,
           (const char (*)[35])"changeHomeCommonCheck failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v7, (const int *)(v3 + 32));
    common::milog::MiLogStream::~MiLogStream(&v87);
    if ( *(_DWORD *)(v3 + 32) )
      v8 = *(_DWORD *)(v3 + 32);
    else
      v8 = -1;
    goto LABEL_95;
  }
  v9 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
  BasicComp = Home::getBasicComp(v9);
  if ( !HomeBasicComp::getIsInEditMode(BasicComp) )
  {
    common::milog::MiLogStream::create(
      &v87,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeUpdateArrangementInfoReq",
      1400);
    common::milog::MiLogStream::operator<<<char [28],(char *[28])0>(
      &v87,
      (const char (*)[28])"home_world not in edit mode");
    common::milog::MiLogStream::~MiLogStream(&v87);
    v8 = 9709;
    goto LABEL_95;
  }
  v11 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
  if ( Home::isInUpdateArrangementCD(v11) )
  {
    v8 = 9732;
    goto LABEL_95;
  }
  scene_arrangement_info_proto = proto::HomeUpdateArrangementInfoReq::scene_arrangement_info(req);
  *(_DWORD *)(v3 + 48) = proto::HomeSceneArrangementInfo::scene_id(scene_arrangement_info_proto);
  v12 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
  v13 = Home::getBasicComp(v12);
  if ( HomeBasicComp::getEditSceneId(v13) != *(_DWORD *)(v3 + 48) )
  {
    common::milog::MiLogStream::create(
      &v87,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeUpdateArrangementInfoReq",
      1412);
    v14 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
    v15 = Home::getBasicComp(v14);
    EditSceneId = HomeBasicComp::getEditSceneId(v15);
    common::milog::MiLogStream::operator()(
      &v87,
      "req_scene_id:%u not equal to edit_scene_id:%u",
      *(unsigned int *)(v3 + 48),
      EditSceneId);
    common::milog::MiLogStream::~MiLogStream(&v87);
    v8 = 9702;
    goto LABEL_95;
  }
  v17 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
  Home::getSceneComp(v17);
  HomeSceneComp::getCurHomeModuleData((HomeSceneComp *const)(v3 + 176));
  if ( !std::operator==<HomeModuleData>((const std::shared_ptr<HomeModuleData> *)(v3 + 176), 0LL) )
  {
    v18 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
    scene_data_ptr = HomeModuleData::findHomeSceneData(v18, *(_DWORD *)(v3 + 48));
    if ( !scene_data_ptr )
    {
      common::milog::MiLogStream::create(
        &v87,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "onHomeUpdateArrangementInfoReq",
        1425);
      v19 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
      if ( *(_BYTE *)(((unsigned __int64)&v19->module_id >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)v19 + 20) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v19->module_id >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      common::milog::MiLogStream::operator()(
        &v87,
        "scene_id:%u not found in home_module:%u",
        *(unsigned int *)(v3 + 48),
        v19->module_id);
      common::milog::MiLogStream::~MiLogStream(&v87);
      v8 = 9702;
      goto LABEL_94;
    }
    arrangement_data = &scene_data_ptr->arrangement_data;
    HomeSceneArrangementData::HomeSceneArrangementData((HomeSceneArrangementData *const)(v3 + 288));
    *(_DWORD *)(v3 + 32) = HomeSceneArrangementData::fromClient(
                             (HomeSceneArrangementData *const)(v3 + 288),
                             &scene_data_ptr->arrangement_data,
                             scene_arrangement_info_proto);
    if ( *(_DWORD *)(v3 + 32) )
    {
      common::milog::MiLogStream::create(
        &v87,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeUpdateArrangementInfoReq",
        1435);
      v20 = common::milog::MiLogStream::operator<<<char [29],(char *[29])0>(
              &v87,
              (const char (*)[29])"fromClient failed. scene_id:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v20, (const unsigned int *)(v3 + 48));
      common::milog::MiLogStream::~MiLogStream(&v87);
      v8 = *(_DWORD *)(v3 + 32);
LABEL_93:
      HomeSceneArrangementData::~HomeSceneArrangementData((HomeSceneArrangementData *const)(v3 + 288));
      goto LABEL_94;
    }
    *(_DWORD *)(v3 + 32) = PlayerHomeHandler::checkArrangementData(
                             this,
                             (HomeModuleDataPtr *)(v3 + 176),
                             (const HomeSceneArrangementData *)(v3 + 288));
    if ( *(_DWORD *)(v3 + 32) )
    {
      common::milog::MiLogStream::create(
        &v87,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeUpdateArrangementInfoReq",
        1442);
      v21 = common::milog::MiLogStream::operator<<<char [39],(char *[39])0>(
              &v87,
              (const char (*)[39])"checkArrangementData failed. scene_id:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v21, (const unsigned int *)(v3 + 48));
      common::milog::MiLogStream::~MiLogStream(&v87);
      v8 = *(_DWORD *)(v3 + 32);
      goto LABEL_93;
    }
    old_main_house_furniture_id = 0;
    new_main_house_furniture_id = 0;
    if ( std::optional<HomeFurnitureData>::has_value(&arrangement_data->main_house) )
    {
      v22 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
      if ( *(_BYTE *)(((unsigned __int64)v22 >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)v22 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v22 >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      old_main_house_furniture_id = v22->furniture_id;
      if ( !std::optional<HomeFurnitureData>::has_value((const std::optional<HomeFurnitureData> *const)(v3 + 424)) )
      {
        common::milog::MiLogStream::create(
          &v87,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "onHomeUpdateArrangementInfoReq",
          1453);
        common::milog::MiLogStream::operator()(&v87, "main_house is null");
        common::milog::MiLogStream::~MiLogStream(&v87);
        v8 = -1;
        goto LABEL_93;
      }
      v23 = std::optional<HomeFurnitureData>::operator->((std::optional<HomeFurnitureData> *const)(v3 + 424));
      if ( *(_BYTE *)(((unsigned __int64)v23 >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)v23 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v23 >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      new_main_house_furniture_id = v23->furniture_id;
    }
    std::set<unsigned int>::set((std::set<unsigned int> *const)(v3 + 208));
    __for_range = &arrangement_data->group_furniture_map;
    __for_begin._M_node = std::map<unsigned int,unsigned int>::begin(&arrangement_data->group_furniture_map)._M_node;
    __for_end._M_node = std::map<unsigned int,unsigned int>::end(&arrangement_data->group_furniture_map)._M_node;
    while ( std::operator!=(&__for_begin, &__for_end) )
    {
      v83 = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator*(&__for_begin);
      group_id = std::get<0ul,unsigned int const,unsigned int>(v83);
      furniture_guid = (std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *)std::get<1ul,unsigned int const,unsigned int>(v83);
      *(std::map<unsigned int,unsigned int>::iterator *)(v3 + 80) = std::map<unsigned int,unsigned int>::find(
                                                                      (std::map<unsigned int,unsigned int> *const)(v3 + 832),
                                                                      group_id);
      __for_end_0._M_node = std::map<unsigned int,unsigned int>::end((std::map<unsigned int,unsigned int> *const)(v3 + 832))._M_node;
      if ( std::operator==(
             (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)(v3 + 80),
             (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_end_0) )
      {
        goto LABEL_45;
      }
      v24 = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator->((const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)(v3 + 80));
      if ( *(_BYTE *)(((unsigned __int64)&v24->second >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)v24 + 4) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v24->second >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      second = v24->second;
      if ( *(_BYTE *)(((unsigned __int64)furniture_guid >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)furniture_guid & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture_guid >> 3)
                                                                         + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      if ( second == *furniture_guid )
        v26 = 0;
      else
LABEL_45:
        v26 = 1;
      if ( v26 )
        std::set<unsigned int>::insert((std::set<unsigned int> *const)(v3 + 208), group_id);
      std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator++(&__for_begin);
    }
    is_room_scene_change = 0;
    v27 = std::move<HomeSceneArrangementData &>((HomeSceneArrangementData *)(v3 + 288));
    HomeSceneArrangementData::operator=(arrangement_data, v27);
    v28 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
    Home::updateArrangementCD(v28);
    if ( old_main_house_furniture_id != new_main_house_furniture_id )
    {
      v29 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
      old_room_scene_id = HomeModuleData::getCurRoomSceneId(v29);
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)&v86);
      v30 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v86);
      *(_DWORD *)(v3 + 64) = HomeWorldExcelConfigMgr::getRoomSceneIdByFurnitureId(
                               &v30->design_config.txt_config_mgr.home_config_mgr,
                               new_main_house_furniture_id);
      std::shared_ptr<Config>::~shared_ptr(&v86);
      common::milog::MiLogStream::create(
        &v87,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeUpdateArrangementInfoReq",
        1484);
      common::milog::MiLogStream::operator()(
        &v87,
        "changeRoomScene from %u to %u because main_house furniture_id changed.",
        old_room_scene_id,
        *(unsigned int *)(v3 + 64));
      common::milog::MiLogStream::~MiLogStream(&v87);
      v31 = std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 112));
      v32 = *(_DWORD *)(v3 + 64);
      v33 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
      if ( *(_BYTE *)(((unsigned __int64)&v33->module_id >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)v33 + 20) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v33->module_id >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      if ( HomeWorld::changeRoomScene(v31, v33->module_id, old_room_scene_id, v32) )
      {
        common::milog::MiLogStream::create(
          &v87,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "onHomeUpdateArrangementInfoReq",
          1487);
        v34 = common::milog::MiLogStream::operator<<<char [61],(char *[61])0>(
                &v87,
                (const char (*)[61])"home_world_ptr->changeRoomScene() failed. new_room_scene_id:");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v34, (const unsigned int *)(v3 + 64));
        common::milog::MiLogStream::~MiLogStream(&v87);
        v8 = 9701;
LABEL_92:
        std::set<unsigned int>::~set((std::set<unsigned int> *const)(v3 + 208));
        goto LABEL_93;
      }
      v35 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
      HomeModuleData::changeRoomScene(v35, *(_DWORD *)(v3 + 64));
      v36 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
      cur_room_scene_data_ptr = HomeModuleData::findRoomHomeSceneData(v36);
      if ( !cur_room_scene_data_ptr )
      {
        common::milog::MiLogStream::create(
          &v87,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "onHomeUpdateArrangementInfoReq",
          1496);
        v37 = common::milog::MiLogStream::operator<<<char [43],(char *[43])0>(
                &v87,
                (const char (*)[43])"findHomeSceneData() return null. home_uid:");
        v38 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
        val = Home::getHomeUid(v38);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v37, &val);
        common::milog::MiLogStream::~MiLogStream(&v87);
        v8 = 9701;
        goto LABEL_92;
      }
      v39 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
      v40 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
      HomeSceneData::toDefaultsSettings(cur_room_scene_data_ptr, v40, v39);
      v41 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Home::notifyHomeBasicInfo(v41, this->player_);
      v42 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
      v43 = *(_DWORD *)(v3 + 64);
      v44 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
      if ( *(_BYTE *)(((unsigned __int64)&v44->module_id >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)v44 + 20) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v44->module_id >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      Home::onChangeRoomScene(v42, v44->module_id, old_room_scene_id, v43);
      is_room_scene_change = 1;
    }
    v45 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
    v46 = *(_DWORD *)(v3 + 48);
    v47 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
    if ( *(_BYTE *)(((unsigned __int64)&v47->module_id >> 3) + 0x7FFF8000) != 0
      && (char)((((_BYTE)v47 + 20) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v47->module_id >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    Home::onUpdateArrangementInfo(v45, v47->module_id, v46);
    v48 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
    SceneComp = Home::getSceneComp(v48);
    HomeSceneComp::updateHomeGroupData(SceneComp, *(_DWORD *)(v3 + 48));
    __for_range_0 = (std::set<unsigned int> *)(v3 + 208);
    *(std::set<unsigned int>::iterator *)(v3 + 80) = std::set<unsigned int>::begin((const std::set<unsigned int> *const)(v3 + 208));
    __for_end_0._M_node = std::set<unsigned int>::end(__for_range_0)._M_node;
    while ( std::operator!=((const std::_Rb_tree_const_iterator<unsigned int>::_Self *)(v3 + 80), &__for_end_0) )
    {
      v50 = (uint32_t *)std::_Rb_tree_const_iterator<unsigned int>::operator*((const std::_Rb_tree_const_iterator<unsigned int> *const)(v3 + 80));
      if ( *(_BYTE *)(((unsigned __int64)v50 >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)v50 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v50 >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      group_id_0 = *v50;
      v51 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
      GroupRecordComp = Home::getGroupRecordComp(v51);
      HomeGroupRecordComp::clearHomeGroupRecord(GroupRecordComp, group_id_0);
      std::_Rb_tree_const_iterator<unsigned int>::operator++((std::_Rb_tree_const_iterator<unsigned int> *const)(v3 + 80));
    }
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    PlayerHomeComp::updateArrangementFurnitureSuite(HomeComp, arrangement_data);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v54 = Player::getHomeComp(this->player_);
    HomeAvatar = PlayerHomeComp::getHomeAvatar(v54);
    HomeAvatar::updateAvatarsAction(HomeAvatar);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v56 = Player::getHomeComp(this->player_);
    PlayerHomeComp::sendFurnitureCurModuleArrangeCountNotify(v56);
    v57 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Home::notifyHomeComfortInfo(v57, this->player_);
    v58 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 144));
    v59 = Home::getSceneComp(v58);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeSceneComp::sendHomeMarkPointNotify(v59, this->player_);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    WatcherComp = Player::getWatcherComp(this->player_);
    PlayerWatcherComp::triggerArrangementFurniture(WatcherComp);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v61 = Player::getHomeComp(this->player_);
    v62 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
    if ( *(_BYTE *)(((unsigned __int64)&v62->module_id >> 3) + 0x7FFF8000) != 0
      && (char)((((_BYTE)v62 + 20) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v62->module_id >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    PlayerHomeComp::onPostUpdateSceneArrangement(v61, v62->module_id, arrangement_data, is_room_scene_change);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v63 = Player::getHomeComp(this->player_);
    PlayerHomeComp::updateLastSaveTime(v63);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v64 = Player::getHomeComp(this->player_);
    v65 = *(_DWORD *)(v3 + 48);
    v66 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 176));
    if ( *(_BYTE *)(((unsigned __int64)&v66->module_id >> 3) + 0x7FFF8000) != 0
      && (char)((((_BYTE)v66 + 20) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v66->module_id >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    PlayerHomeComp::asyncHomeVerifyRequest(v64, v66->module_id, v65);
    v8 = 0;
    goto LABEL_92;
  }
  common::milog::MiLogStream::create(
    &v87,
    &common::milog::MiLogDefault::default_log_obj_,
    4u,
    "./src/handler/player_home_handler.cpp",
    "onHomeUpdateArrangementInfoReq",
    1419);
  common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
    &v87,
    (const char (*)[36])"getCurHomeModuleData() return null.");
  common::milog::MiLogStream::~MiLogStream(&v87);
  v8 = 9701;
LABEL_94:
  std::shared_ptr<HomeModuleData>::~shared_ptr((std::shared_ptr<HomeModuleData> *const)(v3 + 176));
LABEL_95:
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 144));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 112));
  result = v8;
  if ( v88 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8018) = 0;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8020) = 0;
    *(_QWORD *)((v3 >> 3) + 0x7FFF806C) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8074) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF807C) = 0;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8020) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8028) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8030) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8038) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8040) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8048) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8050) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8058) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8060) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8068) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8070) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8078) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1532: range 0000000017CA5E28-0000000017CA5E7B
int32_t __cdecl PlayerHomeHandler::onGetPlayerHomeCompInfoReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  PlayerHomeComp *HomeComp; // rax

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  PlayerHomeComp::sendHomeCompInfoNotify(HomeComp);
  return 0;
};

// Line 1538: range 0000000017CA5E7C-0000000017CA60B2
int32_t __cdecl PlayerHomeHandler::onSetFriendEnterHomeOptionReq(
        PlayerHomeHandler *const this,
        const proto::SetFriendEnterHomeOptionReq *req,
        proto::SetFriendEnterHomeOptionRsp *rsp_0)
{
  PlayerBasicComp *BasicComp; // rax
  proto::FriendEnterHomeOption v5; // edx
  PlayerBasicComp *v6; // rbx
  uint64_t NowMs; // rax
  int option; // [rsp+24h] [rbp-3Ch]
  PlayerHomeComp *home_comp; // [rsp+28h] [rbp-38h]
  common::milog::MiLogStream v10; // [rsp+30h] [rbp-30h] BYREF

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  BasicComp = Player::getBasicComp(this->player_);
  if ( !PlayerBasicComp::isStateOpen(BasicComp, 0x5DCu) )
  {
    common::milog::MiLogStream::create(
      &v10,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onSetFriendEnterHomeOptionReq",
      1541);
    common::milog::MiLogStream::operator<<<char [27],(char *[27])0>(
      &v10,
      (const char (*)[27])"OPEN_STATE_HOME is locked.");
    common::milog::MiLogStream::~MiLogStream(&v10);
    return 9735;
  }
  else
  {
    option = proto::SetFriendEnterHomeOptionReq::option(req);
    if ( !proto::FriendEnterHomeOption_IsValid(option) )
    {
      common::milog::MiLogStream::create(
        &v10,
        &common::milog::MiLogDefault::default_log_obj_,
        3u,
        "./src/handler/player_home_handler.cpp",
        "onSetFriendEnterHomeOptionReq",
        1547);
      common::milog::MiLogStream::operator<<<char [18],(char *[18])0>(&v10, (const char (*)[18])"option not valid!");
      common::milog::MiLogStream::~MiLogStream(&v10);
      return -1;
    }
    else
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      home_comp = Player::getHomeComp(this->player_);
      if ( option == PlayerHomeComp::getFriendEnterHomeOption(home_comp) )
      {
        return 0;
      }
      else
      {
        v5 = proto::SetFriendEnterHomeOptionReq::option(req);
        PlayerHomeComp::setFriendEnterHomeOption(home_comp, v5);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v6 = Player::getBasicComp(this->player_);
        NowMs = common::tools::TimeUtils::getNowMs();
        PlayerBasicComp::notifyPlayerBriefData(v6, NowMs);
        PlayerHomeComp::sendHomeCompInfoNotify(home_comp);
        return 0;
      }
    }
  }
};

// Line 1563: range 0000000017CA60B4-0000000017CA612E
int32_t __cdecl PlayerHomeHandler::onHomeChooseModuleReq(
        PlayerHomeHandler *const this,
        const proto::HomeChooseModuleReq *req,
        proto::HomeChooseModuleRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  uint32_t module_id; // [rsp+2Ch] [rbp-4h]

  module_id = proto::HomeChooseModuleReq::module_id(req);
  proto::HomeChooseModuleRsp::set_module_id(rsp_0, module_id);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  return PlayerHomeComp::chooseModuleByClient(HomeComp, module_id);
};

// Line 1571: range 0000000017CA6130-0000000017CA6236
int32_t __cdecl PlayerHomeHandler::onHomeModuleSeenReq(
        PlayerHomeHandler *const this,
        const proto::HomeModuleSeenReq *req,
        proto::HomeModuleSeenRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  uint32_t module_id; // [rsp+20h] [rbp-20h]
  int32_t ret; // [rsp+24h] [rbp-1Ch]
  uint32_t *__for_begin; // [rsp+28h] [rbp-18h]
  const google::protobuf::RepeatedField<unsigned int> *__for_range; // [rsp+30h] [rbp-10h]
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_end; // [rsp+38h] [rbp-8h]

  __for_range = proto::HomeModuleSeenReq::seen_module_id_list(req);
  __for_begin = (uint32_t *)google::protobuf::RepeatedField<unsigned int>::begin(__for_range);
  __for_end = google::protobuf::RepeatedField<unsigned int>::end(__for_range);
  while ( __for_begin != __for_end )
  {
    if ( *(_BYTE *)(((unsigned __int64)__for_begin >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)__for_begin & 7) + 3) >= *(_BYTE *)(((unsigned __int64)__for_begin >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    module_id = *__for_begin;
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    ret = PlayerHomeComp::setSeenModuleId(HomeComp, module_id);
    if ( ret )
      return ret;
    proto::HomeModuleSeenRsp::add_seen_module_id_list(rsp_0, module_id);
    ++__for_begin;
  }
  return 0;
};

// Line 1585: range 0000000017CA6238-0000000017CA62C9
int32_t __cdecl PlayerHomeHandler::onHomeGetOnlineStatusReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  uint32_t Uid; // ebx
  uint32_t v3; // eax

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  Uid = Player::getUid(this->player_);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  v3 = Player::getUid(this->player_);
  HomeHandler::sendServerHomeGetOnlineStatusReq(v3, Uid);
  return 0;
};

// Line 1592: range 0000000017CA62CA-0000000017CA65AD
int32_t __cdecl PlayerHomeHandler::onServerHomeGetOnlineStatusRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  google::protobuf::int32 v6; // eax
  google::protobuf::RepeatedPtrField<proto::OnlinePlayerInfo> *v7; // r14
  google::protobuf::RepeatedPtrField<proto::OnlinePlayerInfo> *v8; // rax
  int32_t result; // eax
  proto::ServerHomeGetOnlineStatusRsp *rsp_0; // [rsp+18h] [rbp-F8h]
  common::milog::MiLogStream v11; // [rsp+20h] [rbp-F0h] BYREF
  char v12[208]; // [rsp+40h] [rbp-D0h] BYREF

  v2 = (unsigned __int64)v12;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(160LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 48 16 12 rsp_ptr:1593 80 48 15 client_rsp:1594";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerHomeGetOnlineStatusRsp;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = 61937;
  v4[536862722] = 62194;
  v4[536862724] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getProto<proto::ServerHomeGetOnlineStatusRsp>((common::minet::Packet *const)(v2 + 48));
  if ( std::operator==<proto::ServerHomeGetOnlineStatusRsp>(
         (const std::shared_ptr<proto::ServerHomeGetOnlineStatusRsp> *)(v2 + 48),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v11,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerHomeGetOnlineStatusRsp",
      1593);
    common::milog::MiLogStream::operator()(&v11, off_26387080);
    common::milog::MiLogStream::~MiLogStream(&v11);
    v5 = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerHomeGetOnlineStatusRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::ServerHomeGetOnlineStatusRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 48));
    proto::HomeGetOnlineStatusRsp::HomeGetOnlineStatusRsp((proto::HomeGetOnlineStatusRsp *const)(v2 + 80));
    v6 = proto::ServerHomeGetOnlineStatusRsp::retcode(rsp_0);
    proto::HomeGetOnlineStatusRsp::set_retcode((proto::HomeGetOnlineStatusRsp *const)(v2 + 80), v6);
    if ( !proto::ServerHomeGetOnlineStatusRsp::retcode(rsp_0) )
    {
      v7 = proto::HomeGetOnlineStatusRsp::mutable_player_info_list((proto::HomeGetOnlineStatusRsp *const)(v2 + 80));
      v8 = proto::ServerHomeGetOnlineStatusRsp::mutable_player_info_list(rsp_0);
      google::protobuf::RepeatedPtrField<proto::OnlinePlayerInfo>::Swap(v7, v8);
    }
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 80));
    v5 = 0;
    proto::HomeGetOnlineStatusRsp::~HomeGetOnlineStatusRsp((proto::HomeGetOnlineStatusRsp *const)(v2 + 80));
  }
  std::shared_ptr<proto::ServerHomeGetOnlineStatusRsp>::~shared_ptr((std::shared_ptr<proto::ServerHomeGetOnlineStatusRsp> *const)(v2 + 48));
  result = v5;
  if ( v12 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8008) = 0;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = -168430091;
  }
  return result;
};

// Line 1605: range 0000000017CA65AE-0000000017CA6C5A
int32_t __cdecl PlayerHomeHandler::onHomeKickPlayerReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  Home *v6; // rax
  HomeSceneComp *SceneComp; // rax
  unsigned __int64 v8; // rax
  unsigned __int64 v9; // rax
  common::milog::MiLogStream *v10; // r14
  common::milog::MiLogStream *v11; // rax
  common::milog::MiLogStream *v12; // rax
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // rax
  unsigned __int64 v15; // rax
  uint32_t v16; // r15d
  uint32_t Uid; // eax
  int32_t result; // eax
  uint32_t home_uid; // [rsp+Ch] [rbp-124h]
  bool is_kick_all; // [rsp+2Bh] [rbp-105h]
  unsigned int val; // [rsp+2Ch] [rbp-104h] BYREF
  const proto::HomeKickPlayerReq *req; // [rsp+30h] [rbp-100h]
  HomeWorld *home_world; // [rsp+38h] [rbp-F8h]
  char v24[240]; // [rsp+40h] [rbp-F0h] BYREF

  v2 = (unsigned __int64)v24;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(192LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "5 32 4 15 target_uid:1608 48 4 8 ret:1614 64 16 12 req_ptr:1606 96 16 13 home_ptr:1609 128 32 15"
                        " client_rsp:1632";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onHomeKickPlayerReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556924;
  v4[536862722] = -219021312;
  v4[536862723] = -219021312;
  v4[536862725] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeKickPlayerReq>((common::minet::Packet *const)(v2 + 64));
  if ( std::operator==<proto::HomeKickPlayerReq const>(
         (const std::shared_ptr<const proto::HomeKickPlayerReq> *)(v2 + 64),
         0LL) )
  {
    common::milog::MiLogStream::create(
      (common::milog::MiLogStream *)(v2 + 128),
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onHomeKickPlayerReq",
      1606);
    common::milog::MiLogStream::operator()((common::milog::MiLogStream *const)(v2 + 128), off_263871A0);
    common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 128));
    v5 = -1;
  }
  else
  {
    req = std::__shared_ptr_access<proto::HomeKickPlayerReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeKickPlayerReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    is_kick_all = proto::HomeKickPlayerReq::is_kick_all(req);
    *(_DWORD *)(v2 + 32) = proto::HomeKickPlayerReq::target_uid(req);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Player::getHomeComp(this->player_);
    PlayerHomeComp::findMyHome((const PlayerHomeComp *const)(v2 + 96));
    if ( std::operator!=<Home>((const std::shared_ptr<Home> *)(v2 + 96), 0LL) )
    {
      v6 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
      SceneComp = Home::getSceneComp(v6);
      home_world = HomeSceneComp::getHomeWorld(SceneComp);
      *(_DWORD *)(v2 + 48) = 0;
      if ( is_kick_all )
      {
        if ( *(_BYTE *)(((unsigned __int64)home_world >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v8 = (unsigned __int64)(home_world->_vptr_World + 15);
        if ( *(_BYTE *)((v8 >> 3) + 0x7FFF8000) )
          v8 = __asan_report_load8();
        (*(void (__fastcall **)(HomeWorld *, __int64, _QWORD))v8)(home_world, 1LL, 0LL);
      }
      else
      {
        if ( *(_BYTE *)(((unsigned __int64)home_world >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v9 = (unsigned __int64)(home_world->_vptr_World + 13);
        if ( *(_BYTE *)((v9 >> 3) + 0x7FFF8000) )
          v9 = __asan_report_load8();
        *(_DWORD *)(v2 + 48) = (*(__int64 (__fastcall **)(HomeWorld *, _QWORD))v9)(
                                 home_world,
                                 *(unsigned int *)(v2 + 32));
        if ( *(_DWORD *)(v2 + 48) )
        {
          common::milog::MiLogStream::create(
            (common::milog::MiLogStream *)(v2 + 128),
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeKickPlayerReq",
            1624);
          v10 = common::milog::MiLogStream::operator<<<char [30],(char *[30])0>(
                  (common::milog::MiLogStream *const)(v2 + 128),
                  (const char (*)[30])"checkKickPlayer failed, uid: ");
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          val = Player::getUid(this->player_);
          v11 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v10, &val);
          v12 = common::milog::MiLogStream::operator<<<char [15],(char *[15])0>(
                  v11,
                  (const char (*)[15])" ,target_uid: ");
          v13 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v12,
                  (const unsigned int *)(v2 + 32));
          v14 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v13, (const char (*)[8])" ,ret: ");
          common::milog::MiLogStream::operator<<<int,(int *)0>(v14, (const int *)(v2 + 48));
          common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 128));
        }
        else
        {
          if ( *(_BYTE *)(((unsigned __int64)home_world >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          v15 = (unsigned __int64)(home_world->_vptr_World + 14);
          if ( *(_BYTE *)((v15 >> 3) + 0x7FFF8000) )
            v15 = __asan_report_load8();
          (*(void (__fastcall **)(HomeWorld *, _QWORD, _QWORD))v15)(home_world, *(unsigned int *)(v2 + 32), 0LL);
        }
      }
      proto::HomeKickPlayerRsp::HomeKickPlayerRsp((proto::HomeKickPlayerRsp *const)(v2 + 128));
      proto::HomeKickPlayerRsp::set_retcode((proto::HomeKickPlayerRsp *const)(v2 + 128), *(_DWORD *)(v2 + 48));
      proto::HomeKickPlayerRsp::set_is_kick_all((proto::HomeKickPlayerRsp *const)(v2 + 128), is_kick_all);
      proto::HomeKickPlayerRsp::set_target_uid((proto::HomeKickPlayerRsp *const)(v2 + 128), *(_DWORD *)(v2 + 32));
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 128));
      proto::HomeKickPlayerRsp::~HomeKickPlayerRsp((proto::HomeKickPlayerRsp *const)(v2 + 128));
    }
    else
    {
      v16 = *(_DWORD *)(v2 + 32);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      home_uid = Player::getUid(this->player_);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Uid = Player::getUid(this->player_);
      HomeHandler::sendServerHomeKickPlayerReq(Uid, home_uid, is_kick_all, v16);
    }
    v5 = 0;
    std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 96));
  }
  std::shared_ptr<proto::HomeKickPlayerReq const>::~shared_ptr((std::shared_ptr<const proto::HomeKickPlayerReq> *const)(v2 + 64));
  result = v5;
  if ( v24 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8014) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1646: range 0000000017CA6C5C-0000000017CA6F05
int32_t __cdecl PlayerHomeHandler::onServerHomeKickPlayerRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r12
  __int64 v3; // rax
  _DWORD *v4; // r13
  int32_t v5; // r14d
  google::protobuf::int32 v6; // eax
  bool is_kick_all; // al
  google::protobuf::uint32 v8; // eax
  int32_t result; // eax
  proto::ServerHomeKickPlayerRsp *rsp_0; // [rsp+18h] [rbp-B8h]
  char v11[176]; // [rsp+20h] [rbp-B0h] BYREF

  v2 = (unsigned __int64)v11;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_1(128LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "2 32 16 12 rsp_ptr:1647 64 32 15 client_rsp:1648";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerHomeKickPlayerRsp;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -219021312;
  v4[536862723] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getProto<proto::ServerHomeKickPlayerRsp>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::ServerHomeKickPlayerRsp>(
         (const std::shared_ptr<proto::ServerHomeKickPlayerRsp> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      (common::milog::MiLogStream *)(v2 + 64),
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerHomeKickPlayerRsp",
      1647);
    common::milog::MiLogStream::operator()((common::milog::MiLogStream *const)(v2 + 64), off_26387320);
    common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 64));
    v5 = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerHomeKickPlayerRsp,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::ServerHomeKickPlayerRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    proto::HomeKickPlayerRsp::HomeKickPlayerRsp((proto::HomeKickPlayerRsp *const)(v2 + 64));
    v6 = proto::ServerHomeKickPlayerRsp::retcode(rsp_0);
    proto::HomeKickPlayerRsp::set_retcode((proto::HomeKickPlayerRsp *const)(v2 + 64), v6);
    is_kick_all = proto::ServerHomeKickPlayerRsp::is_kick_all(rsp_0);
    proto::HomeKickPlayerRsp::set_is_kick_all((proto::HomeKickPlayerRsp *const)(v2 + 64), is_kick_all);
    v8 = proto::ServerHomeKickPlayerRsp::target_uid(rsp_0);
    proto::HomeKickPlayerRsp::set_target_uid((proto::HomeKickPlayerRsp *const)(v2 + 64), v8);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 64));
    v5 = 0;
    proto::HomeKickPlayerRsp::~HomeKickPlayerRsp((proto::HomeKickPlayerRsp *const)(v2 + 64));
  }
  std::shared_ptr<proto::ServerHomeKickPlayerRsp>::~shared_ptr((std::shared_ptr<proto::ServerHomeKickPlayerRsp> *const)(v2 + 32));
  result = v5;
  if ( v11 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF800C) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1657: range 0000000017CA6F06-0000000017CA7093
int32_t __cdecl PlayerHomeHandler::onGetHomeLevelUpRewardReq(
        PlayerHomeHandler *const this,
        const proto::GetHomeLevelUpRewardReq *req,
        proto::GetHomeLevelUpRewardRsp *rsp_0)
{
  PlayerBasicComp *BasicComp; // rax
  common::milog::MiLogStream *v4; // rbx
  PlayerHomeComp *HomeComp; // rax
  unsigned int val; // [rsp+24h] [rbp-3Ch] BYREF
  uint32_t level; // [rsp+28h] [rbp-38h]
  common::milog::MiLogStream v10; // [rsp+30h] [rbp-30h] BYREF

  level = proto::GetHomeLevelUpRewardReq::level(req);
  proto::GetHomeLevelUpRewardRsp::set_level(rsp_0, level);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  BasicComp = Player::getBasicComp(this->player_);
  if ( !PlayerBasicComp::isStateOpen(BasicComp, 0x5DCu) )
  {
    common::milog::MiLogStream::create(
      &v10,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onGetHomeLevelUpRewardReq",
      1663);
    v4 = common::milog::MiLogStream::operator<<<char [32],(char *[32])0>(
           &v10,
           (const char (*)[32])"OPEN_STATE_HOME is locked. uid:");
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    val = Player::getUid(this->player_);
    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v4, &val);
    common::milog::MiLogStream::~MiLogStream(&v10);
    return 9735;
  }
  else
  {
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    return PlayerHomeComp::getHomeLevelUpReward(HomeComp, level);
  }
};

// Line 1671: range 0000000017CA7094-0000000017CA70E2
int32_t __cdecl PlayerHomeHandler::onGetFurnitureCurModuleArrangeCountReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  PlayerHomeComp *HomeComp; // rax

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  return PlayerHomeComp::sendFurnitureCurModuleArrangeCountNotify(HomeComp);
};

// Line 1676: range 0000000017CA70E4-0000000017CA7584
int32_t __cdecl PlayerHomeHandler::changeHomeCommonCheck(
        PlayerHomeHandler *const this,
        HomeWorldPtr *home_world_ptr,
        HomePtr *home_ptr)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  PlayerHomeComp *HomeComp; // rcx
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v12; // rax
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v13; // rax
  Scene *v14; // rax
  SceneGalleryComp *GalleryComp; // rax
  int32_t result; // eax
  common::milog::MiLogStream v19; // [rsp+20h] [rbp-B0h] BYREF
  char v20[144]; // [rsp+40h] [rbp-90h] BYREF

  v3 = (unsigned __int64)v20;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(96LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "2 48 4 8 ret:1677 64 16 18 cur_scene_ptr:1694";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::changeHomeCommonCheck;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -202178560;
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(HomeComp, home_world_ptr, home_ptr);
  if ( *(_DWORD *)(v3 + 48) || std::operator==<HomeWorld>(home_world_ptr, 0LL) || std::operator==<Home>(home_ptr, 0LL) )
  {
    common::milog::MiLogStream::create(
      &v19,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "changeHomeCommonCheck",
      1680);
    v8 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
           &v19,
           (const char (*)[36])"getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v19);
    if ( *(_DWORD *)(v3 + 48) )
      v9 = *(_DWORD *)(v3 + 48);
    else
      v9 = -1;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)home_ptr);
    HomeUid = Home::getHomeUid(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      v12 = std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)home_world_ptr);
      if ( World::getPlayerCount(v12) <= 1 )
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        Player::getSceneComp(this->player_);
        PlayerSceneComp::getCurScene((const PlayerSceneComp *const)(v3 + 64));
        if ( std::operator!=<Scene>((const std::shared_ptr<Scene> *)(v3 + 64), 0LL)
          && (v13 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 64)),
              Scene::isHomeScene(v13))
          && (v14 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 64)),
              GalleryComp = Scene::getGalleryComp(v14),
              SceneGalleryComp::isAnyGalleryStarted(GalleryComp)) )
        {
          v9 = 9748;
        }
        else
        {
          v9 = 0;
        }
        std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v3 + 64));
      }
      else
      {
        common::milog::MiLogStream::create(
          &v19,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "changeHomeCommonCheck",
          1691);
        common::milog::MiLogStream::operator<<<char [21],(char *[21])0>(
          &v19,
          (const char (*)[21])"home_world has guest");
        common::milog::MiLogStream::~MiLogStream(&v19);
        v9 = 9710;
      }
    }
    else
    {
      common::milog::MiLogStream::create(
        &v19,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "changeHomeCommonCheck",
        1686);
      common::milog::MiLogStream::operator<<<char [31],(char *[31])0>(
        &v19,
        (const char (*)[31])"player not in self home_world.");
      common::milog::MiLogStream::~MiLogStream(&v19);
      v9 = 9714;
    }
  }
  result = v9;
  if ( v20 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 1704: range 0000000017CA7586-0000000017CA7783
int32_t __cdecl PlayerHomeHandler::onOtherPlayerEnterHomeNotify(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // rbx
  __int64 v3; // rax
  unsigned __int64 v4; // r12
  int32_t v5; // r14d
  int32_t result; // eax
  proto::OtherPlayerEnterHomeNotify *notify; // [rsp+18h] [rbp-98h]
  common::milog::MiLogStream v8; // [rsp+20h] [rbp-90h] BYREF
  char v9[112]; // [rsp+40h] [rbp-70h] BYREF

  v2 = (unsigned __int64)v9;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_0(64LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "1 32 16 15 notify_ptr:1705";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onOtherPlayerEnterHomeNotify;
  v4 = v2 >> 3;
  *(_DWORD *)(v4 + 2147450880) = -235802127;
  *(_DWORD *)(v4 + 2147450884) = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getProto<proto::OtherPlayerEnterHomeNotify>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::OtherPlayerEnterHomeNotify>(
         (const std::shared_ptr<proto::OtherPlayerEnterHomeNotify> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v8,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onOtherPlayerEnterHomeNotify",
      1705);
    common::milog::MiLogStream::operator()(&v8, off_26387520);
    common::milog::MiLogStream::~MiLogStream(&v8);
    v5 = -1;
  }
  else
  {
    notify = std::__shared_ptr_access<proto::OtherPlayerEnterHomeNotify,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::OtherPlayerEnterHomeNotify,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Player::sendProto(this->player_, notify);
    v5 = 0;
  }
  std::shared_ptr<proto::OtherPlayerEnterHomeNotify>::~shared_ptr((std::shared_ptr<proto::OtherPlayerEnterHomeNotify> *const)(v2 + 32));
  result = v5;
  if ( v9 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1712: range 0000000017CA7784-0000000017CA77F7
int32_t __cdecl PlayerHomeHandler::onFurnitureMakeReq(
        PlayerHomeHandler *const this,
        const proto::FurnitureMakeReq *req,
        proto::FurnitureMakeRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  FurnitureMake *furniture_make; // [rsp+28h] [rbp-8h]

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  furniture_make = PlayerHomeComp::getFurnitureMake(HomeComp);
  return FurnitureMake::onFurnitureMakeReq(furniture_make, req, rsp_0);
};

// Line 1719: range 0000000017CA77F8-0000000017CA7AA0
int32_t __cdecl PlayerHomeHandler::onFurnitureMakeStartReq(
        PlayerHomeHandler *const this,
        const proto::FurnitureMakeStartReq *req,
        proto::FurnitureMakeStartRsp *rsp_0)
{
  unsigned __int64 v3; // rbx
  __int64 v4; // rax
  unsigned __int64 v5; // r12
  PlayerHomeComp *HomeComp; // rax
  uint32_t AvatarComp; // eax
  bool v8; // r14
  common::milog::MiLogStream *v9; // rax
  int32_t result; // eax
  uint32_t v11; // r13d
  uint32_t id; // ecx
  proto::FurnitureMakeSlot *slot; // rdx
  int32_t retcode; // [rsp+24h] [rbp-ACh]
  FurnitureMake *furniture_make; // [rsp+28h] [rbp-A8h]
  std::shared_ptr<FormalAvatar> __a; // [rsp+30h] [rbp-A0h] BYREF
  common::milog::MiLogStream v18; // [rsp+40h] [rbp-90h] BYREF
  char v19[112]; // [rsp+60h] [rbp-70h] BYREF

  v3 = (unsigned __int64)v19;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_0(64LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "1 32 4 14 avatar_id:1721";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onFurnitureMakeStartReq;
  v5 = v3 >> 3;
  *(_DWORD *)(v5 + 2147450880) = -235802127;
  *(_DWORD *)(v5 + 2147450884) = -202116348;
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  furniture_make = PlayerHomeComp::getFurnitureMake(HomeComp);
  *(_DWORD *)(v3 + 32) = proto::FurnitureMakeStartReq::avatar_id(req);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  AvatarComp = (unsigned int)Player::getAvatarComp(this->player_);
  PlayerAvatarComp::findFormalAvatarByAvatarId((const PlayerAvatarComp *const)&__a, AvatarComp);
  v8 = std::operator==<FormalAvatar>(&__a, 0LL);
  std::shared_ptr<FormalAvatar>::~shared_ptr(&__a);
  if ( v8 )
  {
    common::milog::MiLogStream::create(
      &v18,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onFurnitureMakeStartReq",
      1724);
    v9 = common::milog::MiLogStream::operator<<<char [17],(char *[17])0>(&v18, (const char (*)[17])"avatar_id error.");
    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v9, (const unsigned int *)(v3 + 32));
    common::milog::MiLogStream::~MiLogStream(&v18);
    result = 115;
  }
  else
  {
    v11 = proto::FurnitureMakeStartReq::avatar_id(req);
    id = proto::FurnitureMakeStartReq::make_id(req);
    retcode = FurnitureMake::startMake(furniture_make, id, v11);
    if ( !retcode )
    {
      slot = proto::FurnitureMakeStartRsp::mutable_furniture_make_slot(rsp_0);
      FurnitureMake::fillFurnitureMakeSlot(furniture_make, slot);
    }
    result = retcode;
  }
  if ( v19 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1736: range 0000000017CA7AA2-0000000017CA7B68
int32_t __cdecl PlayerHomeHandler::onTakeFurnitureMakeReq(
        PlayerHomeHandler *const this,
        const proto::TakeFurnitureMakeReq *req,
        proto::TakeFurnitureMakeRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  bool is_fast_finish; // bl
  uint32_t id; // r12d
  uint32_t v6; // esi
  google::protobuf::uint32 v7; // edx
  int32_t retcode; // [rsp+24h] [rbp-1Ch]
  FurnitureMake *furniture_make; // [rsp+28h] [rbp-18h]

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  furniture_make = PlayerHomeComp::getFurnitureMake(HomeComp);
  is_fast_finish = proto::TakeFurnitureMakeReq::is_fast_finish(req);
  id = proto::TakeFurnitureMakeReq::make_id(req);
  v6 = proto::TakeFurnitureMakeReq::index(req);
  retcode = FurnitureMake::takeFurnitureMake(furniture_make, v6, id, is_fast_finish, rsp_0);
  v7 = proto::TakeFurnitureMakeReq::make_id(req);
  proto::TakeFurnitureMakeRsp::set_make_id(rsp_0, v7);
  return retcode;
};

// Line 1745: range 0000000017CA7B6A-0000000017CA7C38
int32_t __cdecl PlayerHomeHandler::onFurnitureMakeCancelReq(
        PlayerHomeHandler *const this,
        const proto::FurnitureMakeCancelReq *req,
        proto::FurnitureMakeCancelRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  uint32_t id; // ebx
  uint32_t v5; // ecx
  proto::FurnitureMakeSlot *slot; // rdx
  google::protobuf::uint32 v7; // edx
  int32_t retcode; // [rsp+24h] [rbp-1Ch]
  FurnitureMake *furniture_make; // [rsp+28h] [rbp-18h]

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  furniture_make = PlayerHomeComp::getFurnitureMake(HomeComp);
  id = proto::FurnitureMakeCancelReq::make_id(req);
  v5 = proto::FurnitureMakeCancelReq::index(req);
  retcode = FurnitureMake::cancelFurnitureMake(furniture_make, v5, id);
  if ( !retcode )
  {
    slot = proto::FurnitureMakeCancelRsp::mutable_furniture_make_slot(rsp_0);
    FurnitureMake::fillFurnitureMakeSlot(furniture_make, slot);
  }
  v7 = proto::FurnitureMakeCancelReq::make_id(req);
  proto::FurnitureMakeCancelRsp::set_make_id(rsp_0, v7);
  return retcode;
};

// Line 1757: range 0000000017CA7C3A-0000000017CA7CBA
int32_t __cdecl PlayerHomeHandler::onFurnitureMakeHelpReq(
        PlayerHomeHandler *const this,
        const proto::FurnitureMakeHelpReq *req,
        proto::FurnitureMakeHelpRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  google::protobuf::int32 retcode; // [rsp+24h] [rbp-Ch]
  FurnitureMake *furniture_make; // [rsp+28h] [rbp-8h]

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  furniture_make = PlayerHomeComp::getFurnitureMake(HomeComp);
  retcode = FurnitureMake::onHelpHomeOwner(furniture_make, rsp_0);
  proto::FurnitureMakeHelpRsp::set_retcode(rsp_0, retcode);
  return retcode;
};

// Line 1765: range 0000000017CA7CBC-0000000017CA80E0
int32_t __cdecl PlayerHomeHandler::onHomeLimitedShopGoodsListReq(
        PlayerHomeHandler *const this,
        const proto::HomeLimitedShopGoodsListReq *req,
        proto::HomeLimitedShopGoodsListRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  Home *v10; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v11; // rax
  bool isHomeLimitedShopSystemClosed; // r14
  proto::HomeLimitedShop *v13; // rsi
  int32_t result; // eax
  HomeLimitedShopComp *shop_comp; // [rsp+28h] [rbp-E8h]
  std::shared_ptr<Config> v17; // [rsp+30h] [rbp-E0h] BYREF
  common::milog::MiLogStream v18; // [rsp+40h] [rbp-D0h] BYREF
  char v19[176]; // [rsp+60h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v19;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 8 ret:1768 64 16 19 home_world_ptr:1766 96 16 13 home_ptr:1767";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeLimitedShopGoodsListReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 64),
                           (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v18,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeLimitedShopGoodsListReq",
      1771);
    v8 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
           &v18,
           (const char (*)[36])"getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v18);
    if ( *(_DWORD *)(v3 + 48) )
      v9 = *(_DWORD *)(v3 + 48);
    else
      v9 = -1;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    shop_comp = Home::getHomeLimitedShopComp(v10);
    if ( HomeLimitedShopComp::isClose(shop_comp) )
    {
      v9 = 9761;
    }
    else
    {
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)&v17);
      v11 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v17);
      isHomeLimitedShopSystemClosed = FeatureSwitchMgr::isHomeLimitedShopSystemClosed(&v11->feature_switch_mgr);
      std::shared_ptr<Config>::~shared_ptr(&v17);
      if ( isHomeLimitedShopSystemClosed )
      {
        common::milog::MiLogStream::create(
          &v18,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeLimitedShopGoodsListReq",
          1782);
        common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
          &v18,
          (const char (*)[46])"[FEATURE_SWITCH] HomeLimitedShopSystem closed");
        common::milog::MiLogStream::~MiLogStream(&v18);
        v9 = 142;
      }
      else
      {
        HomeLimitedShopComp::checkRefreshTime(shop_comp);
        v13 = proto::HomeLimitedShopGoodsListRsp::mutable_shop(rsp_0);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v9 = HomeLimitedShopComp::fillAllGoodsInfo(shop_comp, this->player_, v13);
      }
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v19 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1791: range 0000000017CA80E2-0000000017CA881D
int32_t __cdecl PlayerHomeHandler::onHomeLimitedShopBuyGoodsReq(
        PlayerHomeHandler *const this,
        const proto::HomeLimitedShopBuyGoodsReq *req,
        proto::HomeLimitedShopBuyGoodsRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  Home *v10; // rax
  PlayerBasicComp *BasicComp; // rax
  common::milog::MiLogStream *v12; // r14
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v13; // rax
  bool isHomeLimitedShopSystemClosed; // r14
  FeatureSwitchMgr *p_feature_switch_mgr; // r14
  const proto::HomeLimitedShopGoods *v16; // rax
  uint32_t v17; // eax
  common::milog::MiLogStream *v18; // r14
  const proto::HomeLimitedShopGoods *v19; // rax
  uint32_t v20; // r14d
  const proto::HomeLimitedShopGoods *p_player; // rdi
  proto::HomeLimitedShopGoods *v22; // r14
  const proto::HomeLimitedShopGoods *v23; // rax
  uint32_t v24; // edi
  google::protobuf::uint32 v25; // edx
  int32_t result; // eax
  unsigned int val; // [rsp+20h] [rbp-F0h] BYREF
  int32_t retcode; // [rsp+24h] [rbp-ECh]
  HomeLimitedShopComp *shop_comp; // [rsp+28h] [rbp-E8h]
  std::shared_ptr<Config> v32; // [rsp+30h] [rbp-E0h] BYREF
  common::milog::MiLogStream v33; // [rsp+40h] [rbp-D0h] BYREF
  char v34[176]; // [rsp+60h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v34;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 8 ret:1794 64 16 19 home_world_ptr:1792 96 16 13 home_ptr:1793";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeLimitedShopBuyGoodsReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 64),
                           (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v33,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeLimitedShopBuyGoodsReq",
      1797);
    v8 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
           &v33,
           (const char (*)[36])"getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v33);
    if ( *(_DWORD *)(v3 + 48) )
      v9 = *(_DWORD *)(v3 + 48);
    else
      v9 = -1;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    shop_comp = Home::getHomeLimitedShopComp(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( !HomeLimitedShopComp::isOpen(shop_comp, this->player_) )
    {
      v9 = 9761;
    }
    else
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      BasicComp = Player::getBasicComp(this->player_);
      if ( !PlayerBasicComp::isStateOpen(BasicComp, 0x5DCu) )
      {
        common::milog::MiLogStream::create(
          &v33,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "onHomeLimitedShopBuyGoodsReq",
          1808);
        v12 = common::milog::MiLogStream::operator<<<char [32],(char *[32])0>(
                &v33,
                (const char (*)[32])"OPEN_STATE_HOME is locked. uid:");
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        val = Player::getUid(this->player_);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v12, &val);
        common::milog::MiLogStream::~MiLogStream(&v33);
        v9 = 9735;
      }
      else
      {
        ServiceBox::findService<GameserverService>();
        GameserverService::getConfig((GameserverService *const)&v32);
        v13 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v32);
        isHomeLimitedShopSystemClosed = FeatureSwitchMgr::isHomeLimitedShopSystemClosed(&v13->feature_switch_mgr);
        std::shared_ptr<Config>::~shared_ptr(&v32);
        if ( isHomeLimitedShopSystemClosed )
        {
          common::milog::MiLogStream::create(
            &v33,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeLimitedShopBuyGoodsReq",
            1814);
          common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
            &v33,
            (const char (*)[46])"[FEATURE_SWITCH] HomeLimitedShopSystem closed");
          common::milog::MiLogStream::~MiLogStream(&v33);
          v9 = 142;
        }
        else
        {
          ServiceBox::findService<GameserverService>();
          GameserverService::getConfig((GameserverService *const)&v32);
          p_feature_switch_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v32)->feature_switch_mgr;
          v16 = proto::HomeLimitedShopBuyGoodsReq::goods(req);
          v17 = proto::HomeLimitedShopGoods::goods_id(v16);
          LOBYTE(p_feature_switch_mgr) = FeatureSwitchMgr::isHomeLimitedShopClosed(p_feature_switch_mgr, v17);
          std::shared_ptr<Config>::~shared_ptr(&v32);
          if ( (_BYTE)p_feature_switch_mgr )
          {
            common::milog::MiLogStream::create(
              &v33,
              &common::milog::MiLogDefault::default_log_obj_,
              1u,
              "./src/handler/player_home_handler.cpp",
              "onHomeLimitedShopBuyGoodsReq",
              1820);
            v18 = common::milog::MiLogStream::operator<<<char [51],(char *[51])0>(
                    &v33,
                    (const char (*)[51])"[FEATURE_SWITCH] HomeLimitedShop closed goods_id: ");
            v19 = proto::HomeLimitedShopBuyGoodsReq::goods(req);
            val = proto::HomeLimitedShopGoods::goods_id(v19);
            common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v18, &val);
            common::milog::MiLogStream::~MiLogStream(&v33);
            v9 = 142;
          }
          else
          {
            v20 = proto::HomeLimitedShopBuyGoodsReq::buy_count(req);
            p_player = proto::HomeLimitedShopBuyGoodsReq::goods(req);
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            {
              p_player = (const proto::HomeLimitedShopGoods *)&this->player_;
              __asan_report_load8();
            }
            retcode = HomeLimitedShopComp::buyGoods(shop_comp, this->player_, p_player, v20);
            v22 = proto::HomeLimitedShopBuyGoodsRsp::mutable_goods(rsp_0);
            v23 = proto::HomeLimitedShopBuyGoodsReq::goods(req);
            v24 = proto::HomeLimitedShopGoods::goods_id(v23);
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            {
              v24 = (_DWORD)this + 8;
              __asan_report_load8();
            }
            HomeLimitedShopComp::fillGoodsInfo(shop_comp, this->player_, v24, v22);
            v25 = proto::HomeLimitedShopBuyGoodsReq::buy_count(req);
            proto::HomeLimitedShopBuyGoodsRsp::set_buy_count(rsp_0, v25);
            v9 = retcode;
          }
        }
      }
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v34 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1830: range 0000000017CA881E-0000000017CA899A
int32_t __cdecl PlayerHomeHandler::onHomeAvatarTalkReq(
        PlayerHomeHandler *const this,
        const proto::HomeAvatarTalkReq *req,
        proto::HomeAvatarTalkRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  PlayerHomeComp *v5; // rax
  uint32_t v6; // ebx
  uint32_t v7; // ecx
  proto::HomeAvatarTalkFinishInfo *v8; // rbx
  uint32_t v9; // ecx
  int32_t ret; // [rsp+24h] [rbp-3Ch]
  HomeAvatar *home_avatar; // [rsp+28h] [rbp-38h]
  common::milog::MiLogStream v13; // [rsp+30h] [rbp-30h] BYREF

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  if ( !PlayerHomeComp::isInHomeWorld(HomeComp) )
  {
    common::milog::MiLogStream::create(
      &v13,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeAvatarTalkReq",
      1833);
    common::milog::MiLogStream::operator<<<char [19],(char *[19])0>(&v13, (const char (*)[19])off_26387860);
    common::milog::MiLogStream::~MiLogStream(&v13);
    return -1;
  }
  else
  {
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v5 = Player::getHomeComp(this->player_);
    home_avatar = PlayerHomeComp::getHomeAvatar(v5);
    v6 = proto::HomeAvatarTalkReq::talk_id(req);
    v7 = proto::HomeAvatarTalkReq::avatar_id(req);
    ret = HomeAvatar::recordHomeAvatarTalkIdFinish(home_avatar, v7, v6);
    if ( !ret )
    {
      v8 = proto::HomeAvatarTalkRsp::mutable_avatar_talk_info(rsp_0);
      v9 = proto::HomeAvatarTalkReq::avatar_id(req);
      return HomeAvatar::fillHomeAvatarTalkInfo(home_avatar, v9, v8);
    }
    return ret;
  }
};

// Line 1847: range 0000000017CA899C-0000000017CA8CD0
int32_t __cdecl PlayerHomeHandler::onHomeAvatarRewardEventGetReq(
        PlayerHomeHandler *const this,
        const proto::HomeAvatarRewardEventGetReq *req,
        proto::HomeAvatarRewardEventGetRsp *rsp_0)
{
  unsigned __int64 v3; // rbx
  __int64 v4; // rax
  _DWORD *v5; // r12
  PlayerHomeComp *HomeComp; // rax
  int32_t v7; // r14d
  google::protobuf::uint32 v8; // edx
  PlayerHomeComp *v9; // rax
  uint32_t v10; // eax
  proto::ItemParam *v11; // rax
  int32_t result; // eax
  int32_t ret; // [rsp+24h] [rbp-DCh]
  std::vector<ItemParam>::iterator __for_begin; // [rsp+28h] [rbp-D8h] BYREF
  std::vector<ItemParam>::iterator __for_end; // [rsp+30h] [rbp-D0h] BYREF
  HomeAvatar *home_avatar; // [rsp+38h] [rbp-C8h]
  std::vector<ItemParam> *__for_range; // [rsp+40h] [rbp-C0h]
  const ItemParam *item; // [rsp+48h] [rbp-B8h]
  common::milog::MiLogStream v20; // [rsp+50h] [rbp-B0h] BYREF
  char v21[144]; // [rsp+70h] [rbp-90h] BYREF

  v3 = (unsigned __int64)v21;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(96LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "1 32 24 21 display_item_vec:1856";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeAvatarRewardEventGetReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -218103808;
  v5[536862722] = -202116109;
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  if ( !PlayerHomeComp::isInHomeWorld(HomeComp) )
  {
    common::milog::MiLogStream::create(
      &v20,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeAvatarRewardEventGetReq",
      1850);
    common::milog::MiLogStream::operator<<<char [19],(char *[19])0>(&v20, (const char (*)[19])off_26387860);
    common::milog::MiLogStream::~MiLogStream(&v20);
    v7 = -1;
  }
  else
  {
    v8 = proto::HomeAvatarRewardEventGetReq::event_id(req);
    proto::HomeAvatarRewardEventGetRsp::set_event_id(rsp_0, v8);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v9 = Player::getHomeComp(this->player_);
    home_avatar = PlayerHomeComp::getHomeAvatar(v9);
    std::vector<ItemParam>::vector((std::vector<ItemParam> *const)(v3 + 32));
    v10 = proto::HomeAvatarRewardEventGetReq::event_id(req);
    ret = HomeAvatar::getEventReward(home_avatar, v10, (std::vector<ItemParam> *)(v3 + 32));
    __for_range = (std::vector<ItemParam> *)(v3 + 32);
    __for_begin._M_current = std::vector<ItemParam>::begin((std::vector<ItemParam> *const)(v3 + 32))._M_current;
    __for_end._M_current = std::vector<ItemParam>::end((std::vector<ItemParam> *const)(v3 + 32))._M_current;
    while ( __gnu_cxx::operator!=<ItemParam *,std::vector<ItemParam>>(&__for_begin, &__for_end) )
    {
      item = __gnu_cxx::__normal_iterator<ItemParam *,std::vector<ItemParam>>::operator*(&__for_begin);
      v11 = proto::HomeAvatarRewardEventGetRsp::add_item_list(rsp_0);
      ItemParam::toClient(item, v11);
      __gnu_cxx::__normal_iterator<ItemParam *,std::vector<ItemParam>>::operator++(&__for_begin);
    }
    v7 = ret;
    std::vector<ItemParam>::~vector((std::vector<ItemParam> *const)(v3 + 32));
  }
  result = v7;
  if ( v21 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 1866: range 0000000017CA8CD2-0000000017CA8FB8
int32_t __cdecl PlayerHomeHandler::onHomeAvatarSummonEventReq(
        PlayerHomeHandler *const this,
        const proto::HomeAvatarSummonEventReq *req,
        proto::HomeAvatarSummonEventRsp *rsp_0)
{
  unsigned __int64 v3; // rbx
  __int64 v4; // rax
  unsigned __int64 v5; // r12
  PlayerHomeComp *HomeComp; // rax
  int32_t result; // eax
  PlayerHomeComp *v8; // rax
  uint32_t v9; // r14d
  uint32_t v10; // esi
  uint32_t v11; // edx
  HomeAvatar *home_avatar; // [rsp+28h] [rbp-98h]
  common::milog::MiLogStream v15; // [rsp+30h] [rbp-90h] BYREF
  char v16[112]; // [rsp+50h] [rbp-70h] BYREF

  v3 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_0(64LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "1 32 4 13 event_id:1874";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeAvatarSummonEventReq;
  v5 = v3 >> 3;
  *(_DWORD *)(v5 + 2147450880) = -235802127;
  *(_DWORD *)(v5 + 2147450884) = -202116348;
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  if ( !PlayerHomeComp::isInHomeWorld(HomeComp) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeAvatarSummonEventReq",
      1869);
    common::milog::MiLogStream::operator<<<char [19],(char *[19])0>(&v15, (const char (*)[19])off_26387860);
    common::milog::MiLogStream::~MiLogStream(&v15);
    result = -1;
  }
  else
  {
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v8 = Player::getHomeComp(this->player_);
    home_avatar = PlayerHomeComp::getHomeAvatar(v8);
    *(_DWORD *)(v3 + 32) = 0;
    v9 = proto::HomeAvatarSummonEventReq::suit_id(req);
    v10 = proto::HomeAvatarSummonEventReq::avatar_id(req);
    if ( !HomeAvatar::isEventCanSummon(home_avatar, v10, v9, (uint32_t *)(v3 + 32)) )
    {
      common::milog::MiLogStream::create(
        &v15,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeAvatarSummonEventReq",
        1877);
      common::milog::MiLogStream::operator<<<char [21],(char *[21])0>(&v15, (const char (*)[21])"Event summon failed.");
      common::milog::MiLogStream::~MiLogStream(&v15);
      result = -1;
    }
    else
    {
      v11 = proto::HomeAvatarSummonEventReq::guid(req);
      HomeAvatar::recordAndNotifySummonEvent(home_avatar, *(_DWORD *)(v3 + 32), v11);
      proto::HomeAvatarSummonEventRsp::set_event_id(rsp_0, *(_DWORD *)(v3 + 32));
      result = 0;
    }
  }
  if ( v16 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1886: range 0000000017CA8FBA-0000000017CA90FE
int32_t __cdecl PlayerHomeHandler::onHomeAvatarSummonFinishReq(
        PlayerHomeHandler *const this,
        const proto::HomeAvatarSummonFinishReq *req,
        proto::HomeAvatarSummonFinishRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  PlayerHomeComp *v5; // rax
  HomeAvatar *HomeAvatar; // rax
  google::protobuf::uint32 event_id; // [rsp+2Ch] [rbp-34h]
  common::milog::MiLogStream v9; // [rsp+30h] [rbp-30h] BYREF

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  if ( !PlayerHomeComp::isInHomeWorld(HomeComp) )
  {
    common::milog::MiLogStream::create(
      &v9,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeAvatarSummonFinishReq",
      1889);
    common::milog::MiLogStream::operator<<<char [19],(char *[19])0>(&v9, (const char (*)[19])off_26387860);
    common::milog::MiLogStream::~MiLogStream(&v9);
    return -1;
  }
  else
  {
    event_id = proto::HomeAvatarSummonFinishReq::event_id(req);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v5 = Player::getHomeComp(this->player_);
    HomeAvatar = PlayerHomeComp::getHomeAvatar(v5);
    HomeAvatar::summonEventFinish(HomeAvatar, event_id);
    proto::HomeAvatarSummonFinishRsp::set_event_id(rsp_0, event_id);
    return 0;
  }
};

// Line 1900: range 0000000017CA9100-0000000017CA93E8
int32_t __cdecl PlayerHomeHandler::onHomeSceneInitFinishReq(
        PlayerHomeHandler *const this,
        const proto::HomeSceneInitFinishReq *req,
        proto::HomeSceneInitFinishRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  Home *v10; // rcx
  int32_t result; // eax
  common::milog::MiLogStream v12; // [rsp+20h] [rbp-D0h] BYREF
  char v13[176]; // [rsp+40h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v13;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 8 ret:1903 64 16 19 home_world_ptr:1901 96 16 13 home_ptr:1902";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeSceneInitFinishReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 64),
                           (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v12,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeSceneInitFinishReq",
      1906);
    v8 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
           &v12,
           (const char (*)[36])"getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v12);
    if ( *(_DWORD *)(v3 + 48) )
      v9 = *(_DWORD *)(v3 + 48);
    else
      v9 = -1;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Home::notifyHomeDataAftereSceneInitFinish(v10, this->player_);
    v9 = 0;
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v13 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 1916: range 0000000017CA93EA-0000000017CA953B
int32_t __cdecl PlayerHomeHandler::onHomeResourceTakeHomeCoinReq(
        PlayerHomeHandler *const this,
        const proto::HomeResourceTakeHomeCoinReq *req,
        proto::HomeResourceTakeHomeCoinRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  PlayerHomeComp *v5; // rax
  const HomeResource::Resource *HomeCoinResource; // rbx
  proto::HomeResource *v7; // rax
  int32_t ret; // [rsp+24h] [rbp-3Ch]
  HomeResource *home_resource; // [rsp+28h] [rbp-38h]
  common::milog::MiLogStream v11; // [rsp+30h] [rbp-30h] BYREF

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  if ( !PlayerHomeComp::isInHomeWorld(HomeComp) )
  {
    common::milog::MiLogStream::create(
      &v11,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeResourceTakeHomeCoinReq",
      1919);
    common::milog::MiLogStream::operator<<<char [19],(char *[19])0>(&v11, (const char (*)[19])off_26387860);
    common::milog::MiLogStream::~MiLogStream(&v11);
    return -1;
  }
  else
  {
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v5 = Player::getHomeComp(this->player_);
    home_resource = PlayerHomeComp::getHomeResource(v5);
    ret = HomeResource::onTakeHomeCoin(home_resource);
    if ( !ret )
    {
      HomeCoinResource = HomeResource::getHomeCoinResource(home_resource);
      v7 = proto::HomeResourceTakeHomeCoinRsp::mutable_home_coin(rsp_0);
      HomeResource::Resource::toClient(HomeCoinResource, v7);
    }
    return ret;
  }
};

// Line 1932: range 0000000017CA953C-0000000017CA968D
int32_t __cdecl PlayerHomeHandler::onHomeResourceTakeFetterExpReq(
        PlayerHomeHandler *const this,
        const proto::HomeResourceTakeFetterExpReq *req,
        proto::HomeResourceTakeFetterExpRsp *rsp_0)
{
  PlayerHomeComp *HomeComp; // rax
  PlayerHomeComp *v5; // rax
  const HomeResource::Resource *FetterExpResource; // rbx
  proto::HomeResource *v7; // rax
  int32_t ret; // [rsp+24h] [rbp-3Ch]
  HomeResource *home_resource; // [rsp+28h] [rbp-38h]
  common::milog::MiLogStream v11; // [rsp+30h] [rbp-30h] BYREF

  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  if ( !PlayerHomeComp::isInHomeWorld(HomeComp) )
  {
    common::milog::MiLogStream::create(
      &v11,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeResourceTakeFetterExpReq",
      1935);
    common::milog::MiLogStream::operator<<<char [19],(char *[19])0>(&v11, (const char (*)[19])off_26387860);
    common::milog::MiLogStream::~MiLogStream(&v11);
    return -1;
  }
  else
  {
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    v5 = Player::getHomeComp(this->player_);
    home_resource = PlayerHomeComp::getHomeResource(v5);
    ret = HomeResource::onTakeFetterExp(home_resource);
    if ( !ret )
    {
      FetterExpResource = HomeResource::getFetterExpResource(home_resource);
      v7 = proto::HomeResourceTakeFetterExpRsp::mutable_fetter_exp(rsp_0);
      HomeResource::Resource::toClient(FetterExpResource, v7);
    }
    return ret;
  }
};

// Line 1949: range 0000000017CA968E-0000000017CAA3F8
int32_t __cdecl PlayerHomeHandler::onHomePlantSeedReq(
        PlayerHomeHandler *const this,
        const proto::HomePlantSeedReq *req,
        proto::HomePlantSeedRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  std::unordered_map<unsigned int,unsigned int>::mapped_type *v12; // rax
  Home *v13; // rax
  std::vector<unsigned int>::size_type v14; // r14
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // rax
  common::milog::MiLogStream *v17; // r14
  PlayerItemComp *ItemComp; // rax
  std::vector<unsigned int>::size_type v19; // r14
  std::vector<unsigned int>::reference v20; // rdx
  std::vector<unsigned int>::size_type v21; // r14
  common::milog::MiLogStream *v22; // rax
  common::milog::MiLogStream *v23; // rax
  common::milog::MiLogStream *v24; // rax
  std::vector<unsigned int>::reference v25; // rdx
  uint32_t v26; // edi
  common::milog::MiLogStream *v27; // rax
  PlayerWatcherComp *WatcherComp; // rax
  int32_t result; // eax
  google::protobuf::uint32 field_guid; // [rsp+20h] [rbp-270h]
  google::protobuf::uint32 field_index; // [rsp+24h] [rbp-26Ch]
  uint32_t seed_id; // [rsp+28h] [rbp-268h]
  uint32_t sub_field_index; // [rsp+2Ch] [rbp-264h]
  std::unordered_map<unsigned int,unsigned int>::iterator __for_begin_0; // [rsp+30h] [rbp-260h] BYREF
  std::unordered_map<unsigned int,unsigned int>::iterator __for_end_0; // [rsp+38h] [rbp-258h] BYREF
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_begin; // [rsp+40h] [rbp-250h]
  const google::protobuf::RepeatedField<unsigned int> *__for_range; // [rsp+48h] [rbp-248h]
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_end; // [rsp+50h] [rbp-240h]
  HomePlantComp *plant_comp; // [rsp+58h] [rbp-238h]
  std::unordered_map<unsigned int,unsigned int> *__for_range_0; // [rsp+60h] [rbp-230h]
  std::pair<unsigned int const,unsigned int> *__in; // [rsp+68h] [rbp-228h]
  std::tuple_element<0,std::pair<unsigned int const,unsigned int> >::type *item_id; // [rsp+70h] [rbp-220h]
  std::tuple_element<1,std::pair<unsigned int const,unsigned int> >::type *count; // [rsp+78h] [rbp-218h]
  common::milog::MiLogStream v45; // [rsp+80h] [rbp-210h] BYREF
  char v46[496]; // [rsp+A0h] [rbp-1F0h] BYREF

  v3 = (unsigned __int64)v46;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_3(448LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "9 32 4 8 ret:1952 48 4 6 i:1998 64 16 19 home_world_ptr:1950 96 16 13 home_ptr:1951 128 16 10 pa"
                        "ram:1989 160 24 16 seed_id_vec:1965 224 24 24 sub_field_index_vec:1974 288 24 19 item_param_vec:"
                        "1986 352 56 22 seed_id_count_map:1966";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomePlantSeedReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556924;
  v5[536862722] = -219021312;
  v5[536862723] = -219021312;
  v5[536862724] = -219021312;
  v5[536862725] = -234881024;
  v5[536862726] = -218959118;
  v5[536862727] = -234881024;
  v5[536862728] = -218959118;
  v5[536862729] = -234881024;
  v5[536862730] = -218959118;
  v5[536862732] = -218103808;
  v5[536862733] = -202116109;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 32) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 64),
                           (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 32)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v45,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomePlantSeedReq",
      1955);
    v8 = common::milog::MiLogStream::operator<<<char [48],(char *[48])0>(
           &v45,
           (const char (*)[48])"[HOME_PLANT]getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 32));
    common::milog::MiLogStream::~MiLogStream(&v45);
    v9 = 9714;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    HomeUid = Home::getHomeUid(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      field_guid = proto::HomePlantSeedReq::field_guid(req);
      field_index = proto::HomePlantSeedReq::index(req);
      std::vector<unsigned int>::vector((std::vector<unsigned int> *const)(v3 + 160));
      std::unordered_map<unsigned int,unsigned int>::unordered_map((std::unordered_map<unsigned int,unsigned int> *const)(v3 + 352));
      __for_range = proto::HomePlantSeedReq::seed_id_list(req);
      __for_begin = google::protobuf::RepeatedField<unsigned int>::begin(__for_range);
      __for_end = google::protobuf::RepeatedField<unsigned int>::end(__for_range);
      while ( __for_begin != __for_end )
      {
        if ( *(_BYTE *)(((unsigned __int64)__for_begin >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)__for_begin & 7) + 3) >= *(_BYTE *)(((unsigned __int64)__for_begin >> 3)
                                                                        + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        *(_DWORD *)(v3 + 48) = *__for_begin;
        std::vector<unsigned int>::push_back(
          (std::vector<unsigned int> *const)(v3 + 160),
          (const std::vector<unsigned int>::value_type *)(v3 + 48));
        v12 = std::unordered_map<unsigned int,unsigned int>::operator[](
                (std::unordered_map<unsigned int,unsigned int> *const)(v3 + 352),
                (const std::unordered_map<unsigned int,unsigned int>::key_type *)(v3 + 48));
        if ( *(_BYTE *)(((unsigned __int64)v12 >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)v12 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v12 >> 3) + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        ++*v12;
        ++__for_begin;
      }
      v13 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
      plant_comp = Home::getPlantComp(v13);
      std::vector<unsigned int>::vector((std::vector<unsigned int> *const)(v3 + 224));
      *(_DWORD *)(v3 + 32) = HomePlantComp::getEmptySubFieldVec(
                               plant_comp,
                               field_guid,
                               field_index,
                               (std::vector<unsigned int> *)(v3 + 224));
      if ( *(_DWORD *)(v3 + 32) )
      {
        common::milog::MiLogStream::create(
          &v45,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomePlantSeedReq",
          1978);
        common::milog::MiLogStream::operator<<<char [38],(char *[38])0>(
          &v45,
          (const char (*)[38])"[HOME_PLANT]getEmptySubFieldVec fail.");
        common::milog::MiLogStream::~MiLogStream(&v45);
        v9 = *(_DWORD *)(v3 + 32);
      }
      else
      {
        v14 = std::vector<unsigned int>::size((const std::vector<unsigned int> *const)(v3 + 224));
        if ( v14 >= std::vector<unsigned int>::size((const std::vector<unsigned int> *const)(v3 + 160)) )
        {
          std::vector<ItemParam>::vector((std::vector<ItemParam> *const)(v3 + 288));
          __for_range_0 = (std::unordered_map<unsigned int,unsigned int> *)(v3 + 352);
          __for_begin_0._M_cur = std::unordered_map<unsigned int,unsigned int>::begin((std::unordered_map<unsigned int,unsigned int> *const)(v3 + 352))._M_cur;
          __for_end_0._M_cur = std::unordered_map<unsigned int,unsigned int>::end((std::unordered_map<unsigned int,unsigned int> *const)(v3 + 352))._M_cur;
          while ( std::__detail::operator!=<std::pair<unsigned int const,unsigned int>,false>(
                    &__for_begin_0,
                    &__for_end_0) )
          {
            __in = std::__detail::_Node_iterator<std::pair<unsigned int const,unsigned int>,false,false>::operator*(&__for_begin_0);
            item_id = std::get<0ul,unsigned int const,unsigned int>(__in);
            count = std::get<1ul,unsigned int const,unsigned int>(__in);
            *(_QWORD *)(v3 + 128) = 0LL;
            *(_QWORD *)(v3 + 136) = 0LL;
            if ( *(_BYTE *)(((unsigned __int64)item_id >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)item_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)item_id >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            *(_DWORD *)(v3 + 128) = *item_id;
            if ( *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            *(_DWORD *)(v3 + 132) = *count;
            std::vector<ItemParam>::emplace_back<ItemParam&>(
              (std::vector<ItemParam> *const)(v3 + 288),
              (ItemParam *)(v3 + 128),
              (ItemParam *)(v3 + 128));
            std::__detail::_Node_iterator<std::pair<unsigned int const,unsigned int>,false,false>::operator++(&__for_begin_0);
          }
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          ItemComp = Player::getItemComp(this->player_);
          *(_DWORD *)(v3 + 32) = PlayerItemComp::checkSubItemBatch(ItemComp, (const std::vector<ItemParam> *)(v3 + 288));
          if ( *(_DWORD *)(v3 + 32) )
          {
            common::milog::MiLogStream::create(
              &v45,
              &common::milog::MiLogDefault::default_log_obj_,
              1u,
              "./src/handler/player_home_handler.cpp",
              "onHomePlantSeedReq",
              1995);
            common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
              &v45,
              (const char (*)[36])"[HOME_PLANT]checkSubItemBatch fail.");
            common::milog::MiLogStream::~MiLogStream(&v45);
            v9 = *(_DWORD *)(v3 + 32);
          }
          else
          {
            for ( *(_DWORD *)(v3 + 48) = 0; ; ++*(_DWORD *)(v3 + 48) )
            {
              v19 = *(unsigned int *)(v3 + 48);
              if ( v19 >= std::vector<unsigned int>::size((const std::vector<unsigned int> *const)(v3 + 160)) )
                break;
              v20 = std::vector<unsigned int>::operator[](
                      (std::vector<unsigned int> *const)(v3 + 160),
                      *(unsigned int *)(v3 + 48));
              if ( *(_BYTE *)(((unsigned __int64)v20 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)v20 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v20 >> 3) + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              seed_id = *v20;
              v21 = *(unsigned int *)(v3 + 48);
              if ( v21 >= std::vector<unsigned int>::size((const std::vector<unsigned int> *const)(v3 + 224)) )
              {
                common::milog::MiLogStream::create(
                  &v45,
                  &common::milog::MiLogDefault::default_log_obj_,
                  4u,
                  "./src/handler/player_home_handler.cpp",
                  "onHomePlantSeedReq",
                  2003);
                v22 = common::milog::MiLogStream::operator<<<char [42],(char *[42])0>(
                        &v45,
                        (const char (*)[42])"[HOME_PLANT]empy subfield not enough. i: ");
                v23 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                        v22,
                        (const unsigned int *)(v3 + 48));
                v24 = common::milog::MiLogStream::operator<<<char [23],(char *[23])0>(
                        v23,
                        (const char (*)[23])" sub_field_index_vec: ");
                common::milog::MiLogStream::operator<<<unsigned int>(v24, (const std::vector<unsigned int> *)(v3 + 224));
                common::milog::MiLogStream::~MiLogStream(&v45);
                break;
              }
              v25 = std::vector<unsigned int>::operator[](
                      (std::vector<unsigned int> *const)(v3 + 224),
                      *(unsigned int *)(v3 + 48));
              if ( *(_BYTE *)(((unsigned __int64)v25 >> 3) + 0x7FFF8000) != 0
                && (char)(((unsigned __int8)v25 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v25 >> 3) + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              sub_field_index = *v25;
              v26 = proto::HomePlantSeedReq::field_guid(req);
              if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              {
                v26 = (_DWORD)this + 8;
                __asan_report_load8();
              }
              *(_DWORD *)(v3 + 32) = HomePlantComp::seed(plant_comp, this->player_, v26, sub_field_index, seed_id);
              if ( *(_DWORD *)(v3 + 32) )
              {
                common::milog::MiLogStream::create(
                  &v45,
                  &common::milog::MiLogDefault::default_log_obj_,
                  1u,
                  "./src/handler/player_home_handler.cpp",
                  "onHomePlantSeedReq",
                  2010);
                v27 = common::milog::MiLogStream::operator<<<char [33],(char *[33])0>(
                        &v45,
                        (const char (*)[33])"[HOME_PLANT]seed fail. retcode: ");
                common::milog::MiLogStream::operator<<<int,(int *)0>(v27, (const int *)(v3 + 32));
                common::milog::MiLogStream::~MiLogStream(&v45);
              }
            }
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            WatcherComp = Player::getWatcherComp(this->player_);
            PlayerWatcherComp::triggerHomeDoPlant(WatcherComp);
            v9 = 0;
          }
          std::vector<ItemParam>::~vector((std::vector<ItemParam> *const)(v3 + 288));
        }
        else
        {
          common::milog::MiLogStream::create(
            &v45,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomePlantSeedReq",
            1983);
          v15 = common::milog::MiLogStream::operator<<<char [52],(char *[52])0>(
                  &v45,
                  (const char (*)[52])"[HOME_PLANT]empy subfield not enough. empty index: ");
          v16 = common::milog::MiLogStream::operator<<<unsigned int>(v15, (const std::vector<unsigned int> *)(v3 + 224));
          v17 = common::milog::MiLogStream::operator<<<char [21],(char *[21])0>(
                  v16,
                  (const char (*)[21])" seed_id_list_size: ");
          __for_end_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<unsigned int const,unsigned int>,false>::__node_type *)std::vector<unsigned int>::size((const std::vector<unsigned int> *const)(v3 + 160));
          common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(
            v17,
            (const unsigned __int64 *)&__for_end_0);
          common::milog::MiLogStream::~MiLogStream(&v45);
          v9 = 9773;
        }
      }
      std::vector<unsigned int>::~vector((std::vector<unsigned int> *const)(v3 + 224));
      std::unordered_map<unsigned int,unsigned int>::~unordered_map((std::unordered_map<unsigned int,unsigned int> *const)(v3 + 352));
      std::vector<unsigned int>::~vector((std::vector<unsigned int> *const)(v3 + 160));
    }
    else
    {
      common::milog::MiLogStream::create(
        &v45,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomePlantSeedReq",
        1960);
      common::milog::MiLogStream::operator<<<char [43],(char *[43])0>(
        &v45,
        (const char (*)[43])"[HOME_PLANT]player not in self home_world.");
      common::milog::MiLogStream::~MiLogStream(&v45);
      v9 = 9714;
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v46 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8020) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8028) = 0;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8030) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8020) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8028) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8030) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2020: range 0000000017CAA3FA-0000000017CAA7E4
int32_t __cdecl PlayerHomeHandler::onHomePlantWeedReq(
        PlayerHomeHandler *const this,
        const proto::HomePlantWeedReq *req,
        proto::HomePlantWeedRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  Home *v12; // rax
  HomePlantComp *PlantComp; // r14
  uint32_t v14; // r15d
  uint32_t v15; // esi
  int32_t result; // eax
  common::milog::MiLogStream v17; // [rsp+20h] [rbp-D0h] BYREF
  char v18[176]; // [rsp+40h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v18;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 8 ret:2023 64 16 19 home_world_ptr:2021 96 16 13 home_ptr:2022";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomePlantWeedReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 64),
                           (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v17,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomePlantWeedReq",
      2026);
    v8 = common::milog::MiLogStream::operator<<<char [48],(char *[48])0>(
           &v17,
           (const char (*)[48])"[HOME_PLANT]getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v17);
    v9 = 9714;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    HomeUid = Home::getHomeUid(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      v12 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
      PlantComp = Home::getPlantComp(v12);
      v14 = proto::HomePlantWeedReq::index(req);
      v15 = proto::HomePlantWeedReq::field_guid(req);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      *(_DWORD *)(v3 + 48) = HomePlantComp::weed(PlantComp, this->player_, v15, v14);
      v9 = *(_DWORD *)(v3 + 48);
    }
    else
    {
      common::milog::MiLogStream::create(
        &v17,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomePlantWeedReq",
        2031);
      common::milog::MiLogStream::operator<<<char [43],(char *[43])0>(
        &v17,
        (const char (*)[43])"[HOME_PLANT]player not in self home_world.");
      common::milog::MiLogStream::~MiLogStream(&v17);
      v9 = 9714;
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v18 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2039: range 0000000017CAA7E6-0000000017CAAA9D
int32_t __cdecl PlayerHomeHandler::onHomePlantInfoReq(
        PlayerHomeHandler *const this,
        const proto::HomePlantInfoReq *req,
        proto::HomePlantInfoRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  Home *v10; // rax
  HomePlantComp *PlantComp; // rdx
  int32_t result; // eax
  common::milog::MiLogStream v14; // [rsp+20h] [rbp-D0h] BYREF
  char v15[176]; // [rsp+40h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v15;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 8 ret:2042 64 16 19 home_world_ptr:2040 96 16 13 home_ptr:2041";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomePlantInfoReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 64),
                           (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v14,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomePlantInfoReq",
      2045);
    v8 = common::milog::MiLogStream::operator<<<char [48],(char *[48])0>(
           &v14,
           (const char (*)[48])"[HOME_PLANT]getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v14);
    v9 = 9714;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    PlantComp = Home::getPlantComp(v10);
    HomePlantComp::fillCurFieldData(PlantComp, rsp_0);
    v9 = 0;
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v15 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2054: range 0000000017CAAA9E-0000000017CAB99B
int32_t __cdecl PlayerHomeHandler::onHomeTransferReq(
        PlayerHomeHandler *const this,
        const proto::HomeTransferReq *req,
        proto::HomeTransferRsp *rsp_0)
{
  int32_t v3; // r14d
  unsigned __int64 v4; // r13
  __int64 v5; // rax
  _DWORD *v6; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v9; // rax
  int v10; // r15d
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v11; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v12; // rax
  common::milog::MiLogStream *v13; // r14
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v14; // rax
  Scene *v15; // rax
  common::milog::MiLogStream *v16; // rax
  Home *v17; // rax
  PlayerBasicComp *BasicComp; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v19; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v20; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v21; // rax
  Player *player; // r15
  Home *v23; // rax
  HomeSceneComp *SceneComp; // r15
  uint32_t v25; // eax
  common::milog::MiLogStream *v26; // r14
  common::milog::MiLogStream *v27; // rax
  common::milog::MiLogStream *v28; // rax
  uint32_t v29; // eax
  common::milog::MiLogStream *v30; // rax
  int v31; // r15d
  PlayerSceneComp *v32; // r15
  Scene *v33; // rax
  common::milog::MiLogStream *v34; // r14
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v35; // rax
  common::milog::MiLogStream *v36; // rax
  common::milog::MiLogStream *v37; // rax
  Home *v38; // rax
  PlayerBasicComp *v39; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v40; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v41; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v42; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v43; // rax
  Player *v44; // r15
  int32_t result; // eax
  std::string v46; // [rsp+0h] [rbp-220h]
  unsigned int val; // [rsp+38h] [rbp-1E8h] BYREF
  uint32_t cur_module_id_0; // [rsp+3Ch] [rbp-1E4h]
  unsigned int scene_id; // [rsp+40h] [rbp-1E0h]
  uint32_t cur_module_id; // [rsp+44h] [rbp-1DCh]
  const SceneScriptConfig *scene_script_config_ptr; // [rsp+48h] [rbp-1D8h]
  std::shared_ptr<google::protobuf::Message> p_body_ptr; // [rsp+50h] [rbp-1D0h] BYREF
  std::shared_ptr<google::protobuf::Message> v53; // [rsp+60h] [rbp-1C0h] BYREF
  common::milog::MiLogStream v54; // [rsp+70h] [rbp-1B0h] BYREF
  TransferReason p_reason; // [rsp+90h] [rbp-190h] BYREF
  char v56[336]; // [rsp+D0h] [rbp-150h] BYREF

  *(&v46._anon_0._M_allocated_capacity + 1) = (std::string::size_type)rsp_0;
  v4 = (unsigned __int64)v56;
  v46._M_dataplus._M_p = v56;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v5 = __asan_stack_malloc_3(288LL);
    if ( v5 )
      v4 = v5;
  }
  *(_QWORD *)v4 = 1102416563LL;
  *(_QWORD *)(v4 + 8) = "10 32 1 11 holder:2123 48 4 8 ret:2057 64 4 13 block_id:2099 80 4 13 scene_id:2100 96 12 8 pos:2"
                        "101 128 12 8 rot:2102 160 16 19 home_world_ptr:2055 192 16 13 home_ptr:2056 224 16 19 dest_scene"
                        "_ptr:2109 256 16 12 log_ptr:2124";
  *(_QWORD *)(v4 + 16) = PlayerHomeHandler::onHomeTransferReq;
  v6 = (_DWORD *)(v4 >> 3);
  v6[536862720] = -235802127;
  v6[536862721] = -234556927;
  v6[536862722] = -234556924;
  v6[536862723] = -219020288;
  v6[536862724] = -219020288;
  v6[536862725] = -219021312;
  v6[536862726] = -219021312;
  v6[536862727] = -219021312;
  v6[536862728] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v4 + 160), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v4 + 192), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v4 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v4 + 160),
                           (HomePtr *)(v4 + 192));
  if ( *(_DWORD *)(v4 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v4 + 160), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v4 + 192), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v54,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeTransferReq",
      2060);
    v9 = common::milog::MiLogStream::operator<<<char [48],(char *[48])0>(
           &v54,
           (const char (*)[48])"[HOME_PLANT]getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v9, (const int *)(v4 + 48));
    common::milog::MiLogStream::~MiLogStream(&v54);
    v3 = 9714;
    goto LABEL_44;
  }
  if ( proto::HomeTransferReq::is_transfer_to_safe_point(req) )
  {
    std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 160));
    World::getMainWorldScene((World *const)(v4 + 224));
    if ( std::operator==<Scene>((const std::shared_ptr<Scene> *)(v4 + 224), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v54,
        &common::milog::MiLogDefault::default_log_obj_,
        3u,
        "./src/handler/player_home_handler.cpp",
        "onHomeTransferReq",
        2070);
      common::milog::MiLogStream::operator<<<char [23],(char *[23])0>(
        &v54,
        (const char (*)[23])"dest_scene_ptr is null");
      common::milog::MiLogStream::~MiLogStream(&v54);
      v3 = -1;
      v10 = 0;
    }
    else
    {
      v11 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 224));
      scene_id = Scene::getSceneId(v11);
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)&v53);
      v12 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v53);
      scene_script_config_ptr = LuaConfigMgr::findSceneScriptConfig(&v12->design_config.lua_config_mgr, scene_id);
      std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)&v53);
      if ( scene_script_config_ptr )
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v46._anon_0._M_allocated_capacity = (std::string::size_type)Player::getSceneComp(this->player_);
        TransferReason::TransferReason(&p_reason, ENTER_REASON_HOME_SCENE_JUMP);
        v46._M_string_length = (std::string::size_type)&scene_script_config_ptr->born_rot;
        v15 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 224));
        *(_DWORD *)(v4 + 48) = PlayerSceneComp::jumpToScene(
                                 (PlayerSceneComp *const)v46._anon_0._M_allocated_capacity,
                                 v15,
                                 &scene_script_config_ptr->born_pos,
                                 &scene_script_config_ptr->born_rot,
                                 0,
                                 &p_reason);
        TransferReason::~TransferReason(&p_reason);
        if ( *(_DWORD *)(v4 + 48) )
        {
          common::milog::MiLogStream::create(
            &v54,
            &common::milog::MiLogDefault::default_log_obj_,
            3u,
            "./src/handler/player_home_handler.cpp",
            "onHomeTransferReq",
            2084);
          v16 = common::milog::MiLogStream::operator<<<char [41],(char *[41])0>(
                  &v54,
                  (const char (*)[41])"transfer to home safe point failed, ret=");
          common::milog::MiLogStream::operator<<<int,(int *)0>(v16, (const int *)(v4 + 48));
          common::milog::MiLogStream::~MiLogStream(&v54);
          v3 = *(_DWORD *)(v4 + 48);
          v10 = 0;
        }
        else
        {
          v17 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 192));
          cur_module_id = Home::getCurModuleId(v17);
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          BasicComp = Player::getBasicComp(this->player_);
          PlayerBasicComp::getNextTransNo[abi:cxx11]((std::string *)&v54, BasicComp);
          StatLogUtils::ContextHolder::ContextHolder((StatLogUtils::ContextHolder *const)(v4 + 32), 0xCF4u, v46);
          std::string::~string(&v54);
          common::tools::perf::make_shared<proto_log::PlayerLogBodyHomeTransferToSafePoint>();
          v19 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 256));
          proto_log::PlayerLogBodyHomeTransferToSafePoint::set_module_id(v19, cur_module_id);
          v20 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 256));
          proto_log::PlayerLogBodyHomeTransferToSafePoint::set_target_scene_id(v20, scene_id);
          v21 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransferToSafePoint,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 256));
          proto_log::PlayerLogBodyHomeTransferToSafePoint::set_source(v21, 1u);
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          player = this->player_;
          std::shared_ptr<google::protobuf::Message>::shared_ptr(&v53, 0LL);
          std::shared_ptr<google::protobuf::Message>::shared_ptr<proto_log::PlayerLogBodyHomeTransferToSafePoint,void>(
            &p_body_ptr,
            (const std::shared_ptr<proto_log::PlayerLogBodyHomeTransferToSafePoint> *)(v4 + 256));
          Player::printStatLog(player, &p_body_ptr, &v53, 0xEu);
          std::shared_ptr<google::protobuf::Message>::~shared_ptr(&p_body_ptr);
          std::shared_ptr<google::protobuf::Message>::~shared_ptr(&v53);
          std::shared_ptr<proto_log::PlayerLogBodyHomeTransferToSafePoint>::~shared_ptr((std::shared_ptr<proto_log::PlayerLogBodyHomeTransferToSafePoint> *const)(v4 + 256));
          StatLogUtils::ContextHolder::~ContextHolder((StatLogUtils::ContextHolder *const)(v4 + 32));
          v10 = 1;
        }
      }
      else
      {
        common::milog::MiLogStream::create(
          &v54,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "onHomeTransferReq",
          2078);
        v13 = common::milog::MiLogStream::operator<<<char [41],(char *[41])0>(
                &v54,
                (const char (*)[41])"scene_script_config not found, scene_id:");
        v14 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 224));
        val = Scene::getSceneId(v14);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v13, &val);
        common::milog::MiLogStream::~MiLogStream(&v54);
        v3 = -1;
        v10 = 0;
      }
    }
    std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v4 + 224));
    if ( v10 == 1 )
LABEL_43:
      v3 = 0;
  }
  else
  {
    *(_DWORD *)(v4 + 64) = 0;
    *(_DWORD *)(v4 + 80) = 0;
    Vector3::Vector3((Vector3 *const)(v4 + 96), 0.0, 0.0, 0.0);
    Vector3::Vector3((Vector3 *const)(v4 + 128), 0.0, 0.0, 0.0);
    v23 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 192));
    SceneComp = Home::getSceneComp(v23);
    v25 = proto::HomeTransferReq::guid(req);
    *(_DWORD *)(v4 + 48) = HomeSceneComp::getTransferScenePoint(
                             SceneComp,
                             v25,
                             (uint32_t *)(v4 + 80),
                             (uint32_t *)(v4 + 64),
                             (Vector3 *)(v4 + 96),
                             (Vector3 *)(v4 + 128));
    if ( *(_DWORD *)(v4 + 48) )
    {
      common::milog::MiLogStream::create(
        &v54,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeTransferReq",
        2106);
      v26 = common::milog::MiLogStream::operator<<<char [37],(char *[37])0>(
              &v54,
              (const char (*)[37])"getTransferScenePoint failed, guid: ");
      val = proto::HomeTransferReq::guid(req);
      v27 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v26, &val);
      v28 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v27, (const char (*)[6])" ret:");
      common::milog::MiLogStream::operator<<<int,(int *)0>(v28, (const int *)(v4 + 48));
      common::milog::MiLogStream::~MiLogStream(&v54);
      v3 = *(_DWORD *)(v4 + 48);
      goto LABEL_44;
    }
    v29 = (unsigned int)std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeWorld,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 160));
    World::findScene((World *const)(v4 + 224), v29);
    if ( std::operator==<Scene>((const std::shared_ptr<Scene> *)(v4 + 224), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v54,
        &common::milog::MiLogDefault::default_log_obj_,
        4u,
        "./src/handler/player_home_handler.cpp",
        "onHomeTransferReq",
        2112);
      v30 = common::milog::MiLogStream::operator<<<char [38],(char *[38])0>(
              &v54,
              (const char (*)[38])"dest_scene_ptr is nullptr. scene_id: ");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v30, (const unsigned int *)(v4 + 80));
      common::milog::MiLogStream::~MiLogStream(&v54);
      v3 = -1;
      v31 = 0;
    }
    else
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      v32 = Player::getSceneComp(this->player_);
      TransferReason::TransferReason(&p_reason, ENTER_REASON_HOME_SCENE_JUMP);
      v33 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 224));
      *(_DWORD *)(v4 + 48) = PlayerSceneComp::jumpToScene(
                               v32,
                               v33,
                               (const Vector3 *)(v4 + 96),
                               (const Vector3 *)(v4 + 128),
                               0,
                               &p_reason);
      TransferReason::~TransferReason(&p_reason);
      if ( *(_DWORD *)(v4 + 48) )
      {
        common::milog::MiLogStream::create(
          &v54,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "onHomeTransferReq",
          2118);
        v34 = common::milog::MiLogStream::operator<<<char [47],(char *[47])0>(
                &v54,
                (const char (*)[47])"jumpToSceneBornPosition failed, dest_scene_id:");
        v35 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 224));
        val = Scene::getSceneId(v35);
        v36 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v34, &val);
        v37 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v36, (const char (*)[6])" ret:");
        common::milog::MiLogStream::operator<<<int,(int *)0>(v37, (const int *)(v4 + 48));
        common::milog::MiLogStream::~MiLogStream(&v54);
        v3 = *(_DWORD *)(v4 + 48);
        v31 = 0;
      }
      else
      {
        v38 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 192));
        cur_module_id_0 = Home::getCurModuleId(v38);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v39 = Player::getBasicComp(this->player_);
        PlayerBasicComp::getNextTransNo[abi:cxx11]((std::string *)&v54, v39);
        StatLogUtils::ContextHolder::ContextHolder((StatLogUtils::ContextHolder *const)(v4 + 32), 0xDA9u, v46);
        std::string::~string(&v54);
        common::tools::perf::make_shared<proto_log::PlayerLogBodyHomeTransfer>();
        v40 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 256));
        proto_log::PlayerLogBodyHomeTransfer::set_module_id(v40, cur_module_id_0);
        v41 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 256));
        proto_log::PlayerLogBodyHomeTransfer::set_target_scene_id(v41, *(_DWORD *)(v4 + 80));
        v42 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 256));
        proto_log::PlayerLogBodyHomeTransfer::set_target_block_id(v42, *(_DWORD *)(v4 + 64));
        v43 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeTransfer,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 256));
        proto_log::PlayerLogBodyHomeTransfer::set_source(v43, 1u);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v44 = this->player_;
        std::shared_ptr<google::protobuf::Message>::shared_ptr(&v53, 0LL);
        std::shared_ptr<google::protobuf::Message>::shared_ptr<proto_log::PlayerLogBodyHomeTransfer,void>(
          &p_body_ptr,
          (const std::shared_ptr<proto_log::PlayerLogBodyHomeTransfer> *)(v4 + 256));
        Player::printStatLog(v44, &p_body_ptr, &v53, 0xEu);
        std::shared_ptr<google::protobuf::Message>::~shared_ptr(&p_body_ptr);
        std::shared_ptr<google::protobuf::Message>::~shared_ptr(&v53);
        std::shared_ptr<proto_log::PlayerLogBodyHomeTransfer>::~shared_ptr((std::shared_ptr<proto_log::PlayerLogBodyHomeTransfer> *const)(v4 + 256));
        StatLogUtils::ContextHolder::~ContextHolder((StatLogUtils::ContextHolder *const)(v4 + 32));
        v31 = 1;
      }
    }
    std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v4 + 224));
    if ( v31 == 1 )
      goto LABEL_43;
  }
LABEL_44:
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v4 + 192));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v4 + 160));
  result = v3;
  if ( v46._M_dataplus._M_p == (std::string::pointer)v4 )
  {
    *(_QWORD *)((v4 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8010) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8018) = 0LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF8020) = 0;
  }
  else
  {
    *(_QWORD *)v4 = 1172321806LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF8020) = -168430091;
  }
  return result;
};

// Line 2136: range 0000000017CAB99C-0000000017CABC5B
int32_t __cdecl PlayerHomeHandler::onHomeGetFishFarmingInfoReq(
        PlayerHomeHandler *const this,
        const proto::HomeGetFishFarmingInfoReq *req,
        proto::HomeGetFishFarmingInfoRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  Home *v10; // rax
  HomeFishFarmingComp *FishFarmingComp; // r14
  google::protobuf::RepeatedPtrField<proto::HomeFishFarmingInfo> *v12; // rax
  int32_t result; // eax
  common::milog::MiLogStream v15; // [rsp+20h] [rbp-D0h] BYREF
  char v16[176]; // [rsp+40h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v16;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 8 ret:2139 64 16 19 home_world_ptr:2137 96 16 13 home_ptr:2138";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeGetFishFarmingInfoReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 64),
                           (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v15,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeGetFishFarmingInfoReq",
      2142);
    v8 = common::milog::MiLogStream::operator<<<char [56],(char *[56])0>(
           &v15,
           (const char (*)[56])"[HOME_FISH_FARMING] getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v15);
    v9 = 9714;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    FishFarmingComp = Home::getFishFarmingComp(v10);
    v12 = proto::HomeGetFishFarmingInfoRsp::mutable_fish_farming_info_list(rsp_0);
    HomeFishFarmingComp::fillCurFishFarmingData(FishFarmingComp, v12);
    v9 = 0;
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v16 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2150: range 0000000017CABC5C-0000000017CAD431
int32_t __cdecl PlayerHomeHandler::onHomeUpdateFishFarmingInfoReq(
        PlayerHomeHandler *const this,
        const proto::HomeUpdateFishFarmingInfoReq *req,
        proto::HomeUpdateFishFarmingInfoRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  common::milog::MiLogStream *v12; // r14
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v15; // rax
  Home *v16; // rax
  HomeFishFarmingComp *FishFarmingComp; // rax
  common::milog::MiLogStream *v18; // rax
  common::milog::MiLogStream *v19; // rax
  common::milog::MiLogStream *v20; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v21; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v22; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v23; // rax
  common::milog::MiLogStream *v24; // rax
  common::milog::MiLogStream *v25; // rax
  common::milog::MiLogStream *v26; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v27; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v28; // rax
  common::milog::MiLogStream *v29; // rax
  common::milog::MiLogStream *v30; // rax
  common::milog::MiLogStream *v31; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v32; // rax
  common::milog::MiLogStream *v33; // rax
  const google::protobuf::RepeatedField<unsigned int> *v34; // rax
  common::milog::MiLogStream *v35; // rax
  common::milog::MiLogStream *v36; // rax
  common::milog::MiLogStream *v37; // rax
  common::milog::MiLogStream *v38; // rax
  common::milog::MiLogStream *v39; // rax
  common::milog::MiLogStream *v40; // rax
  common::milog::MiLogStream *v41; // rax
  common::milog::MiLogStream *v42; // rax
  common::milog::MiLogStream *v43; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v44; // rax
  common::milog::MiLogStream *v45; // rax
  common::milog::MiLogStream *v46; // rax
  common::milog::MiLogStream *v47; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v48; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v49; // rax
  Home *v50; // rax
  HomeFishFarmingComp *v51; // rax
  HomeModuleFishFarmingData *CurModuleFishFarmingData; // rax
  uint32_t ItemCount; // ecx
  common::milog::MiLogStream *v54; // rax
  common::milog::MiLogStream *v55; // rax
  common::milog::MiLogStream *v56; // rax
  common::milog::MiLogStream *v57; // rax
  common::milog::MiLogStream *v58; // r14
  common::milog::MiLogStream *v59; // rax
  common::milog::MiLogStream *v60; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v61; // rax
  common::milog::MiLogStream *v62; // rax
  common::milog::MiLogStream *v63; // rax
  common::milog::MiLogStream *v64; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v65; // rax
  Home *v66; // rax
  HomeFishFarmingComp *v67; // r14
  Home *v68; // rax
  uint32_t CurModuleId; // esi
  Home *v70; // rax
  HomeSceneComp *SceneComp; // rax
  uint32_t HomeWorld; // eax
  std::__shared_ptr_access<SceneHomeComp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v73; // rax
  Home *v74; // rax
  common::milog::MiLogStream *v75; // rax
  common::milog::MiLogStream *v76; // rax
  common::milog::MiLogStream *v77; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v78; // rax
  HomeFishFarmingComp *v79; // rcx
  int32_t result; // eax
  unsigned int val; // [rsp+2Ch] [rbp-2F4h] BYREF
  proto_log::FishpondType fishpond_type; // [rsp+30h] [rbp-2F0h]
  data::SpeicalFurnitureType furniture_speical_type; // [rsp+34h] [rbp-2ECh]
  std::unordered_map<unsigned int,HomeFishFarmingData>::const_iterator __for_begin_0; // [rsp+38h] [rbp-2E8h] BYREF
  std::unordered_map<unsigned int,HomeFishFarmingData>::const_iterator __for_end_0; // [rsp+40h] [rbp-2E0h] BYREF
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_begin; // [rsp+48h] [rbp-2D8h]
  const proto::HomeFishFarmingInfo *fish_farming_info; // [rsp+50h] [rbp-2D0h]
  HomeFishFarmingData *fish_farming_data_ptr; // [rsp+58h] [rbp-2C8h]
  const data::ConfigHomeFishtank *fishtank_json_config_ptr; // [rsp+60h] [rbp-2C0h]
  const data::ConfigHomeFishpond *fishpond_json_config_ptr; // [rsp+68h] [rbp-2B8h]
  const HomeWorldExcelConfigMgr *home_config_mgr; // [rsp+70h] [rbp-2B0h]
  const google::protobuf::RepeatedField<unsigned int> *__for_range; // [rsp+78h] [rbp-2A8h]
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_end; // [rsp+80h] [rbp-2A0h]
  const std::unordered_map<unsigned int,HomeFishFarmingData> *__for_range_0; // [rsp+88h] [rbp-298h]
  const std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > > *__for_range_1; // [rsp+90h] [rbp-290h]
  PlayerItemComp *player_item_comp; // [rsp+98h] [rbp-288h]
  std::map<unsigned int,unsigned int> *__for_range_2; // [rsp+A0h] [rbp-280h]
  const std::pair<unsigned int const,unsigned int> *v98; // [rsp+A8h] [rbp-278h]
  std::tuple_element<0,const std::pair<unsigned int const,unsigned int> >::type *fish_id; // [rsp+B0h] [rbp-270h]
  std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *count; // [rsp+B8h] [rbp-268h]
  const std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> *v101; // [rsp+C0h] [rbp-260h]
  std::tuple_element<0,const std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> >::type *key_pair; // [rsp+C8h] [rbp-258h]
  std::tuple_element<1,const std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> >::type *fish_farming_data_0; // [rsp+D0h] [rbp-250h]
  const std::pair<unsigned int const,HomeFishFarmingData> *v104; // [rsp+D8h] [rbp-248h]
  std::tuple_element<0,const std::pair<unsigned int const,HomeFishFarmingData> >::type *guid; // [rsp+E0h] [rbp-240h]
  std::tuple_element<1,const std::pair<unsigned int const,HomeFishFarmingData> >::type *fish_farming_data; // [rsp+E8h] [rbp-238h]
  common::milog::MiLogStream v107; // [rsp+F0h] [rbp-230h] BYREF
  char v108[528]; // [rsp+110h] [rbp-210h] BYREF

  v3 = (unsigned __int64)v108;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_3(480LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "12 32 4 8 ret:2153 48 4 18 fishpond_guid:2167 64 4 19 max_fish_count:2179 80 4 22 fish_furniture"
                        "_id:2180 96 4 15 fish_count:2211 112 4 13 scene_id:2272 128 16 19 home_world_ptr:2151 160 16 13 "
                        "home_ptr:2152 192 16 14 scene_ptr:2273 224 16 24 scene_home_comp_ptr:2276 256 48 26 tmp_fish_id_"
                        "count_map:2221 336 112 29 module_fish_farming_data:2233";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeUpdateFishFarmingInfoReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556924;
  v5[536862722] = -234556924;
  v5[536862723] = -234556924;
  v5[536862724] = -219021312;
  v5[536862725] = -219021312;
  v5[536862726] = -219021312;
  v5[536862727] = -219021312;
  v5[536862729] = -219021312;
  v5[536862730] = 62194;
  v5[536862734] = -202116109;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 128), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 160), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 32) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 128),
                           (HomePtr *)(v3 + 160));
  if ( *(_DWORD *)(v3 + 32)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 128), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 160), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v107,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeUpdateFishFarmingInfoReq",
      2156);
    v8 = common::milog::MiLogStream::operator<<<char [56],(char *[56])0>(
           &v107,
           (const char (*)[56])"[HOME_FISH_FARMING] getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 32));
    common::milog::MiLogStream::~MiLogStream(&v107);
    v9 = 9714;
    goto LABEL_87;
  }
  v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
  HomeUid = Home::getHomeUid(v10);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  if ( HomeUid == Player::getUid(this->player_) )
  {
    fish_farming_info = proto::HomeUpdateFishFarmingInfoReq::fish_farming_info(req);
    *(_DWORD *)(v3 + 48) = proto::HomeFishFarmingInfo::fishpond_guid(fish_farming_info);
    v16 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
    FishFarmingComp = Home::getFishFarmingComp(v16);
    fish_farming_data_ptr = HomeFishFarmingComp::getFishFarmingData(FishFarmingComp, *(_DWORD *)(v3 + 48));
    if ( !fish_farming_data_ptr )
    {
      common::milog::MiLogStream::create(
        &v107,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeUpdateFishFarmingInfoReq",
        2173);
      v18 = common::milog::MiLogStream::operator<<<char [64],(char *[64])0>(
              &v107,
              (const char (*)[64])"[HOME_FISH_FARMING] not found fish farming data, fishpond guid:");
      v19 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v18, (const unsigned int *)(v3 + 48));
      v20 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v19, (const char (*)[11])" home_uid:");
      v21 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
      val = Home::getHomeUid(v21);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v20, &val);
      common::milog::MiLogStream::~MiLogStream(&v107);
      v9 = 9775;
      goto LABEL_87;
    }
    *(_DWORD *)(v3 + 64) = 0;
    if ( *(_BYTE *)(((unsigned __int64)&fish_farming_data_ptr->furniture_id >> 3) + 0x7FFF8000) != 0
      && (char)((((_BYTE)fish_farming_data_ptr + 52) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&fish_farming_data_ptr->furniture_id >> 3)
                                                                           + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    *(_DWORD *)(v3 + 80) = fish_farming_data_ptr->furniture_id;
    ServiceBox::findService<GameserverService>();
    GameserverService::getConfig((GameserverService *const)(v3 + 224));
    v22 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 224));
    furniture_speical_type = HomeWorldExcelConfigMgr::getFurnitureSpeicalType(
                               &v22->design_config.txt_config_mgr.home_config_mgr,
                               *(_DWORD *)(v3 + 80));
    std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v3 + 224));
    fishpond_type = FISHPOND_TYPE_NONE;
    if ( furniture_speical_type == Fishpond )
    {
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)(v3 + 224));
      v23 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 224));
      fishpond_json_config_ptr = JsonConfigMgr::findHomeFishpondConfig(
                                   &v23->design_config.json_config_mgr,
                                   *(_DWORD *)(v3 + 80));
      std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v3 + 224));
      if ( !fishpond_json_config_ptr )
      {
        common::milog::MiLogStream::create(
          &v107,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "onHomeUpdateFishFarmingInfoReq",
          2188);
        v24 = common::milog::MiLogStream::operator<<<char [72],(char *[72])0>(
                &v107,
                (const char (*)[72])"[HOME_FISH_FARMING] find home fishpond json config error. furniture id:");
        v25 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v24,
                (const unsigned int *)(v3 + 80));
        v26 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(v25, (const char (*)[10])"home_uid:");
        v27 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        val = Home::getHomeUid(v27);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v26, &val);
        common::milog::MiLogStream::~MiLogStream(&v107);
        v9 = -1;
        goto LABEL_87;
      }
      if ( *(_BYTE *)(((unsigned __int64)fishpond_json_config_ptr >> 3) + 0x7FFF8000) != 0
        && *(_BYTE *)(((unsigned __int64)fishpond_json_config_ptr >> 3) + 0x7FFF8000) <= 3 )
      {
        __asan_report_load4();
      }
      *(_DWORD *)(v3 + 64) = fishpond_json_config_ptr->max_fish_count;
      fishpond_type = FISHPOND_TYPE_HOME_WORLD;
    }
    else
    {
      if ( furniture_speical_type != Fishtank )
      {
        common::milog::MiLogStream::create(
          &v107,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeUpdateFishFarmingInfoReq",
          2207);
        v33 = common::milog::MiLogStream::operator<<<char [52],(char *[52])0>(
                &v107,
                (const char (*)[52])"[HOME_FISH_FARMING] furniture type not match, type:");
        val = furniture_speical_type;
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v33, &val);
        common::milog::MiLogStream::~MiLogStream(&v107);
        v9 = -1;
        goto LABEL_87;
      }
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)(v3 + 224));
      v28 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 224));
      fishtank_json_config_ptr = JsonConfigMgr::findHomeFishtankConfig(
                                   &v28->design_config.json_config_mgr,
                                   *(_DWORD *)(v3 + 80));
      std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v3 + 224));
      if ( !fishtank_json_config_ptr )
      {
        common::milog::MiLogStream::create(
          &v107,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "onHomeUpdateFishFarmingInfoReq",
          2199);
        v29 = common::milog::MiLogStream::operator<<<char [72],(char *[72])0>(
                &v107,
                (const char (*)[72])"[HOME_FISH_FARMING] find home fishtank json config error. furniture id:");
        v30 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v29,
                (const unsigned int *)(v3 + 80));
        v31 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(v30, (const char (*)[10])"home_uid:");
        v32 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        val = Home::getHomeUid(v32);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v31, &val);
        common::milog::MiLogStream::~MiLogStream(&v107);
        v9 = -1;
        goto LABEL_87;
      }
      if ( *(_BYTE *)(((unsigned __int64)fishtank_json_config_ptr >> 3) + 0x7FFF8000) != 0
        && *(_BYTE *)(((unsigned __int64)fishtank_json_config_ptr >> 3) + 0x7FFF8000) <= 3 )
      {
        __asan_report_load4();
      }
      *(_DWORD *)(v3 + 64) = fishtank_json_config_ptr->max_fish_count;
      fishpond_type = FISHPOND_TYPE_HOME_ROOM;
    }
    v34 = proto::HomeFishFarmingInfo::fish_id_list(fish_farming_info);
    *(_DWORD *)(v3 + 96) = google::protobuf::RepeatedField<unsigned int>::size(v34);
    if ( *(_DWORD *)(v3 + 96) <= *(_DWORD *)(v3 + 64) )
    {
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)(v3 + 224));
      home_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 224))->design_config.txt_config_mgr.home_config_mgr;
      std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v3 + 224));
      std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v3 + 256));
      __for_range = proto::HomeFishFarmingInfo::fish_id_list(fish_farming_info);
      __for_begin = google::protobuf::RepeatedField<unsigned int>::begin(__for_range);
      __for_end = google::protobuf::RepeatedField<unsigned int>::end(__for_range);
      while ( __for_begin != __for_end )
      {
        if ( *(_BYTE *)(((unsigned __int64)__for_begin >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)__for_begin & 7) + 3) >= *(_BYTE *)(((unsigned __int64)__for_begin >> 3)
                                                                        + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        *(_DWORD *)(v3 + 112) = *__for_begin;
        if ( HomeWorldExcelConfigMgr::getFurnitureSpeicalType(home_config_mgr, *(_DWORD *)(v3 + 112)) != Fish )
        {
          common::milog::MiLogStream::create(
            &v107,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeUpdateFishFarmingInfoReq",
            2227);
          v45 = common::milog::MiLogStream::operator<<<char [29],(char *[29])0>(
                  &v107,
                  (const char (*)[29])"[HOME_FISH_FARMING] fish id:");
          v46 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v45,
                  (const unsigned int *)(v3 + 112));
          v47 = common::milog::MiLogStream::operator<<<char [34],(char *[34])0>(v46, (const char (*)[34])off_26388AA0);
          v48 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
          val = Home::getHomeUid(v48);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v47, &val);
          common::milog::MiLogStream::~MiLogStream(&v107);
          v9 = 9702;
          goto LABEL_86;
        }
        v49 = std::map<unsigned int,unsigned int>::operator[](
                (std::map<unsigned int,unsigned int> *const)(v3 + 256),
                (const std::map<unsigned int,unsigned int>::key_type *)(v3 + 112));
        if ( *(_BYTE *)(((unsigned __int64)v49 >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)v49 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v49 >> 3) + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        ++*v49;
        ++__for_begin;
      }
      v50 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
      v51 = Home::getFishFarmingComp(v50);
      CurModuleFishFarmingData = HomeFishFarmingComp::getCurModuleFishFarmingData(v51);
      HomeModuleFishFarmingData::HomeModuleFishFarmingData(
        (HomeModuleFishFarmingData *const)(v3 + 336),
        CurModuleFishFarmingData);
      __for_range_0 = (const std::unordered_map<unsigned int,HomeFishFarmingData> *)(v3 + 336);
      __for_begin_0._M_cur = std::unordered_map<unsigned int,HomeFishFarmingData>::begin((const std::unordered_map<unsigned int,HomeFishFarmingData> *const)(v3 + 336))._M_cur;
      __for_end_0._M_cur = std::unordered_map<unsigned int,HomeFishFarmingData>::end((const std::unordered_map<unsigned int,HomeFishFarmingData> *const)(v3 + 336))._M_cur;
      while ( std::__detail::operator!=<std::pair<unsigned int const,HomeFishFarmingData>,false>(
                &__for_begin_0,
                &__for_end_0) )
      {
        v104 = std::__detail::_Node_const_iterator<std::pair<unsigned int const,HomeFishFarmingData>,false,false>::operator*(&__for_begin_0);
        guid = std::get<0ul,unsigned int const,HomeFishFarmingData>(v104);
        fish_farming_data = (std::tuple_element<1,const std::pair<unsigned int const,HomeFishFarmingData> >::type *)std::get<1ul,unsigned int const,HomeFishFarmingData>(v104);
        if ( *(_BYTE *)(((unsigned __int64)guid >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)guid & 7) + 3) >= *(_BYTE *)(((unsigned __int64)guid >> 3) + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        if ( *guid != *(_DWORD *)(v3 + 48) )
          HomeFishDataBase::fillFishIdCountMap(fish_farming_data, (std::map<unsigned int,unsigned int> *)(v3 + 256));
        std::__detail::_Node_const_iterator<std::pair<unsigned int const,HomeFishFarmingData>,false,false>::operator++(&__for_begin_0);
      }
      __for_range_1 = (const std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > > *)(v3 + 392);
      __for_begin_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<unsigned int const,HomeFishFarmingData>,false>::__node_type *)std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int>>,std::equal_to<std::pair<unsigned int,unsigned int>>,std::allocator<std::pair<std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>>>::begin((const std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > > *const)(v3 + 392))._M_cur;
      __for_end_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<unsigned int const,HomeFishFarmingData>,false>::__node_type *)std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int>>,std::equal_to<std::pair<unsigned int,unsigned int>>,std::allocator<std::pair<std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>>>::end(__for_range_1)._M_cur;
      while ( std::__detail::operator!=<std::pair<std::pair const<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true>(
                (const std::__detail::_Node_iterator_base<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true> *)&__for_begin_0,
                (const std::__detail::_Node_iterator_base<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true> *)&__for_end_0) )
      {
        v101 = std::__detail::_Node_const_iterator<std::pair<std::pair const<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,false,true>::operator*((const std::__detail::_Node_const_iterator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,false,true> *const)&__for_begin_0);
        key_pair = std::get<0ul,std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>(v101);
        fish_farming_data_0 = (std::tuple_element<1,const std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> >::type *)std::get<1ul,std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>(v101);
        HomeFishDataBase::fillFishIdCountMap(fish_farming_data_0, (std::map<unsigned int,unsigned int> *)(v3 + 256));
        std::__detail::_Node_const_iterator<std::pair<std::pair const<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,false,true>::operator++((std::__detail::_Node_const_iterator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,false,true> *const)&__for_begin_0);
      }
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      player_item_comp = Player::getItemComp(this->player_);
      __for_range_2 = (std::map<unsigned int,unsigned int> *)(v3 + 256);
      __for_begin_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<unsigned int const,HomeFishFarmingData>,false>::__node_type *)std::map<unsigned int,unsigned int>::begin((std::map<unsigned int,unsigned int> *const)(v3 + 256))._M_node;
      __for_end_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<unsigned int const,HomeFishFarmingData>,false>::__node_type *)std::map<unsigned int,unsigned int>::end(__for_range_2)._M_node;
      while ( std::operator!=(
                (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_begin_0,
                (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_end_0) )
      {
        v98 = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_0);
        fish_id = std::get<0ul,unsigned int const,unsigned int>(v98);
        count = (std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *)std::get<1ul,unsigned int const,unsigned int>(v98);
        if ( *(_BYTE *)(((unsigned __int64)fish_id >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)fish_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)fish_id >> 3) + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        ItemCount = PlayerItemComp::getItemCount(player_item_comp, *fish_id);
        if ( *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        if ( ItemCount < *count )
        {
          common::milog::MiLogStream::create(
            &v107,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeUpdateFishFarmingInfoReq",
            2254);
          v54 = common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
                  &v107,
                  (const char (*)[46])"[HOME_FISH_FARMING] fish not enough. fish id:");
          v55 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v54, fish_id);
          v56 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v55, (const char (*)[12])" req count:");
          v57 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v56, count);
          v58 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v57, (const char (*)[12])" has count:");
          if ( *(_BYTE *)(((unsigned __int64)fish_id >> 3) + 0x7FFF8000) != 0
            && (char)(((unsigned __int8)fish_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)fish_id >> 3) + 0x7FFF8000) )
          {
            __asan_report_load4();
          }
          *(_DWORD *)(v3 + 112) = PlayerItemComp::getItemCount(player_item_comp, *fish_id);
          v59 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v58,
                  (const unsigned int *)(v3 + 112));
          v60 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v59, (const char (*)[11])" home uid:");
          v61 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
          val = Home::getHomeUid(v61);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v60, &val);
          common::milog::MiLogStream::~MiLogStream(&v107);
          v9 = 9778;
          goto LABEL_85;
        }
        std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_0);
      }
      if ( HomeFishFarmingData::fromClient(fish_farming_data_ptr, fish_farming_info) )
      {
        common::milog::MiLogStream::create(
          &v107,
          &common::milog::MiLogDefault::default_log_obj_,
          4u,
          "./src/handler/player_home_handler.cpp",
          "onHomeUpdateFishFarmingInfoReq",
          2263);
        v62 = common::milog::MiLogStream::operator<<<char [72],(char *[72])0>(
                &v107,
                (const char (*)[72])"[HOME_FISH_FARMING] fish_farming_data fromClient failed. fishpond guid:");
        v63 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v62,
                (const unsigned int *)(v3 + 48));
        v64 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(v63, (const char (*)[10])"home_uid:");
        v65 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        val = Home::getHomeUid(v65);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v64, &val);
        common::milog::MiLogStream::~MiLogStream(&v107);
        v9 = 9701;
      }
      else
      {
        v66 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        v67 = Home::getFishFarmingComp(v66);
        v68 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        CurModuleId = Home::getCurModuleId(v68);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        HomeFishFarmingComp::logFishFarmingChange(
          v67,
          this->player_,
          CurModuleId,
          (const HomeModuleFishFarmingData *)(v3 + 336),
          FISH_FARMING_CHANGE_NORMAL,
          fishpond_type);
        if ( *(_BYTE *)(((unsigned __int64)&fish_farming_data_ptr->scene_id >> 3) + 0x7FFF8000) != 0
          && *(_BYTE *)(((unsigned __int64)&fish_farming_data_ptr->scene_id >> 3) + 0x7FFF8000) <= 3 )
        {
          __asan_report_load4();
        }
        *(_DWORD *)(v3 + 112) = fish_farming_data_ptr->scene_id;
        v70 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        SceneComp = Home::getSceneComp(v70);
        HomeWorld = (unsigned int)HomeSceneComp::getHomeWorld(SceneComp);
        World::findScene((World *const)(v3 + 192), HomeWorld);
        if ( std::operator!=<Scene>((const std::shared_ptr<Scene> *)(v3 + 192), 0LL) )
        {
          std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 192));
          EcsBase<Scene,SceneCompBase,12u>::findComp<SceneHomeComp>((const EcsBase<Scene,SceneCompBase,12> *const)(v3 + 224));
          if ( std::operator!=<SceneHomeComp>((const std::shared_ptr<SceneHomeComp> *)(v3 + 224), 0LL) )
          {
            v73 = std::__shared_ptr_access<SceneHomeComp,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<SceneHomeComp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 224));
            SceneHomeComp::refreshHomeFishMonster(v73, *(_DWORD *)(v3 + 48));
          }
          std::shared_ptr<SceneHomeComp>::~shared_ptr((std::shared_ptr<SceneHomeComp> *const)(v3 + 224));
          v74 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
          v79 = Home::getFishFarmingComp(v74);
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          HomeFishFarmingComp::notifyCurFishFarmingData(v79, this->player_);
          v9 = 0;
        }
        else
        {
          common::milog::MiLogStream::create(
            &v107,
            &common::milog::MiLogDefault::default_log_obj_,
            4u,
            "./src/handler/player_home_handler.cpp",
            "onHomeUpdateFishFarmingInfoReq",
            2284);
          v75 = common::milog::MiLogStream::operator<<<char [49],(char *[49])0>(
                  &v107,
                  (const char (*)[49])"[HOME_FISH_FARMING] find scene failed. scene id:");
          v76 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v75,
                  (const unsigned int *)(v3 + 112));
          v77 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(v76, (const char (*)[10])"home_uid:");
          v78 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
          val = Home::getHomeUid(v78);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v77, &val);
          common::milog::MiLogStream::~MiLogStream(&v107);
          v9 = 9701;
        }
        std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v3 + 192));
      }
LABEL_85:
      HomeModuleFishFarmingData::~HomeModuleFishFarmingData((HomeModuleFishFarmingData *const)(v3 + 336));
LABEL_86:
      std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v3 + 256));
    }
    else
    {
      common::milog::MiLogStream::create(
        &v107,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeUpdateFishFarmingInfoReq",
        2214);
      v35 = common::milog::MiLogStream::operator<<<char [67],(char *[67])0>(
              &v107,
              (const char (*)[67])"[HOME_FISH_FARMING] farming fish count reach limit, fishpond guid:");
      v36 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v35, (const unsigned int *)(v3 + 48));
      v37 = common::milog::MiLogStream::operator<<<char [15],(char *[15])0>(v36, (const char (*)[15])" furniture id:");
      v38 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v37, (const unsigned int *)(v3 + 80));
      v39 = common::milog::MiLogStream::operator<<<char [13],(char *[13])0>(v38, (const char (*)[13])" fish count:");
      v40 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v39, (const unsigned int *)(v3 + 96));
      v41 = common::milog::MiLogStream::operator<<<char [17],(char *[17])0>(v40, (const char (*)[17])" max fish count:");
      v42 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v41, (const unsigned int *)(v3 + 64));
      v43 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v42, (const char (*)[11])" home uid:");
      v44 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
      val = Home::getHomeUid(v44);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v43, &val);
      common::milog::MiLogStream::~MiLogStream(&v107);
      v9 = 9777;
    }
  }
  else
  {
    common::milog::MiLogStream::create(
      &v107,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeUpdateFishFarmingInfoReq",
      2162);
    v12 = common::milog::MiLogStream::operator<<<char [32],(char *[32])0>(
            &v107,
            (const char (*)[32])"[HOME_FISH_FARMING] player uid:");
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    *(_DWORD *)(v3 + 112) = Player::getUid(this->player_);
    v13 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v12, (const unsigned int *)(v3 + 112));
    v14 = common::milog::MiLogStream::operator<<<char [29],(char *[29])0>(
            v13,
            (const char (*)[29])" not in self home, home_uid:");
    v15 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
    val = Home::getHomeUid(v15);
    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, &val);
    common::milog::MiLogStream::~MiLogStream(&v107);
    v9 = 9714;
  }
LABEL_87:
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 160));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 128));
  result = v9;
  if ( v108 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8024) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8038) = 0;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8020) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8028) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8030) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8038) = -168430091;
  }
  return result;
};

// Line 2293: range 0000000017CAD432-0000000017CAEAA1
int32_t __cdecl PlayerHomeHandler::onHomeUpdateScenePointFishFarmingInfoReq(
        PlayerHomeHandler *const this,
        const proto::HomeUpdateScenePointFishFarmingInfoReq *req,
        proto::HomeUpdateScenePointFishFarmingInfoRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  common::milog::MiLogStream *v12; // r14
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v15; // rax
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v16; // rax
  uint32_t SceneId; // r14d
  common::milog::MiLogStream *v18; // r14
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v19; // rax
  common::milog::MiLogStream *v20; // rax
  common::milog::MiLogStream *v21; // r14
  uint32_t v22; // r14d
  uint32_t v23; // eax
  common::milog::MiLogStream *v24; // r14
  common::milog::MiLogStream *v25; // rax
  common::milog::MiLogStream *v26; // r14
  unsigned int v27; // r14d
  std::__shared_ptr_access<data::ConfigFishpondScenePoint,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v28; // rdx
  common::milog::MiLogStream *v29; // r14
  common::milog::MiLogStream *v30; // rax
  common::milog::MiLogStream *v31; // rax
  common::milog::MiLogStream *v32; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v33; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v34; // rax
  Home *v35; // rax
  HomeFishFarmingComp *FishFarmingComp; // rax
  HomeModuleFishFarmingData *CurModuleFishFarmingData; // rax
  unsigned int first; // r14d
  unsigned int second; // r14d
  char v40; // al
  uint32_t ItemCount; // ecx
  common::milog::MiLogStream *v42; // rax
  common::milog::MiLogStream *v43; // rax
  common::milog::MiLogStream *v44; // rax
  common::milog::MiLogStream *v45; // rax
  common::milog::MiLogStream *v46; // r14
  common::milog::MiLogStream *v47; // rax
  common::milog::MiLogStream *v48; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v49; // rax
  Home *v50; // rax
  HomeFishFarmingComp *v51; // rax
  Home *v52; // rax
  HomeSceneComp *SceneComp; // rax
  uint32_t HomeWorld; // eax
  common::milog::MiLogStream *v55; // rax
  common::milog::MiLogStream *v56; // rax
  common::milog::MiLogStream *v57; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v58; // rax
  common::milog::MiLogStream *v59; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v60; // rax
  HomeScenePointFishFarmingData *v61; // r14
  HomeScenePointFishFarmingData *v62; // rax
  Home *v63; // rax
  HomeFishFarmingComp *v64; // r14
  Home *v65; // rax
  uint32_t CurModuleId; // esi
  std::__shared_ptr_access<SceneHomeComp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v67; // r14
  uint32_t v68; // r15d
  uint32_t v69; // eax
  Home *v70; // rax
  HomeFishFarmingComp *v71; // rcx
  int32_t result; // eax
  unsigned int val; // [rsp+24h] [rbp-36Ch] BYREF
  std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > >::const_iterator __for_begin_0; // [rsp+28h] [rbp-368h] BYREF
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_begin; // [rsp+30h] [rbp-360h]
  const proto::HomeScenePointFishFarmingInfo *fish_farming_info; // [rsp+38h] [rbp-358h]
  const HomeWorldExcelConfigMgr *home_config_mgr; // [rsp+40h] [rbp-350h]
  const google::protobuf::RepeatedField<unsigned int> *__for_range; // [rsp+48h] [rbp-348h]
  google::protobuf::RepeatedField<unsigned int>::const_iterator __for_end; // [rsp+50h] [rbp-340h]
  const std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > > *__for_range_0; // [rsp+58h] [rbp-338h]
  const std::unordered_map<unsigned int,HomeFishFarmingData> *__for_range_1; // [rsp+60h] [rbp-330h]
  PlayerItemComp *player_item_comp; // [rsp+68h] [rbp-328h]
  std::map<unsigned int,unsigned int> *__for_range_2; // [rsp+70h] [rbp-320h]
  std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > > *data_map; // [rsp+78h] [rbp-318h]
  const std::pair<unsigned int const,unsigned int> *v85; // [rsp+80h] [rbp-310h]
  std::tuple_element<0,const std::pair<unsigned int const,unsigned int> >::type *fish_id; // [rsp+88h] [rbp-308h]
  std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *count; // [rsp+90h] [rbp-300h]
  const std::pair<unsigned int const,HomeFishFarmingData> *v88; // [rsp+98h] [rbp-2F8h]
  std::tuple_element<0,const std::pair<unsigned int const,HomeFishFarmingData> >::type *guid; // [rsp+A0h] [rbp-2F0h]
  std::tuple_element<1,const std::pair<unsigned int const,HomeFishFarmingData> >::type *fish_farming_data_0; // [rsp+A8h] [rbp-2E8h]
  const std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> *v91; // [rsp+B0h] [rbp-2E0h]
  std::tuple_element<0,const std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> >::type *key_pair; // [rsp+B8h] [rbp-2D8h]
  std::tuple_element<1,const std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> >::type *fish_farming_data; // [rsp+C0h] [rbp-2D0h]
  std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > >::const_iterator __for_end_0; // [rsp+C8h] [rbp-2C8h] BYREF
  std::shared_ptr<Config> v95; // [rsp+D0h] [rbp-2C0h] BYREF
  common::milog::MiLogStream v96; // [rsp+E0h] [rbp-2B0h] BYREF
  char v97[656]; // [rsp+100h] [rbp-290h] BYREF

  v3 = (unsigned __int64)v97;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_4(608LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "12 48 4 8 ret:2296 64 4 13 scene_id:2379 80 4 12 fish_id:2339 96 16 19 home_world_ptr:2294 128 1"
                        "6 13 home_ptr:2295 160 16 18 cur_scene_ptr:2310 192 16 23 fishpond_point_ptr:2321 224 16 14 scen"
                        "e_ptr:2380 256 16 24 scene_home_comp_ptr:2402 288 48 26 tmp_fish_id_count_map:2338 368 56 22 fis"
                        "h_farming_data:2386 464 112 29 module_fish_farming_data:2351";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeUpdateScenePointFishFarmingInfoReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -234556924;
  v5[536862723] = -219021312;
  v5[536862724] = -219021312;
  v5[536862725] = -219021312;
  v5[536862726] = -219021312;
  v5[536862727] = -219021312;
  v5[536862728] = -219021312;
  v5[536862730] = -219021312;
  v5[536862731] = 62194;
  v5[536862733] = -218959360;
  v5[536862734] = 62194;
  v5[536862738] = -202116109;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 128), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 96),
                           (HomePtr *)(v3 + 128));
  if ( *(_DWORD *)(v3 + 48)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 96), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 128), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v96,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeUpdateScenePointFishFarmingInfoReq",
      2299);
    v8 = common::milog::MiLogStream::operator<<<char [55],(char *[55])0>(
           &v96,
           (const char (*)[55])"[HOME_SUMERU_FISH] getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 48));
    common::milog::MiLogStream::~MiLogStream(&v96);
    v9 = 9714;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
    HomeUid = Home::getHomeUid(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      fish_farming_info = proto::HomeUpdateScenePointFishFarmingInfoReq::fish_farming_info(req);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Player::getSceneComp(this->player_);
      PlayerSceneComp::getCurScene((const PlayerSceneComp *const)(v3 + 160));
      if ( std::operator==<Scene>((const std::shared_ptr<Scene> *)(v3 + 160), 0LL) )
      {
        v9 = 555;
      }
      else
      {
        v16 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
        SceneId = Scene::getSceneId(v16);
        if ( SceneId == proto::HomeScenePointFishFarmingInfo::scene_id(fish_farming_info) )
        {
          ServiceBox::findService<GameserverService>();
          GameserverService::getConfig((GameserverService *const)(v3 + 256));
          v22 = (unsigned int)std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 256))
              + 93080;
          proto::HomeScenePointFishFarmingInfo::local_entity_id(fish_farming_info);
          v23 = proto::HomeScenePointFishFarmingInfo::scene_id(fish_farming_info);
          JsonConfigMgr::findLocalEntity<data::ConfigFishpondScenePoint>(
            (const JsonConfigMgr *const)(v3 + 192),
            v22,
            v23);
          std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v3 + 256));
          if ( std::operator==<data::ConfigFishpondScenePoint>(
                 (const std::shared_ptr<data::ConfigFishpondScenePoint> *)(v3 + 192),
                 0LL) )
          {
            common::milog::MiLogStream::create(
              &v96,
              &common::milog::MiLogDefault::default_log_obj_,
              3u,
              "./src/handler/player_home_handler.cpp",
              "onHomeUpdateScenePointFishFarmingInfoReq",
              2324);
            v24 = common::milog::MiLogStream::operator<<<char [51],(char *[51])0>(
                    &v96,
                    (const char (*)[51])"[HOME_SUMERU_FISH] findScenePoint fails, scene_id:");
            *(_DWORD *)(v3 + 80) = proto::HomeScenePointFishFarmingInfo::scene_id(fish_farming_info);
            v25 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                    v24,
                    (const unsigned int *)(v3 + 80));
            v26 = common::milog::MiLogStream::operator<<<char [19],(char *[19])0>(
                    v25,
                    (const char (*)[19])", local_entity_id:");
            val = proto::HomeScenePointFishFarmingInfo::local_entity_id(fish_farming_info);
            common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v26, &val);
            common::milog::MiLogStream::~MiLogStream(&v96);
            v9 = -1;
          }
          else
          {
            v27 = proto::HomeScenePointFishFarmingInfo::fish_id_list_size(fish_farming_info);
            v28 = std::__shared_ptr_access<data::ConfigFishpondScenePoint,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<data::ConfigFishpondScenePoint,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 192));
            if ( *(_BYTE *)(((unsigned __int64)&v28->max_fish_count >> 3) + 0x7FFF8000) != 0
              && (char)((((_BYTE)v28 - 108) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v28->max_fish_count >> 3)
                                                                  + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            if ( v27 <= v28->max_fish_count )
            {
              ServiceBox::findService<GameserverService>();
              GameserverService::getConfig((GameserverService *const)&v95);
              home_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v95)->design_config.txt_config_mgr.home_config_mgr;
              std::shared_ptr<Config>::~shared_ptr(&v95);
              std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v3 + 288));
              __for_range = proto::HomeScenePointFishFarmingInfo::fish_id_list(fish_farming_info);
              __for_begin = google::protobuf::RepeatedField<unsigned int>::begin(__for_range);
              __for_end = google::protobuf::RepeatedField<unsigned int>::end(__for_range);
              while ( __for_begin != __for_end )
              {
                if ( *(_BYTE *)(((unsigned __int64)__for_begin >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)__for_begin & 7) + 3) >= *(_BYTE *)(((unsigned __int64)__for_begin >> 3)
                                                                                + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                *(_DWORD *)(v3 + 80) = *__for_begin;
                if ( HomeWorldExcelConfigMgr::getFurnitureSpeicalType(home_config_mgr, *(_DWORD *)(v3 + 80)) != Fish )
                {
                  common::milog::MiLogStream::create(
                    &v96,
                    &common::milog::MiLogDefault::default_log_obj_,
                    1u,
                    "./src/handler/player_home_handler.cpp",
                    "onHomeUpdateScenePointFishFarmingInfoReq",
                    2344);
                  v30 = common::milog::MiLogStream::operator<<<char [28],(char *[28])0>(
                          &v96,
                          (const char (*)[28])"[HOME_SUMERU_FISH] fish id:");
                  v31 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                          v30,
                          (const unsigned int *)(v3 + 80));
                  v32 = common::milog::MiLogStream::operator<<<char [34],(char *[34])0>(
                          v31,
                          (const char (*)[34])off_26388AA0);
                  v33 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                  val = Home::getHomeUid(v33);
                  common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v32, &val);
                  common::milog::MiLogStream::~MiLogStream(&v96);
                  v9 = 9702;
                  goto LABEL_83;
                }
                v34 = std::map<unsigned int,unsigned int>::operator[](
                        (std::map<unsigned int,unsigned int> *const)(v3 + 288),
                        (const std::map<unsigned int,unsigned int>::key_type *)(v3 + 80));
                if ( *(_BYTE *)(((unsigned __int64)v34 >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)v34 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v34 >> 3) + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                ++*v34;
                ++__for_begin;
              }
              v35 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
              FishFarmingComp = Home::getFishFarmingComp(v35);
              CurModuleFishFarmingData = HomeFishFarmingComp::getCurModuleFishFarmingData(FishFarmingComp);
              HomeModuleFishFarmingData::HomeModuleFishFarmingData(
                (HomeModuleFishFarmingData *const)(v3 + 464),
                CurModuleFishFarmingData);
              __for_range_0 = (const std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > > *)(v3 + 520);
              __for_begin_0._M_cur = std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int>>,std::equal_to<std::pair<unsigned int,unsigned int>>,std::allocator<std::pair<std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>>>::begin((const std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > > *const)(v3 + 520))._M_cur;
              __for_end_0._M_cur = std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int>>,std::equal_to<std::pair<unsigned int,unsigned int>>,std::allocator<std::pair<std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>>>::end((const std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > > *const)(v3 + 520))._M_cur;
              while ( std::__detail::operator!=<std::pair<std::pair const<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true>(
                        &__for_begin_0,
                        &__for_end_0) )
              {
                v91 = std::__detail::_Node_const_iterator<std::pair<std::pair const<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,false,true>::operator*(&__for_begin_0);
                key_pair = std::get<0ul,std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>(v91);
                fish_farming_data = (std::tuple_element<1,const std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> >::type *)std::get<1ul,std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>(v91);
                if ( *(_BYTE *)(((unsigned __int64)key_pair >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)key_pair & 7) + 3) >= *(_BYTE *)(((unsigned __int64)key_pair >> 3)
                                                                             + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                first = key_pair->first;
                if ( first != proto::HomeScenePointFishFarmingInfo::scene_id(fish_farming_info) )
                  goto LABEL_48;
                if ( *(_BYTE *)(((unsigned __int64)&key_pair->second >> 3) + 0x7FFF8000) != 0
                  && (char)((((_BYTE)key_pair + 4) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&key_pair->second >> 3)
                                                                         + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                second = key_pair->second;
                if ( second == proto::HomeScenePointFishFarmingInfo::local_entity_id(fish_farming_info) )
                  v40 = 0;
                else
LABEL_48:
                  v40 = 1;
                if ( v40 )
                  HomeFishDataBase::fillFishIdCountMap(
                    fish_farming_data,
                    (std::map<unsigned int,unsigned int> *)(v3 + 288));
                std::__detail::_Node_const_iterator<std::pair<std::pair const<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,false,true>::operator++(&__for_begin_0);
              }
              __for_range_1 = (const std::unordered_map<unsigned int,HomeFishFarmingData> *)(v3 + 464);
              __for_begin_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true>::__node_type *)std::unordered_map<unsigned int,HomeFishFarmingData>::begin((const std::unordered_map<unsigned int,HomeFishFarmingData> *const)(v3 + 464))._M_cur;
              __for_end_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true>::__node_type *)std::unordered_map<unsigned int,HomeFishFarmingData>::end(__for_range_1)._M_cur;
              while ( std::__detail::operator!=<std::pair<unsigned int const,HomeFishFarmingData>,false>(
                        (const std::__detail::_Node_iterator_base<std::pair<unsigned int const,HomeFishFarmingData>,false> *)&__for_begin_0,
                        (const std::__detail::_Node_iterator_base<std::pair<unsigned int const,HomeFishFarmingData>,false> *)&__for_end_0) )
              {
                v88 = std::__detail::_Node_const_iterator<std::pair<unsigned int const,HomeFishFarmingData>,false,false>::operator*((const std::__detail::_Node_const_iterator<std::pair<unsigned int const,HomeFishFarmingData>,false,false> *const)&__for_begin_0);
                guid = std::get<0ul,unsigned int const,HomeFishFarmingData>(v88);
                fish_farming_data_0 = (std::tuple_element<1,const std::pair<unsigned int const,HomeFishFarmingData> >::type *)std::get<1ul,unsigned int const,HomeFishFarmingData>(v88);
                HomeFishDataBase::fillFishIdCountMap(
                  fish_farming_data_0,
                  (std::map<unsigned int,unsigned int> *)(v3 + 288));
                std::__detail::_Node_const_iterator<std::pair<unsigned int const,HomeFishFarmingData>,false,false>::operator++((std::__detail::_Node_const_iterator<std::pair<unsigned int const,HomeFishFarmingData>,false,false> *const)&__for_begin_0);
              }
              if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                __asan_report_load8();
              player_item_comp = Player::getItemComp(this->player_);
              __for_range_2 = (std::map<unsigned int,unsigned int> *)(v3 + 288);
              __for_begin_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true>::__node_type *)std::map<unsigned int,unsigned int>::begin((std::map<unsigned int,unsigned int> *const)(v3 + 288))._M_node;
              __for_end_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true>::__node_type *)std::map<unsigned int,unsigned int>::end(__for_range_2)._M_node;
              while ( std::operator!=(
                        (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_begin_0,
                        (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_end_0) )
              {
                v85 = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_0);
                fish_id = std::get<0ul,unsigned int const,unsigned int>(v85);
                count = (std::tuple_element<1,const std::pair<unsigned int const,unsigned int> >::type *)std::get<1ul,unsigned int const,unsigned int>(v85);
                if ( *(_BYTE *)(((unsigned __int64)fish_id >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)fish_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)fish_id >> 3)
                                                                            + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                ItemCount = PlayerItemComp::getItemCount(player_item_comp, *fish_id);
                if ( *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) != 0
                  && (char)(((unsigned __int8)count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) )
                {
                  __asan_report_load4();
                }
                if ( ItemCount < *count )
                {
                  common::milog::MiLogStream::create(
                    &v96,
                    &common::milog::MiLogDefault::default_log_obj_,
                    1u,
                    "./src/handler/player_home_handler.cpp",
                    "onHomeUpdateScenePointFishFarmingInfoReq",
                    2371);
                  v42 = common::milog::MiLogStream::operator<<<char [45],(char *[45])0>(
                          &v96,
                          (const char (*)[45])"[HOME_SUMERU_FISH] fish not enough. fish id:");
                  v43 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v42, fish_id);
                  v44 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(
                          v43,
                          (const char (*)[12])" req count:");
                  v45 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v44, count);
                  v46 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(
                          v45,
                          (const char (*)[12])" has count:");
                  if ( *(_BYTE *)(((unsigned __int64)fish_id >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)fish_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)fish_id >> 3)
                                                                              + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  *(_DWORD *)(v3 + 80) = PlayerItemComp::getItemCount(player_item_comp, *fish_id);
                  v47 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                          v46,
                          (const unsigned int *)(v3 + 80));
                  v48 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(
                          v47,
                          (const char (*)[11])" home uid:");
                  v49 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                  val = Home::getHomeUid(v49);
                  common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v48, &val);
                  common::milog::MiLogStream::~MiLogStream(&v96);
                  v9 = 9778;
                  goto LABEL_82;
                }
                std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_0);
              }
              v50 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
              v51 = Home::getFishFarmingComp(v50);
              data_map = &HomeFishFarmingComp::getCurModuleFishFarmingData(v51)->scene_point_fish_farming_data_map;
              *(_DWORD *)(v3 + 64) = proto::HomeScenePointFishFarmingInfo::scene_id(fish_farming_info);
              v52 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
              SceneComp = Home::getSceneComp(v52);
              HomeWorld = (unsigned int)HomeSceneComp::getHomeWorld(SceneComp);
              World::findScene((World *const)(v3 + 224), HomeWorld);
              if ( std::operator==<Scene>(0LL, (const std::shared_ptr<Scene> *)(v3 + 224)) )
              {
                common::milog::MiLogStream::create(
                  &v96,
                  &common::milog::MiLogDefault::default_log_obj_,
                  4u,
                  "./src/handler/player_home_handler.cpp",
                  "onHomeUpdateScenePointFishFarmingInfoReq",
                  2383);
                v55 = common::milog::MiLogStream::operator<<<char [49],(char *[49])0>(
                        &v96,
                        (const char (*)[49])"[HOME_FISH_FARMING] find scene failed. scene id:");
                v56 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                        v55,
                        (const unsigned int *)(v3 + 64));
                v57 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(
                        v56,
                        (const char (*)[10])"home_uid:");
                v58 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                val = Home::getHomeUid(v58);
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v57, &val);
                common::milog::MiLogStream::~MiLogStream(&v96);
                v9 = 9701;
              }
              else
              {
                HomeScenePointFishFarmingData::HomeScenePointFishFarmingData((HomeScenePointFishFarmingData *const)(v3 + 368));
                if ( HomeScenePointFishFarmingData::fromClient(
                       (HomeScenePointFishFarmingData *const)(v3 + 368),
                       fish_farming_info) )
                {
                  common::milog::MiLogStream::create(
                    &v96,
                    &common::milog::MiLogDefault::default_log_obj_,
                    4u,
                    "./src/handler/player_home_handler.cpp",
                    "onHomeUpdateScenePointFishFarmingInfoReq",
                    2389);
                  v59 = common::milog::MiLogStream::operator<<<char [66],(char *[66])0>(
                          &v96,
                          (const char (*)[66])"[HOME_SUMERU_FISH] fish_farming_data fromClient failed. home_uid:");
                  v60 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                  val = Home::getHomeUid(v60);
                  common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v59, &val);
                  common::milog::MiLogStream::~MiLogStream(&v96);
                  v9 = 9701;
                }
                else
                {
                  v61 = std::move<HomeScenePointFishFarmingData &>((HomeScenePointFishFarmingData *)(v3 + 368));
                  val = proto::HomeScenePointFishFarmingInfo::local_entity_id(fish_farming_info);
                  *(_DWORD *)(v3 + 80) = proto::HomeScenePointFishFarmingInfo::scene_id(fish_farming_info);
                  __for_end_0._M_cur = (std::__detail::_Node_iterator_base<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData>,true>::__node_type *)std::make_pair<unsigned int,unsigned int>((unsigned int *)(v3 + 80), &val);
                  v62 = std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int>>,std::equal_to<std::pair<unsigned int,unsigned int>>,std::allocator<std::pair<std::pair<unsigned int,unsigned int> const,HomeScenePointFishFarmingData>>>::operator[](
                          data_map,
                          (std::unordered_map<std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData,boost::hash<std::pair<unsigned int,unsigned int> >,std::equal_to<std::pair<unsigned int,unsigned int> >,std::allocator<std::pair<const std::pair<unsigned int,unsigned int>,HomeScenePointFishFarmingData> > >::key_type *)&__for_end_0);
                  HomeScenePointFishFarmingData::operator=(v62, v61);
                  v63 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                  v64 = Home::getFishFarmingComp(v63);
                  v65 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                  CurModuleId = Home::getCurModuleId(v65);
                  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                    __asan_report_load8();
                  HomeFishFarmingComp::logFishFarmingChange(
                    v64,
                    this->player_,
                    CurModuleId,
                    (const HomeModuleFishFarmingData *)(v3 + 464),
                    FISH_FARMING_CHANGE_NORMAL,
                    FISHPOND_TYPE_SCENE_POINT);
                  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 224));
                  EcsBase<Scene,SceneCompBase,12u>::findComp<SceneHomeComp>((const EcsBase<Scene,SceneCompBase,12> *const)(v3 + 256));
                  if ( std::operator!=<SceneHomeComp>((const std::shared_ptr<SceneHomeComp> *)(v3 + 256), 0LL) )
                  {
                    v67 = std::__shared_ptr_access<SceneHomeComp,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<SceneHomeComp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 256));
                    v68 = proto::HomeScenePointFishFarmingInfo::local_entity_id(fish_farming_info);
                    v69 = proto::HomeScenePointFishFarmingInfo::scene_id(fish_farming_info);
                    SceneHomeComp::refreshHomeScenePointFishMonster(v67, v69, v68);
                  }
                  v70 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
                  v71 = Home::getFishFarmingComp(v70);
                  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                    __asan_report_load8();
                  HomeFishFarmingComp::notifyScenePointFishFarmingData(v71, this->player_);
                  v9 = 0;
                  std::shared_ptr<SceneHomeComp>::~shared_ptr((std::shared_ptr<SceneHomeComp> *const)(v3 + 256));
                }
                HomeScenePointFishFarmingData::~HomeScenePointFishFarmingData((HomeScenePointFishFarmingData *const)(v3 + 368));
              }
              std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v3 + 224));
LABEL_82:
              HomeModuleFishFarmingData::~HomeModuleFishFarmingData((HomeModuleFishFarmingData *const)(v3 + 464));
LABEL_83:
              std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v3 + 288));
            }
            else
            {
              common::milog::MiLogStream::create(
                &v96,
                &common::milog::MiLogDefault::default_log_obj_,
                3u,
                "./src/handler/player_home_handler.cpp",
                "onHomeUpdateScenePointFishFarmingInfoReq",
                2331);
              v29 = common::milog::MiLogStream::operator<<<char [65],(char *[65])0>(
                      &v96,
                      (const char (*)[65])"[HOME_SUMERU_FISH] fish num too large, req.fish_id_list_size(): ");
              val = proto::HomeScenePointFishFarmingInfo::fish_id_list_size(fish_farming_info);
              common::milog::MiLogStream::operator<<<int,(int *)0>(v29, (const int *)&val);
              common::milog::MiLogStream::~MiLogStream(&v96);
              v9 = -1;
            }
          }
          std::shared_ptr<data::ConfigFishpondScenePoint>::~shared_ptr((std::shared_ptr<data::ConfigFishpondScenePoint> *const)(v3 + 192));
        }
        else
        {
          common::milog::MiLogStream::create(
            &v96,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeUpdateScenePointFishFarmingInfoReq",
            2317);
          v18 = common::milog::MiLogStream::operator<<<char [52],(char *[52])0>(
                  &v96,
                  (const char (*)[52])"[HOME_SUMERU_FISH] scene_id not match. cur_scene_id");
          v19 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
          *(_DWORD *)(v3 + 80) = Scene::getSceneId(v19);
          v20 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v18,
                  (const unsigned int *)(v3 + 80));
          v21 = common::milog::MiLogStream::operator<<<char [16],(char *[16])0>(
                  v20,
                  (const char (*)[16])", req.scene_id:");
          val = proto::HomeScenePointFishFarmingInfo::scene_id(fish_farming_info);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v21, &val);
          common::milog::MiLogStream::~MiLogStream(&v96);
          v9 = -1;
        }
      }
      std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v3 + 160));
    }
    else
    {
      common::milog::MiLogStream::create(
        &v96,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeUpdateScenePointFishFarmingInfoReq",
        2305);
      v12 = common::milog::MiLogStream::operator<<<char [31],(char *[31])0>(
              &v96,
              (const char (*)[31])"[HOME_SUMERU_FISH] player uid:");
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      *(_DWORD *)(v3 + 80) = Player::getUid(this->player_);
      v13 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v12, (const unsigned int *)(v3 + 80));
      v14 = common::milog::MiLogStream::operator<<<char [29],(char *[29])0>(
              v13,
              (const char (*)[29])" not in self home, home_uid:");
      v15 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
      val = Home::getHomeUid(v15);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, &val);
      common::milog::MiLogStream::~MiLogStream(&v96);
      v9 = 9714;
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 128));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96));
  result = v9;
  if ( v97 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8020) = 0;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8028) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8034) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8048) = 0;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8020) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8028) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8030) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8038) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8040) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8048) = -168430091;
  }
  return result;
};

// Line 2415: range 0000000017CAEAA2-0000000017CAF66F
int32_t __cdecl PlayerHomeHandler::onHomeEditCustomFurnitureReq(
        PlayerHomeHandler *const this,
        const proto::HomeEditCustomFurnitureReq *req,
        proto::HomeEditCustomFurnitureRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  common::milog::MiLogStream *v12; // r14
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v15; // rax
  Home *v16; // rax
  HomeCustomFurnitureComp *CustomFurnitureComp; // rax
  common::milog::MiLogStream *v18; // rax
  common::milog::MiLogStream *v19; // rax
  common::milog::MiLogStream *v20; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v21; // rax
  JsonConfigMgr *p_json_config_mgr; // r14
  const google::protobuf::RepeatedPtrField<proto::CustomCommonNodeInfo> *v23; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v24; // rax
  common::milog::MiLogStream *v25; // rax
  common::milog::MiLogStream *v26; // rax
  common::milog::MiLogStream *v27; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v28; // rax
  Home *v29; // rax
  HomeCustomFurnitureComp *v30; // rcx
  Home *v31; // rax
  HomeCustomFurnitureComp *v32; // rcx
  Home *v33; // rax
  HomeCustomFurnitureComp *v34; // rax
  Home *v35; // rax
  HomeCustomFurnitureComp *v36; // r14
  Home *v37; // rax
  uint32_t CurModuleId; // ecx
  int32_t result; // eax
  unsigned int val; // [rsp+20h] [rbp-360h] BYREF
  uint32_t gadget_id; // [rsp+24h] [rbp-35Ch]
  const proto::HomeCustomFurnitureInfo *custom_furniture_info; // [rsp+28h] [rbp-358h]
  HomeOneCustomFurnitureData *custom_furniture_data_ptr; // [rsp+30h] [rbp-350h]
  const HomeWorldExcelConfigMgr *home_config_mgr; // [rsp+38h] [rbp-348h]
  std::shared_ptr<Config> v45; // [rsp+40h] [rbp-340h] BYREF
  common::milog::MiLogStream v46; // [rsp+50h] [rbp-330h] BYREF
  char v47[784]; // [rsp+70h] [rbp-310h] BYREF

  v3 = (unsigned __int64)v47;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_4(736LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "10 32 4 8 ret:2418 48 4 9 guid:2432 64 16 19 home_world_ptr:2416 96 16 13 home_ptr:2417 128 24 1"
                        "3 node_vec:2445 192 48 33 need_sub_furniture_count_map:2447 272 48 20 update_guid_set:2459 352 4"
                        "8 20 delete_guid_set:2465 432 56 29 pass_part_item_count_map:2448 528 144 26 custom_furniture_data:2456";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeEditCustomFurnitureReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556924;
  v5[536862722] = -219021312;
  v5[536862723] = -219021312;
  v5[536862724] = -234881024;
  v5[536862725] = -218959118;
  v5[536862727] = -219021312;
  v5[536862728] = 62194;
  v5[536862730] = -218959118;
  v5[536862732] = -219021312;
  v5[536862733] = 62194;
  v5[536862735] = -218959360;
  v5[536862736] = 62194;
  v5[536862741] = -202116109;
  v5[536862742] = -202116109;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 32) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 64),
                           (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 32)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v46,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeEditCustomFurnitureReq",
      2421);
    v8 = common::milog::MiLogStream::operator<<<char [60],(char *[60])0>(
           &v46,
           (const char (*)[60])"[HOME_CUSTOM_FURNITURE] getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 32));
    common::milog::MiLogStream::~MiLogStream(&v46);
    v9 = 9714;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    HomeUid = Home::getHomeUid(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      custom_furniture_info = proto::HomeEditCustomFurnitureReq::custom_furniture_info(req);
      *(_DWORD *)(v3 + 48) = proto::HomeCustomFurnitureInfo::guid(custom_furniture_info);
      v16 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
      CustomFurnitureComp = Home::getCustomFurnitureComp(v16);
      custom_furniture_data_ptr = HomeCustomFurnitureComp::getCustomFurnitureData(
                                    CustomFurnitureComp,
                                    *(_DWORD *)(v3 + 48));
      if ( custom_furniture_data_ptr )
      {
        ServiceBox::findService<GameserverService>();
        GameserverService::getConfig((GameserverService *const)&v45);
        home_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v45)->design_config.txt_config_mgr.home_config_mgr;
        std::shared_ptr<Config>::~shared_ptr(&v45);
        if ( *(_BYTE *)(((unsigned __int64)&custom_furniture_data_ptr->furniture_id >> 3) + 0x7FFF8000) != 0
          && *(_BYTE *)(((unsigned __int64)&custom_furniture_data_ptr->furniture_id >> 3) + 0x7FFF8000) <= 3 )
        {
          __asan_report_load4();
        }
        gadget_id = HomeWorldExcelConfigMgr::getFurnitureGadgetId(
                      home_config_mgr,
                      custom_furniture_data_ptr->furniture_id);
        std::vector<std::shared_ptr<CustomCommonNodeData>>::vector((std::vector<std::shared_ptr<CustomCommonNodeData>> *const)(v3 + 128));
        ServiceBox::findService<GameserverService>();
        GameserverService::getConfig((GameserverService *const)&v45);
        p_json_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v45)->design_config.json_config_mgr;
        v23 = proto::HomeCustomFurnitureInfo::sub_furniture_list(custom_furniture_info);
        JsonConfigMgr::convertCustomTreeInfo(
          p_json_config_mgr,
          gadget_id,
          v23,
          (std::vector<std::shared_ptr<CustomCommonNodeData>> *)(v3 + 128));
        std::shared_ptr<Config>::~shared_ptr(&v45);
        std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v3 + 192));
        std::unordered_map<unsigned int,unsigned int>::unordered_map((std::unordered_map<unsigned int,unsigned int> *const)(v3 + 432));
        ServiceBox::findService<GameserverService>();
        GameserverService::getConfig((GameserverService *const)&v45);
        v24 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v45);
        LOBYTE(p_json_config_mgr) = JsonConfigMgr::checkCustomTreeInfo(
                                      &v24->design_config.json_config_mgr,
                                      (const std::vector<std::shared_ptr<CustomCommonNodeData>> *)(v3 + 128),
                                      (std::map<unsigned int,unsigned int> *)(v3 + 192),
                                      (std::unordered_map<unsigned int,unsigned int> *)(v3 + 432)) != 0;
        std::shared_ptr<Config>::~shared_ptr(&v45);
        if ( (_BYTE)p_json_config_mgr )
        {
          common::milog::MiLogStream::create(
            &v46,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeEditCustomFurnitureReq",
            2451);
          v25 = common::milog::MiLogStream::operator<<<char [64],(char *[64])0>(
                  &v46,
                  (const char (*)[64])"[HOME_CUSTOM_FURNITURE] checkCustomTreeInfo fail, furniture_id:");
          v26 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v25,
                  &custom_furniture_data_ptr->furniture_id);
          v27 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v26, (const char (*)[11])" home_uid:");
          v28 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          val = Home::getHomeUid(v28);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v27, &val);
          common::milog::MiLogStream::~MiLogStream(&v46);
          v9 = 9780;
        }
        else
        {
          HomeOneCustomFurnitureData::HomeOneCustomFurnitureData(
            (HomeOneCustomFurnitureData *const)(v3 + 528),
            custom_furniture_data_ptr);
          HomeOneCustomFurnitureData::fromClient(
            custom_furniture_data_ptr,
            custom_furniture_info,
            (const std::map<unsigned int,unsigned int> *)(v3 + 192),
            (const std::unordered_map<unsigned int,unsigned int> *)(v3 + 432));
          v29 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          v30 = Home::getCustomFurnitureComp(v29);
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          HomeCustomFurnitureComp::checkAndRepaireCustomFurniture(
            (std::set<unsigned int> *)(v3 + 272),
            v30,
            this->player_);
          std::set<unsigned int>::insert(
            (std::set<unsigned int> *const)(v3 + 272),
            (const std::set<unsigned int>::value_type *)(v3 + 48));
          v31 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          v32 = Home::getCustomFurnitureComp(v31);
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          HomeCustomFurnitureComp::logEditCustomFurniture(
            v32,
            this->player_,
            (const HomeOneCustomFurnitureData *)(v3 + 528));
          std::set<unsigned int>::set((std::set<unsigned int> *const)(v3 + 352));
          v33 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          v34 = Home::getCustomFurnitureComp(v33);
          HomeCustomFurnitureComp::notifyChangeCustomFurnitureData(
            v34,
            (const std::set<unsigned int> *)(v3 + 272),
            (const std::set<unsigned int> *)(v3 + 352));
          v35 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          v36 = Home::getCustomFurnitureComp(v35);
          v37 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          CurModuleId = Home::getCurModuleId(v37);
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          HomeCustomFurnitureComp::sendCustomFurnitureChangeEvent(v36, this->player_, CurModuleId);
          v9 = 0;
          std::set<unsigned int>::~set((std::set<unsigned int> *const)(v3 + 352));
          std::set<unsigned int>::~set((std::set<unsigned int> *const)(v3 + 272));
          HomeOneCustomFurnitureData::~HomeOneCustomFurnitureData((HomeOneCustomFurnitureData *const)(v3 + 528));
        }
        std::unordered_map<unsigned int,unsigned int>::~unordered_map((std::unordered_map<unsigned int,unsigned int> *const)(v3 + 432));
        std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v3 + 192));
        std::vector<std::shared_ptr<CustomCommonNodeData>>::~vector((std::vector<std::shared_ptr<CustomCommonNodeData>> *const)(v3 + 128));
      }
      else
      {
        common::milog::MiLogStream::create(
          &v46,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeEditCustomFurnitureReq",
          2438);
        v18 = common::milog::MiLogStream::operator<<<char [63],(char *[63])0>(
                &v46,
                (const char (*)[63])"[HOME_CUSTOM_FURNITURE] not found custom furniture data, guid:");
        v19 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v18,
                (const unsigned int *)(v3 + 48));
        v20 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v19, (const char (*)[11])" home_uid:");
        v21 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
        val = Home::getHomeUid(v21);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v20, &val);
        common::milog::MiLogStream::~MiLogStream(&v46);
        v9 = 9775;
      }
    }
    else
    {
      common::milog::MiLogStream::create(
        &v46,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeEditCustomFurnitureReq",
        2427);
      v12 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
              &v46,
              (const char (*)[36])"[HOME_CUSTOM_FURNITURE] player uid:");
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      *(_DWORD *)(v3 + 48) = Player::getUid(this->player_);
      v13 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v12, (const unsigned int *)(v3 + 48));
      v14 = common::milog::MiLogStream::operator<<<char [29],(char *[29])0>(
              v13,
              (const char (*)[29])" not in self home, home_uid:");
      v15 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
      val = Home::getHomeUid(v15);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, &val);
      common::milog::MiLogStream::~MiLogStream(&v46);
      v9 = 9714;
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v9;
  if ( v47 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF801C) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8028) = 0;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8030) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF803C) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8054) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8020) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8028) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8030) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8038) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8040) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8048) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8050) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8058) = -168430091;
  }
  return result;
};

// Line 2473: range 0000000017CAF670-0000000017CAFF2F
int32_t __cdecl PlayerHomeHandler::onHomeUpdatePictureFrameInfoReq(
        PlayerHomeHandler *const this,
        const proto::HomeUpdatePictureFrameInfoReq *req,
        proto::HomeUpdatePictureFrameInfoRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  common::milog::MiLogStream *v12; // r14
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v15; // rax
  Home *v16; // rax
  HomePictureFrameComp *PictureFrameComp; // rax
  common::milog::MiLogStream *v18; // rax
  common::milog::MiLogStream *v19; // rax
  common::milog::MiLogStream *v20; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v21; // rax
  Home *v22; // rax
  HomePictureFrameComp *v23; // rcx
  common::milog::MiLogStream *v24; // rax
  common::milog::MiLogStream *v25; // rax
  common::milog::MiLogStream *v26; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v27; // rax
  proto::HomePictureFrameInfo *v28; // rax
  PlayerBasicComp *BasicComp; // rax
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeUpdatePictureFrame,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v30; // rax
  Player *player; // r14
  Home *v32; // rax
  HomePictureFrameComp *v33; // rax
  int32_t result; // eax
  std::string v35; // [rsp+0h] [rbp-170h]
  PlayerHomeHandler *thisa; // [rsp+18h] [rbp-158h]
  unsigned int val; // [rsp+28h] [rbp-148h] BYREF
  uint32_t picture_id; // [rsp+2Ch] [rbp-144h]
  const proto::HomePictureFrameInfo *picture_frame_info; // [rsp+30h] [rbp-140h]
  HomeOnePictureFrameData *picture_frame_data_ptr; // [rsp+38h] [rbp-138h]
  std::shared_ptr<google::protobuf::Message> p_body_ptr; // [rsp+40h] [rbp-130h] BYREF
  std::shared_ptr<google::protobuf::Message> p_body_ext_ptr; // [rsp+50h] [rbp-120h] BYREF
  common::milog::MiLogStream v43; // [rsp+60h] [rbp-110h] BYREF
  char v44[240]; // [rsp+80h] [rbp-F0h] BYREF

  *(&v35._anon_0._M_allocated_capacity + 1) = (std::string::size_type)this;
  v35._anon_0._M_allocated_capacity = (std::string::size_type)req;
  v35._M_string_length = (std::string::size_type)rsp_0;
  v3 = (unsigned __int64)v44;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_2(192LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "6 48 1 23 log_context_holder:2517 64 4 8 ret:2476 80 4 9 guid:2490 96 16 19 home_world_ptr:2474 "
                        "128 16 13 home_ptr:2475 160 16 12 log_ptr:2518";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeUpdatePictureFrameInfoReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234753551;
  v5[536862722] = -234556924;
  v5[536862723] = -219021312;
  v5[536862724] = -219021312;
  v5[536862725] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 128), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 64) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 96),
                           (HomePtr *)(v3 + 128));
  if ( *(_DWORD *)(v3 + 64)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 96), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 128), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v43,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeUpdatePictureFrameInfoReq",
      2479);
    v8 = common::milog::MiLogStream::operator<<<char [57],(char *[57])0>(
           &v43,
           (const char (*)[57])"[HOME_PICTURE_FRAME] getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 64));
    common::milog::MiLogStream::~MiLogStream(&v43);
    v9 = 9714;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
    HomeUid = Home::getHomeUid(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      picture_frame_info = proto::HomeUpdatePictureFrameInfoReq::picture_frame_info(req);
      *(_DWORD *)(v3 + 80) = proto::HomePictureFrameInfo::guid(picture_frame_info);
      v16 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
      PictureFrameComp = Home::getPictureFrameComp(v16);
      picture_frame_data_ptr = HomePictureFrameComp::getPictureFrameData(PictureFrameComp, *(_DWORD *)(v3 + 80));
      if ( picture_frame_data_ptr )
      {
        picture_id = proto::HomePictureFrameInfo::picture_id(picture_frame_info);
        v22 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
        v23 = Home::getPictureFrameComp(v22);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        *(_DWORD *)(v3 + 64) = HomePictureFrameComp::checkPictureValid(v23, this->player_, picture_id);
        if ( *(_DWORD *)(v3 + 64) )
        {
          v9 = *(_DWORD *)(v3 + 64);
        }
        else if ( HomeOnePictureFrameData::fromClient(picture_frame_data_ptr, picture_frame_info) )
        {
          common::milog::MiLogStream::create(
            &v43,
            &common::milog::MiLogDefault::default_log_obj_,
            4u,
            "./src/handler/player_home_handler.cpp",
            "onHomeUpdatePictureFrameInfoReq",
            2511);
          v24 = common::milog::MiLogStream::operator<<<char [65],(char *[65])0>(
                  &v43,
                  (const char (*)[65])"[HOME_PICTURE_FRAME] picture_frame_data fromClient failed. guid:");
          v25 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v24,
                  (const unsigned int *)(v3 + 80));
          v26 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(v25, (const char (*)[10])"home_uid:");
          v27 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
          val = Home::getHomeUid(v27);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v26, &val);
          common::milog::MiLogStream::~MiLogStream(&v43);
          v9 = 9701;
        }
        else
        {
          v28 = proto::HomeUpdatePictureFrameInfoRsp::mutable_picture_frame_info((proto::HomeUpdatePictureFrameInfoRsp *const)v35._M_string_length);
          proto::HomePictureFrameInfo::operator=(v28, picture_frame_info);
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          BasicComp = Player::getBasicComp(this->player_);
          PlayerBasicComp::getNextTransNo[abi:cxx11]((std::string *)&v43, BasicComp);
          StatLogUtils::ContextHolder::ContextHolder((StatLogUtils::ContextHolder *const)(v3 + 48), 0xCF1u, v35);
          std::string::~string(&v43);
          common::tools::perf::make_shared<proto_log::PlayerLogBodyHomeUpdatePictureFrame>();
          v30 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeUpdatePictureFrame,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeUpdatePictureFrame,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
          proto_log::PlayerLogBodyHomeUpdatePictureFrame::set_picture_id(v30, picture_id);
          if ( *(_BYTE *)(((unsigned __int64)&thisa->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          player = thisa->player_;
          std::shared_ptr<google::protobuf::Message>::shared_ptr(&p_body_ext_ptr, 0LL);
          std::shared_ptr<google::protobuf::Message>::shared_ptr<proto_log::PlayerLogBodyHomeUpdatePictureFrame,void>(
            &p_body_ptr,
            (const std::shared_ptr<proto_log::PlayerLogBodyHomeUpdatePictureFrame> *)(v3 + 160));
          Player::printStatLog(player, &p_body_ptr, &p_body_ext_ptr, 0xEu);
          std::shared_ptr<google::protobuf::Message>::~shared_ptr(&p_body_ptr);
          std::shared_ptr<google::protobuf::Message>::~shared_ptr(&p_body_ext_ptr);
          v32 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
          v33 = Home::getPictureFrameComp(v32);
          HomePictureFrameComp::notifyCurPictureFrameDataToAll(v33);
          v9 = 0;
          std::shared_ptr<proto_log::PlayerLogBodyHomeUpdatePictureFrame>::~shared_ptr((std::shared_ptr<proto_log::PlayerLogBodyHomeUpdatePictureFrame> *const)(v3 + 160));
          StatLogUtils::ContextHolder::~ContextHolder((StatLogUtils::ContextHolder *const)(v3 + 48));
        }
      }
      else
      {
        common::milog::MiLogStream::create(
          &v43,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeUpdatePictureFrameInfoReq",
          2496);
        v18 = common::milog::MiLogStream::operator<<<char [57],(char *[57])0>(
                &v43,
                (const char (*)[57])"[HOME_PICTURE_FRAME] not found picture frame data, guid:");
        v19 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v18,
                (const unsigned int *)(v3 + 80));
        v20 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v19, (const char (*)[11])" home_uid:");
        v21 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
        val = Home::getHomeUid(v21);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v20, &val);
        common::milog::MiLogStream::~MiLogStream(&v43);
        v9 = 9775;
      }
    }
    else
    {
      common::milog::MiLogStream::create(
        &v43,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeUpdatePictureFrameInfoReq",
        2485);
      v12 = common::milog::MiLogStream::operator<<<char [33],(char *[33])0>(
              &v43,
              (const char (*)[33])"[HOME_PICTURE_FRAME] player uid:");
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      *(_DWORD *)(v3 + 80) = Player::getUid(this->player_);
      v13 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v12, (const unsigned int *)(v3 + 80));
      v14 = common::milog::MiLogStream::operator<<<char [29],(char *[29])0>(
              v13,
              (const char (*)[29])" not in self home, home_uid:");
      v15 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
      val = Home::getHomeUid(v15);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, &val);
      common::milog::MiLogStream::~MiLogStream(&v43);
      v9 = 9714;
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 128));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96));
  result = v9;
  if ( v44 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2528: range 0000000017CAFF30-0000000017CB02E7
int32_t __cdecl PlayerHomeHandler::onHomeGetGroupRecordReq(
        PlayerHomeHandler *const this,
        const proto::HomeGetGroupRecordReq *req,
        proto::HomeGetGroupRecordRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  PlayerHomeComp *HomeComp; // rax
  int32_t v8; // r14d
  Home *v9; // rax
  uint32_t GroupRecordComp; // eax
  unsigned __int64 v11; // rax
  unsigned __int64 v12; // rdx
  Home *v13; // rax
  HomeGroupRecordComp *v14; // rax
  google::protobuf::uint32 RecordTypeByGroupId; // edx
  int32_t result; // eax
  google::protobuf::uint32 group_id; // [rsp+30h] [rbp-E0h]
  proto::HomeGroupRecord *home_group_record_proto; // [rsp+38h] [rbp-D8h]
  common::milog::MiLogStream v20; // [rsp+40h] [rbp-D0h] BYREF
  char v21[176]; // [rsp+60h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v21;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 32 16 19 home_world_ptr:2529 64 16 13 home_ptr:2530 96 16 26 base_group_record_ptr:2538";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeGetGroupRecordReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -219021312;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 32), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 64), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  if ( PlayerHomeComp::getCurHomeWorldAndHome(HomeComp, (HomeWorldPtr *)(v3 + 32), (HomePtr *)(v3 + 64))
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 32), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 64), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v20,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeGetGroupRecordReq",
      2534);
    common::milog::MiLogStream::operator<<<char [43],(char *[43])0>(
      &v20,
      (const char (*)[43])"[HOME_GROUP] getCurHomeWorldAndHome failed");
    common::milog::MiLogStream::~MiLogStream(&v20);
    v8 = 9714;
  }
  else
  {
    group_id = proto::HomeGetGroupRecordReq::group_id(req);
    v9 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 64));
    GroupRecordComp = (unsigned int)Home::getGroupRecordComp(v9);
    HomeGroupRecordComp::findBaseHomeGroupRecord((const HomeGroupRecordComp *const)(v3 + 96), GroupRecordComp);
    if ( std::operator!=<BaseHomeGroupRecord>((const std::shared_ptr<BaseHomeGroupRecord> *)(v3 + 96), 0LL) )
    {
      home_group_record_proto = proto::HomeGetGroupRecordRsp::mutable_group_record(rsp_0);
      v11 = (unsigned __int64)std::__shared_ptr_access<BaseHomeGroupRecord,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<BaseHomeGroupRecord,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
      if ( *(_BYTE *)((v11 >> 3) + 0x7FFF8000) )
        v11 = __asan_report_load8();
      v12 = *(_QWORD *)v11 + 32LL;
      if ( *(_BYTE *)((v12 >> 3) + 0x7FFF8000) )
        v11 = __asan_report_load8();
      (*(void (__fastcall **)(unsigned __int64, proto::HomeGroupRecord *))v12)(v11, home_group_record_proto);
    }
    v13 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 64));
    v14 = Home::getGroupRecordComp(v13);
    RecordTypeByGroupId = HomeGroupRecordComp::getRecordTypeByGroupId(v14, group_id);
    proto::HomeGetGroupRecordRsp::set_record_type(rsp_0, RecordTypeByGroupId);
    v8 = 0;
    std::shared_ptr<BaseHomeGroupRecord>::~shared_ptr((std::shared_ptr<BaseHomeGroupRecord> *const)(v3 + 96));
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 64));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 32));
  result = v8;
  if ( v21 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2550: range 0000000017CB02E8-0000000017CB070E
int32_t __cdecl PlayerHomeHandler::onHomeClearGroupRecordReq(
        PlayerHomeHandler *const this,
        const proto::HomeClearGroupRecordReq *req,
        proto::HomeClearGroupRecordRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  google::protobuf::uint32 v6; // edx
  PlayerHomeComp *HomeComp; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  common::milog::MiLogStream *v12; // r14
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v15; // rax
  Home *v16; // rax
  HomeGroupRecordComp *GroupRecordComp; // r14
  uint32_t v18; // eax
  int32_t result; // eax
  unsigned int val; // [rsp+24h] [rbp-BCh] BYREF
  unsigned int v22; // [rsp+28h] [rbp-B8h] BYREF
  int32_t ret; // [rsp+2Ch] [rbp-B4h]
  common::milog::MiLogStream v24; // [rsp+30h] [rbp-B0h] BYREF
  char v25[144]; // [rsp+50h] [rbp-90h] BYREF

  v3 = (unsigned __int64)v25;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(96LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "2 32 16 19 home_world_ptr:2552 64 16 13 home_ptr:2553";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeClearGroupRecordReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -219021312;
  v5[536862722] = -202178560;
  v6 = proto::HomeClearGroupRecordReq::group_id(req);
  proto::HomeClearGroupRecordRsp::set_group_id(rsp_0, v6);
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 32), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 64), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  ret = PlayerHomeComp::getCurHomeWorldAndHome(HomeComp, (HomeWorldPtr *)(v3 + 32), (HomePtr *)(v3 + 64));
  if ( ret
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 32), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 64), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v24,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeClearGroupRecordReq",
      2557);
    common::milog::MiLogStream::operator<<<char [43],(char *[43])0>(
      &v24,
      (const char (*)[43])"[HOME_GROUP] getCurHomeWorldAndHome failed");
    common::milog::MiLogStream::~MiLogStream(&v24);
    v9 = 9714;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 64));
    HomeUid = Home::getHomeUid(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      v16 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 64));
      GroupRecordComp = Home::getGroupRecordComp(v16);
      v18 = proto::HomeClearGroupRecordReq::group_id(req);
      HomeGroupRecordComp::clearHomeGroupRecord(GroupRecordComp, v18);
      v9 = 0;
    }
    else
    {
      common::milog::MiLogStream::create(
        &v24,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeClearGroupRecordReq",
        2562);
      v12 = common::milog::MiLogStream::operator<<<char [25],(char *[25])0>(
              &v24,
              (const char (*)[25])"[HOME_GROUP] player uid:");
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      val = Player::getUid(this->player_);
      v13 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v12, &val);
      v14 = common::milog::MiLogStream::operator<<<char [29],(char *[29])0>(
              v13,
              (const char (*)[29])" not in self home, home_uid:");
      v15 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 64));
      v22 = Home::getHomeUid(v15);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, &v22);
      common::milog::MiLogStream::~MiLogStream(&v24);
      v9 = 9714;
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 64));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 32));
  result = v9;
  if ( v25 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8008) = 0;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v3 >> 3) + 0x7FFF8008) = -168430091;
  }
  return result;
};

// Line 2571: range 0000000017CB0710-0000000017CB0B38
__int64 __fastcall PlayerHomeHandler::checkHomeBgmUsable(
        PlayerHomeHandler *const this,
        PlayerHomeComp *player_home_comp,
        const HomeModuleData *module_data,
        unsigned __int64 arrangement_data,
        uint32_t bgm_id)
{
  unsigned __int64 v5; // rbx
  __int64 v6; // rax
  unsigned __int64 v7; // r13
  __int64 result; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v9; // rax
  common::milog::MiLogStream *v10; // rax
  common::milog::MiLogStream *v11; // rax
  common::milog::MiLogStream *v12; // rcx
  uint32_t v13; // r12d
  uint32_t v14; // r12d
  char v15; // al
  const data::HomeWorldBgmExcelConfig *bgm_config_ptr; // [rsp+38h] [rbp-98h]
  std::shared_ptr<Config> v20; // [rsp+40h] [rbp-90h] BYREF
  common::milog::MiLogStream v21; // [rsp+50h] [rbp-80h] BYREF
  char v22[96]; // [rsp+70h] [rbp-60h] BYREF

  v5 = (unsigned __int64)v22;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v6 = __asan_stack_malloc_0(64LL);
    if ( v6 )
      v5 = v6;
  }
  *(_QWORD *)v5 = 1102416563LL;
  *(_QWORD *)(v5 + 8) = "1 32 4 11 bgm_id:2570";
  *(_QWORD *)(v5 + 16) = PlayerHomeHandler::checkHomeBgmUsable;
  v7 = v5 >> 3;
  *(_DWORD *)(v7 + 2147450880) = -235802127;
  *(_DWORD *)(v7 + 2147450884) = -202116348;
  *(_DWORD *)(v5 + 32) = bgm_id;
  if ( *(_DWORD *)(v5 + 32) )
  {
    if ( *(char *)(((arrangement_data + 592) >> 3) + 0x7FFF8000) < 0 )
      __asan_report_load1(arrangement_data + 592);
    if ( *(_BYTE *)(arrangement_data + 592) != 1 )
    {
      result = 9794LL;
    }
    else
    {
      ServiceBox::findService<GameserverService>();
      GameserverService::getConfig((GameserverService *const)&v20);
      v9 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v20);
      bgm_config_ptr = data::HomeWorldExcelConfigMgrBase::findHomeWorldBgmExcelConfig(
                         &v9->design_config.txt_config_mgr.home_config_mgr,
                         *(_DWORD *)(v5 + 32));
      std::shared_ptr<Config>::~shared_ptr(&v20);
      if ( bgm_config_ptr )
      {
        if ( !PlayerHomeComp::isHomeBgmUnlocked(player_home_comp, *(_DWORD *)(v5 + 32)) )
        {
          result = 9793LL;
        }
        else
        {
          if ( *(_BYTE *)((arrangement_data >> 3) + 0x7FFF8000) != 0
            && *(_BYTE *)((arrangement_data >> 3) + 0x7FFF8000) <= 3 )
          {
            __asan_report_load4();
          }
          v13 = *(_DWORD *)arrangement_data;
          if ( v13 == HomeModuleData::getWorldSceneId(module_data) )
          {
            if ( *(_BYTE *)(((unsigned __int64)&bgm_config_ptr->is_world_scene_usable >> 3) + 0x7FFF8000) != 0
              && (((unsigned __int8)bgm_config_ptr + 14) & 7) >= *(_BYTE *)(((unsigned __int64)&bgm_config_ptr->is_world_scene_usable >> 3)
                                                                          + 0x7FFF8000) )
            {
              __asan_report_load1(&bgm_config_ptr->is_world_scene_usable);
            }
            if ( !bgm_config_ptr->is_world_scene_usable )
              goto LABEL_28;
          }
          if ( *(_BYTE *)((arrangement_data >> 3) + 0x7FFF8000) != 0
            && *(_BYTE *)((arrangement_data >> 3) + 0x7FFF8000) <= 3 )
          {
            __asan_report_load4();
          }
          v14 = *(_DWORD *)arrangement_data;
          if ( v14 != HomeModuleData::getCurRoomSceneId(module_data) )
            goto LABEL_29;
          if ( *(_BYTE *)(((unsigned __int64)&bgm_config_ptr->is_room_scene_usable >> 3) + 0x7FFF8000) != 0
            && (((unsigned __int8)bgm_config_ptr + 13) & 7) >= *(_BYTE *)(((unsigned __int64)&bgm_config_ptr->is_room_scene_usable >> 3)
                                                                        + 0x7FFF8000) )
          {
            __asan_report_load1(&bgm_config_ptr->is_room_scene_usable);
          }
          if ( !bgm_config_ptr->is_room_scene_usable )
LABEL_28:
            v15 = 1;
          else
LABEL_29:
            v15 = 0;
          if ( v15 )
            result = 9795LL;
          else
            result = 0LL;
        }
      }
      else
      {
        common::milog::MiLogStream::create(
          &v21,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "checkHomeBgmUsable",
          2583);
        v10 = common::milog::MiLogStream::operator<<<char [42],(char *[42])0>(
                &v21,
                (const char (*)[42])"findHomeWorldBgmExcelConfig fail, bgm_id:");
        v11 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v10,
                (const unsigned int *)(v5 + 32));
        v12 = common::milog::MiLogStream::operator<<<char [9],(char *[9])0>(v11, (const char (*)[9])" player:");
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        operator<<(v12, this->player_);
        common::milog::MiLogStream::~MiLogStream(&v21);
        result = 9792LL;
      }
    }
  }
  else
  {
    result = 0LL;
  }
  if ( v22 == (char *)v5 )
  {
    *(_QWORD *)((v5 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v5 = 1172321806LL;
    *(_QWORD *)((v5 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2599: range 0000000017CB0B3A-0000000017CB1499
int32_t __cdecl PlayerHomeHandler::onHomeChangeBgmReq(
        PlayerHomeHandler *const this,
        const proto::HomeChangeBgmReq *req,
        proto::HomeChangeBgmRsp *rsp_0)
{
  unsigned __int64 v3; // r13
  __int64 v4; // rax
  _DWORD *v5; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  int32_t v9; // r14d
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v10; // rax
  uint32_t HomeUid; // r14d
  Home *v12; // rax
  HomeBasicComp *BasicComp; // rax
  Home *v14; // rax
  HomeModuleData *v15; // r14
  std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v16; // rax
  uint32_t SceneId; // eax
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v18; // r15
  PlayerHomeComp *v19; // rsi
  common::milog::MiLogStream *v20; // rax
  PlayerBasicComp *v21; // rax
  uint32_t v22; // ecx
  std::__shared_ptr_access<proto_log::PlayerLogBodyHomeChangeBgm,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v23; // rax
  Player *player; // r14
  Scene *v25; // rax
  int32_t result; // eax
  std::string v27; // [rsp+0h] [rbp-1F0h]
  HomeSceneData *home_scene_data_ptr; // [rsp+38h] [rbp-1B8h]
  std::shared_ptr<google::protobuf::Message> p_body_ptr; // [rsp+40h] [rbp-1B0h] BYREF
  std::shared_ptr<google::protobuf::Message> p_body_ext_ptr; // [rsp+50h] [rbp-1A0h] BYREF
  common::milog::MiLogStream v31; // [rsp+60h] [rbp-190h] BYREF
  char v32[368]; // [rsp+80h] [rbp-170h] BYREF

  *(&v27._anon_0._M_allocated_capacity + 1) = (std::string::size_type)rsp_0;
  v3 = (unsigned __int64)v32;
  v27._M_string_length = (std::string::size_type)v32;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_3(320LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "9 48 1 11 holder:2639 64 4 8 ret:2602 80 4 11 bgm_id:2632 96 16 19 home_world_ptr:2600 128 16 13"
                        " home_ptr:2601 160 16 18 cur_scene_ptr:2616 192 16 25 home_module_data_ptr:2621 224 16 12 log_pt"
                        "r:2641 256 24 11 notify:2644";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeChangeBgmReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234753551;
  v5[536862722] = -234556924;
  v5[536862723] = -219021312;
  v5[536862724] = -219021312;
  v5[536862725] = -219021312;
  v5[536862726] = -219021312;
  v5[536862727] = -219021312;
  v5[536862728] = -218103808;
  v5[536862729] = -202116109;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 128), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v3 + 64) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v3 + 96),
                           (HomePtr *)(v3 + 128));
  if ( *(_DWORD *)(v3 + 64)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 96), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 128), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v31,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeChangeBgmReq",
      2605);
    v8 = common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
           &v31,
           (const char (*)[36])"getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v3 + 64));
    common::milog::MiLogStream::~MiLogStream(&v31);
    if ( *(_DWORD *)(v3 + 64) )
      v9 = *(_DWORD *)(v3 + 64);
    else
      v9 = -1;
  }
  else
  {
    v10 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
    HomeUid = Home::getHomeUid(v10);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      v12 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
      BasicComp = Home::getBasicComp(v12);
      if ( HomeBasicComp::getIsInEditMode(BasicComp) )
      {
        v9 = 9708;
      }
      else
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        Player::getSceneComp(this->player_);
        PlayerSceneComp::getCurScene((const PlayerSceneComp *const)(v3 + 160));
        if ( std::operator==<Scene>((const std::shared_ptr<Scene> *)(v3 + 160), 0LL) )
        {
          v9 = 555;
        }
        else
        {
          v14 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 128));
          Home::getSceneComp(v14);
          HomeSceneComp::getCurHomeModuleData((HomeSceneComp *const)(v3 + 192));
          if ( std::operator==<HomeModuleData>((const std::shared_ptr<HomeModuleData> *)(v3 + 192), 0LL) )
          {
            common::milog::MiLogStream::create(
              &v31,
              &common::milog::MiLogDefault::default_log_obj_,
              1u,
              "./src/handler/player_home_handler.cpp",
              "onHomeChangeBgmReq",
              2624);
            common::milog::MiLogStream::operator<<<char [36],(char *[36])0>(
              &v31,
              (const char (*)[36])"getCurHomeModuleData() return null.");
            common::milog::MiLogStream::~MiLogStream(&v31);
            v9 = 9701;
          }
          else
          {
            v15 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 192));
            v16 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
            SceneId = Scene::getSceneId(v16);
            home_scene_data_ptr = HomeModuleData::findHomeSceneData(v15, SceneId);
            if ( home_scene_data_ptr )
            {
              *(_DWORD *)(v3 + 80) = proto::HomeChangeBgmReq::bgm_id(req);
              HIDWORD(v27._anon_0._M_allocated_capacity) = *(_DWORD *)(v3 + 80);
              v18 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 192));
              if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                __asan_report_load8();
              v19 = Player::getHomeComp(this->player_);
              *(_DWORD *)(v3 + 64) = PlayerHomeHandler::checkHomeBgmUsable(
                                       this,
                                       v19,
                                       v18,
                                       (unsigned __int64)&home_scene_data_ptr->arrangement_data,
                                       HIDWORD(v27._anon_0._M_allocated_capacity));
              if ( *(_DWORD *)(v3 + 64) )
              {
                common::milog::MiLogStream::create(
                  &v31,
                  &common::milog::MiLogDefault::default_log_obj_,
                  1u,
                  "./src/handler/player_home_handler.cpp",
                  "onHomeChangeBgmReq",
                  2636);
                v20 = common::milog::MiLogStream::operator<<<char [33],(char *[33])0>(
                        &v31,
                        (const char (*)[33])"checkHomeBgmUsable fail, bgm_id:");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v20,
                  (const unsigned int *)(v3 + 80));
                common::milog::MiLogStream::~MiLogStream(&v31);
                v9 = *(_DWORD *)(v3 + 64);
              }
              else
              {
                if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                v21 = Player::getBasicComp(this->player_);
                PlayerBasicComp::getNextTransNo[abi:cxx11]((std::string *)&v31, v21);
                StatLogUtils::ContextHolder::ContextHolder((StatLogUtils::ContextHolder *const)(v3 + 48), 0xCF2u, v27);
                std::string::~string(&v31);
                v22 = *(_DWORD *)(v3 + 80);
                if ( *(_BYTE *)(((unsigned __int64)&home_scene_data_ptr->arrangement_data.bgm_id >> 3) + 0x7FFF8000) != 0
                  && (char)((((_BYTE)home_scene_data_ptr + 28) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&home_scene_data_ptr->arrangement_data.bgm_id >> 3)
                                                                                     + 0x7FFF8000) )
                {
                  __asan_report_store4(&home_scene_data_ptr->arrangement_data.bgm_id);
                }
                home_scene_data_ptr->arrangement_data.bgm_id = v22;
                common::tools::perf::make_shared<proto_log::PlayerLogBodyHomeChangeBgm>();
                v23 = std::__shared_ptr_access<proto_log::PlayerLogBodyHomeChangeBgm,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<proto_log::PlayerLogBodyHomeChangeBgm,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 224));
                proto_log::PlayerLogBodyHomeChangeBgm::set_bgm_id(v23, *(_DWORD *)(v3 + 80));
                if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                player = this->player_;
                std::shared_ptr<google::protobuf::Message>::shared_ptr(&p_body_ext_ptr, 0LL);
                std::shared_ptr<google::protobuf::Message>::shared_ptr<proto_log::PlayerLogBodyHomeChangeBgm,void>(
                  &p_body_ptr,
                  (const std::shared_ptr<proto_log::PlayerLogBodyHomeChangeBgm> *)(v3 + 224));
                Player::printStatLog(player, &p_body_ptr, &p_body_ext_ptr, 0xEu);
                std::shared_ptr<google::protobuf::Message>::~shared_ptr(&p_body_ptr);
                std::shared_ptr<google::protobuf::Message>::~shared_ptr(&p_body_ext_ptr);
                proto::HomeChangeBgmNotify::HomeChangeBgmNotify((proto::HomeChangeBgmNotify *const)(v3 + 256));
                proto::HomeChangeBgmNotify::set_bgm_id(
                  (proto::HomeChangeBgmNotify *const)(v3 + 256),
                  *(_DWORD *)(v3 + 80));
                v25 = std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Scene,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 160));
                Scene::notifyAllPlayer<proto::HomeChangeBgmNotify>(v25, (proto::HomeChangeBgmNotify *)(v3 + 256), 0);
                v9 = 0;
                proto::HomeChangeBgmNotify::~HomeChangeBgmNotify((proto::HomeChangeBgmNotify *const)(v3 + 256));
                std::shared_ptr<proto_log::PlayerLogBodyHomeChangeBgm>::~shared_ptr((std::shared_ptr<proto_log::PlayerLogBodyHomeChangeBgm> *const)(v3 + 224));
                StatLogUtils::ContextHolder::~ContextHolder((StatLogUtils::ContextHolder *const)(v3 + 48));
              }
            }
            else
            {
              v9 = 9713;
            }
          }
          std::shared_ptr<HomeModuleData>::~shared_ptr((std::shared_ptr<HomeModuleData> *const)(v3 + 192));
        }
        std::shared_ptr<Scene>::~shared_ptr((std::shared_ptr<Scene> *const)(v3 + 160));
      }
    }
    else
    {
      v9 = 9714;
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 128));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 96));
  result = v9;
  if ( v27._M_string_length == v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8020) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8020) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2652: range 0000000017CB149A-0000000017CB1869
int32_t __cdecl PlayerHomeHandler::onGetHomeExchangeWoodInfoReq(
        PlayerHomeHandler *const this,
        const proto::GetHomeExchangeWoodInfoReq *req,
        proto::GetHomeExchangeWoodInfoRsp *rsp_0)
{
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v3; // rax
  uint32_t now; // [rsp+24h] [rbp-6Ch]
  uint32_t time_offset; // [rsp+28h] [rbp-68h]
  uint32_t next_week_begin_time; // [rsp+2Ch] [rbp-64h]
  std::unordered_map<unsigned int,data::HomeWorldWoodExcelConfig>::const_iterator __for_begin; // [rsp+30h] [rbp-60h] BYREF
  std::unordered_map<unsigned int,data::HomeWorldWoodExcelConfig>::const_iterator __for_end; // [rsp+38h] [rbp-58h] BYREF
  PlayerHomeComp *home_comp; // [rsp+40h] [rbp-50h]
  PlayerItemComp *item_comp; // [rsp+48h] [rbp-48h]
  const std::unordered_map<unsigned int,data::HomeWorldWoodExcelConfig> *__for_range; // [rsp+50h] [rbp-40h]
  const std::pair<unsigned int const,data::HomeWorldWoodExcelConfig> *v14; // [rsp+58h] [rbp-38h]
  std::tuple_element<0,const std::pair<unsigned int const,data::HomeWorldWoodExcelConfig> >::type *wood_id; // [rsp+60h] [rbp-30h]
  std::tuple_element<1,const std::pair<unsigned int const,data::HomeWorldWoodExcelConfig> >::type *wood_config; // [rsp+68h] [rbp-28h]
  proto::GetHomeExchangeWoodInfoRsp_HomeExchangeWoodInfo *proto_wood_info; // [rsp+70h] [rbp-20h]
  HomeWorldWoodExchangeData *data_ptr; // [rsp+78h] [rbp-18h]
  std::shared_ptr<Config> v19; // [rsp+80h] [rbp-10h] BYREF

  now = common::tools::TimeUtils::getNow();
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)&v19);
  v3 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v19);
  time_offset = ConstValueExcelConfigMgr::getTimeOffsetSec(&v3->design_config.txt_config_mgr.const_value_config_mgr);
  std::shared_ptr<Config>::~shared_ptr(&v19);
  next_week_begin_time = common::tools::TimeUtils::getWeekTime(now + 604800, time_offset);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  home_comp = Player::getHomeComp(this->player_);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  item_comp = Player::getItemComp(this->player_);
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)&v19);
  __for_range = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v19)->design_config.txt_config_mgr.home_config_mgr.home_world_wood_excel_config_map;
  std::shared_ptr<Config>::~shared_ptr(&v19);
  __for_begin._M_cur = std::unordered_map<unsigned int,data::HomeWorldWoodExcelConfig>::begin(__for_range)._M_cur;
  __for_end._M_cur = std::unordered_map<unsigned int,data::HomeWorldWoodExcelConfig>::end(__for_range)._M_cur;
  while ( std::__detail::operator!=<std::pair<unsigned int const,data::HomeWorldWoodExcelConfig>,false>(
            &__for_begin,
            &__for_end) )
  {
    v14 = std::__detail::_Node_const_iterator<std::pair<unsigned int const,data::HomeWorldWoodExcelConfig>,false,false>::operator*(&__for_begin);
    wood_id = std::get<0ul,unsigned int const,data::HomeWorldWoodExcelConfig>(v14);
    wood_config = (std::tuple_element<1,const std::pair<unsigned int const,data::HomeWorldWoodExcelConfig> >::type *)std::get<1ul,unsigned int const,data::HomeWorldWoodExcelConfig>(v14);
    if ( *(_BYTE *)(((unsigned __int64)wood_id >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)wood_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)wood_id >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    if ( PlayerItemComp::hasOnceGotItemById(item_comp, *wood_id) )
    {
      proto_wood_info = proto::GetHomeExchangeWoodInfoRsp::add_wood_info_list(rsp_0);
      if ( *(_BYTE *)(((unsigned __int64)wood_id >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)wood_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)wood_id >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      proto::GetHomeExchangeWoodInfoRsp_HomeExchangeWoodInfo::set_wood_id(proto_wood_info, *wood_id);
      if ( *(_BYTE *)(((unsigned __int64)wood_id >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)wood_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)wood_id >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      data_ptr = PlayerHomeComp::findHomeWorldWoodExchangeData(home_comp, *wood_id);
      if ( data_ptr )
      {
        PlayerHomeComp::refreshWoodExchangeData(home_comp, wood_config, now, time_offset, data_ptr);
        if ( *(_BYTE *)(((unsigned __int64)data_ptr >> 3) + 0x7FFF8000) != 0
          && (char)(((unsigned __int8)data_ptr & 7) + 3) >= *(_BYTE *)(((unsigned __int64)data_ptr >> 3) + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        proto::GetHomeExchangeWoodInfoRsp_HomeExchangeWoodInfo::set_exchanged_count(
          proto_wood_info,
          data_ptr->exchange_count);
      }
      if ( *(_BYTE *)(((unsigned __int64)&wood_config->exchange_limit >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)wood_config + 12) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&wood_config->exchange_limit >> 3)
                                                                   + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      proto::GetHomeExchangeWoodInfoRsp_HomeExchangeWoodInfo::set_exchange_limit(
        proto_wood_info,
        wood_config->exchange_limit);
      if ( *(_BYTE *)(((unsigned __int64)&wood_config->refresh_type >> 3) + 0x7FFF8000) != 0
        && *(_BYTE *)(((unsigned __int64)&wood_config->refresh_type >> 3) + 0x7FFF8000) <= 3 )
      {
        __asan_report_load4();
      }
      if ( wood_config->refresh_type == HOME_WORLD_WOOD_REFRESH_WEEKLY )
        proto::GetHomeExchangeWoodInfoRsp_HomeExchangeWoodInfo::set_next_refresh_time(
          proto_wood_info,
          next_week_begin_time);
    }
    std::__detail::_Node_const_iterator<std::pair<unsigned int const,data::HomeWorldWoodExcelConfig>,false,false>::operator++(&__for_begin);
  }
  return 0;
};

// Line 2688: range 0000000017CB186A-0000000017CB2626
int32_t __cdecl PlayerHomeHandler::onHomeExchangeWoodReq(
        PlayerHomeHandler *const this,
        const proto::HomeExchangeWoodReq *req,
        proto::HomeExchangeWoodRsp *rsp_0)
{
  int32_t v3; // r14d
  unsigned __int64 v4; // r13
  __int64 v5; // rax
  _DWORD *v6; // r12
  const google::protobuf::Map<unsigned int,unsigned int> *v7; // rax
  const google::protobuf::MapPair<unsigned int,unsigned int> *v8; // rax
  int v9; // r15d
  common::milog::MiLogStream *v10; // rax
  common::milog::MiLogStream *v11; // rax
  common::milog::MiLogStream *v12; // rax
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // rax
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // rax
  common::milog::MiLogStream *v17; // rax
  unsigned int v18; // ecx
  unsigned int v19; // edx
  common::milog::MiLogStream *v21; // rax
  common::milog::MiLogStream *v22; // rax
  common::milog::MiLogStream *v23; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v24; // rax
  SelectType v25; // ecx
  PlayerItemComp *ItemComp; // rax
  PlayerItemComp *v27; // rax
  common::milog::MiLogStream *v28; // rax
  PlayerItemComp *v29; // r14
  common::milog::MiLogStream *v30; // rax
  unsigned int v31; // ecx
  SelectType v32; // ecx
  PlayerItemComp *v33; // rax
  int32_t result; // eax
  unsigned int exchanged_count; // [rsp+24h] [rbp-1ACh]
  uint32_t now; // [rsp+28h] [rbp-1A8h]
  uint32_t time_offset; // [rsp+2Ch] [rbp-1A4h]
  int32_t ret; // [rsp+30h] [rbp-1A0h]
  int32_t reta; // [rsp+30h] [rbp-1A0h]
  int32_t retb; // [rsp+30h] [rbp-1A0h]
  unsigned int material_wood_count; // [rsp+34h] [rbp-19Ch]
  HomeWorldExcelConfigMgr *home_config_mgr; // [rsp+38h] [rbp-198h]
  const data::HomeWorldWoodExcelConfig *wood_config_ptr; // [rsp+40h] [rbp-190h]
  const google::protobuf::Map<unsigned int,unsigned int> *__for_range; // [rsp+48h] [rbp-188h]
  PlayerHomeComp *home_comp; // [rsp+50h] [rbp-180h]
  HomeWorldWoodExchangeData *data_ptr; // [rsp+58h] [rbp-178h]
  HomeWorldWoodExchangeData *data_ptra; // [rsp+58h] [rbp-178h]
  const data::HomeWorldWoodExchangeMaterialConfig *wood_material_config_ptr; // [rsp+60h] [rbp-170h]
  unsigned int material_id; // [rsp+68h] [rbp-168h] BYREF
  unsigned int b; // [rsp+6Ch] [rbp-164h] BYREF
  std::shared_ptr<Config> v52; // [rsp+70h] [rbp-160h] BYREF
  google::protobuf::Map<unsigned int,unsigned int>::const_iterator __for_begin; // [rsp+80h] [rbp-150h] BYREF
  common::milog::MiLogStream v54; // [rsp+A0h] [rbp-130h] BYREF
  char v55[272]; // [rsp+C0h] [rbp-110h] BYREF

  v4 = (unsigned __int64)v55;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v5 = __asan_stack_malloc_2(224LL);
    if ( v5 )
      v4 = v5;
  }
  *(_QWORD *)v4 = 1102416563LL;
  *(_QWORD *)(v4 + 8) = "5 32 4 12 wood_id:2689 48 4 19 add_wood_count:2700 64 16 19 add_item_param:2760 96 24 24 cost_it"
                        "em_param_vec:2699 160 24 11 reason:2763";
  *(_QWORD *)(v4 + 16) = PlayerHomeHandler::onHomeExchangeWoodReq;
  v6 = (_DWORD *)(v4 >> 3);
  v6[536862720] = -235802127;
  v6[536862721] = -234556924;
  v6[536862722] = -219021312;
  v6[536862723] = -234881024;
  v6[536862724] = -218959118;
  v6[536862725] = -218103808;
  v6[536862726] = -202116109;
  *(_DWORD *)(v4 + 32) = proto::HomeExchangeWoodReq::wood_id(req);
  proto::HomeExchangeWoodRsp::set_wood_id(rsp_0, *(_DWORD *)(v4 + 32));
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)(v4 + 64));
  home_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v4 + 64))->design_config.txt_config_mgr.home_config_mgr;
  std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v4 + 64));
  wood_config_ptr = data::HomeWorldExcelConfigMgrBase::findHomeWorldWoodExcelConfig(
                      home_config_mgr,
                      *(_DWORD *)(v4 + 32));
  if ( wood_config_ptr )
  {
    std::vector<ItemParam>::vector((std::vector<ItemParam> *const)(v4 + 96));
    *(_DWORD *)(v4 + 48) = 0;
    v7 = proto::HomeExchangeWoodReq::material_count_map(req);
    if ( google::protobuf::Map<unsigned int,unsigned int>::empty(v7) )
    {
      v3 = 9797;
    }
    else
    {
      __for_range = proto::HomeExchangeWoodReq::material_count_map(req);
      google::protobuf::Map<unsigned int,unsigned int>::begin(&__for_begin, __for_range);
      google::protobuf::Map<unsigned int,unsigned int>::end(
        (google::protobuf::Map<unsigned int,unsigned int>::const_iterator *)(v4 + 160),
        __for_range);
      while ( google::protobuf::operator!=(
                &__for_begin,
                (const google::protobuf::Map<unsigned int,unsigned int>::const_iterator *)(v4 + 160)) )
      {
        v8 = google::protobuf::Map<unsigned int,unsigned int>::const_iterator::operator*(&__for_begin);
        google::protobuf::MapPair<unsigned int,unsigned int>::MapPair(
          (google::protobuf::MapPair<unsigned int,unsigned int> *const)&material_id,
          v8);
        if ( material_id == *(_DWORD *)(v4 + 32) )
        {
          v3 = -1;
          v9 = 0;
        }
        else
        {
          wood_material_config_ptr = HomeWorldExcelConfigMgr::findWoodExchangeMaterialConfig(
                                       home_config_mgr,
                                       *(_DWORD *)(v4 + 32),
                                       material_id);
          if ( wood_material_config_ptr )
          {
            if ( !b )
              goto LABEL_18;
            if ( *(_BYTE *)(((unsigned __int64)&wood_config_ptr->exchange_limit >> 3) + 0x7FFF8000) != 0
              && (char)((((_BYTE)wood_config_ptr + 12) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&wood_config_ptr->exchange_limit >> 3)
                                                                             + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            if ( wood_config_ptr->exchange_limit >= b )
            {
              *(_DWORD *)(v4 + 64) = 0;
              *(_DWORD *)(v4 + 68) = 0;
              *(_DWORD *)(v4 + 72) = 0;
              *(_DWORD *)(v4 + 76) = 0;
              if ( *(_BYTE *)(((unsigned __int64)&wood_material_config_ptr->item_id >> 3) + 0x7FFF8000) != 0
                && *(_BYTE *)(((unsigned __int64)&wood_material_config_ptr->item_id >> 3) + 0x7FFF8000) <= 3 )
              {
                __asan_report_load4();
              }
              *(_DWORD *)(v4 + 64) = wood_material_config_ptr->item_id;
              v18 = b;
              if ( *(_BYTE *)(((unsigned __int64)&wood_material_config_ptr->item_count >> 3) + 0x7FFF8000) != 0
                && (char)((((_BYTE)wood_material_config_ptr + 12) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&wood_material_config_ptr->item_count >> 3)
                                                                                        + 0x7FFF8000) )
              {
                __asan_report_load4();
              }
              *(_DWORD *)(v4 + 68) = SAFE_MULTIPLY<unsigned int,unsigned int>(wood_material_config_ptr->item_count, v18);
              std::vector<ItemParam>::push_back(
                (std::vector<ItemParam> *const)(v4 + 96),
                (const std::vector<ItemParam>::value_type *)(v4 + 64));
              v19 = b;
              if ( *(_BYTE *)(((unsigned __int64)&wood_material_config_ptr->wood_count >> 3) + 0x7FFF8000) != 0
                && *(_BYTE *)(((unsigned __int64)&wood_material_config_ptr->wood_count >> 3) + 0x7FFF8000) <= 3 )
              {
                __asan_report_load4();
              }
              material_wood_count = SAFE_MULTIPLY<unsigned int,unsigned int>(wood_material_config_ptr->wood_count, v19);
              *(_DWORD *)(v4 + 48) = SAFE_ADD<unsigned int,unsigned int>(*(_DWORD *)(v4 + 48), material_wood_count);
              v9 = 1;
            }
            else
            {
LABEL_18:
              common::milog::MiLogStream::create(
                &v54,
                &common::milog::MiLogDefault::default_log_obj_,
                1u,
                "./src/handler/player_home_handler.cpp",
                "onHomeExchangeWoodReq",
                2721);
              v13 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                      &v54,
                      (const char (*)[24])"invalid exchange_count:");
              v14 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v13, &b);
              v15 = common::milog::MiLogStream::operator<<<char [14],(char *[14])0>(
                      v14,
                      (const char (*)[14])" material_id:");
              v16 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v15, &material_id);
              v17 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(
                      v16,
                      (const char (*)[10])" wood_id:");
              common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v17,
                (const unsigned int *)(v4 + 32));
              common::milog::MiLogStream::~MiLogStream(&v54);
              v3 = 9799;
              v9 = 0;
            }
          }
          else
          {
            common::milog::MiLogStream::create(
              &v54,
              &common::milog::MiLogDefault::default_log_obj_,
              1u,
              "./src/handler/player_home_handler.cpp",
              "onHomeExchangeWoodReq",
              2716);
            v10 = common::milog::MiLogStream::operator<<<char [50],(char *[50])0>(
                    &v54,
                    (const char (*)[50])"findWoodExchangeMaterialConfig fail, material_id:");
            v11 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v10, &material_id);
            v12 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(v11, (const char (*)[10])" wood_id:");
            common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v12, (const unsigned int *)(v4 + 32));
            common::milog::MiLogStream::~MiLogStream(&v54);
            v3 = 9798;
            v9 = 0;
          }
        }
        google::protobuf::MapPair<unsigned int,unsigned int>::~MapPair((google::protobuf::MapPair<unsigned int,unsigned int> *const)&material_id);
        if ( v9 != 1 )
          goto LABEL_67;
        google::protobuf::Map<unsigned int,unsigned int>::const_iterator::operator++(&__for_begin);
      }
      if ( std::vector<ItemParam>::empty((const std::vector<ItemParam> *const)(v4 + 96)) || !*(_DWORD *)(v4 + 48) )
      {
        common::milog::MiLogStream::create(
          &v54,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "onHomeExchangeWoodReq",
          2734);
        v21 = common::milog::MiLogStream::operator<<<char [54],(char *[54])0>(
                &v54,
                (const char (*)[54])"invalid cost_item or wood_count, cost_item_param_vec:");
        v22 = common::milog::MiLogStream::operator<<<ItemParam>(v21, (const std::vector<ItemParam> *)(v4 + 96));
        v23 = common::milog::MiLogStream::operator<<<char [17],(char *[17])0>(
                v22,
                (const char (*)[17])" add_wood_count:");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v23, (const unsigned int *)(v4 + 48));
        common::milog::MiLogStream::~MiLogStream(&v54);
        v3 = -1;
      }
      else
      {
        exchanged_count = 0;
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        home_comp = Player::getHomeComp(this->player_);
        data_ptr = PlayerHomeComp::findHomeWorldWoodExchangeData(home_comp, *(_DWORD *)(v4 + 32));
        if ( data_ptr )
        {
          now = common::tools::TimeUtils::getNow();
          ServiceBox::findService<GameserverService>();
          GameserverService::getConfig((GameserverService *const)&v52);
          v24 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v52);
          time_offset = ConstValueExcelConfigMgr::getTimeOffsetSec(&v24->design_config.txt_config_mgr.const_value_config_mgr);
          std::shared_ptr<Config>::~shared_ptr(&v52);
          PlayerHomeComp::refreshWoodExchangeData(home_comp, wood_config_ptr, now, time_offset, data_ptr);
          if ( *(_BYTE *)(((unsigned __int64)data_ptr >> 3) + 0x7FFF8000) != 0
            && (char)(((unsigned __int8)data_ptr & 7) + 3) >= *(_BYTE *)(((unsigned __int64)data_ptr >> 3) + 0x7FFF8000) )
          {
            __asan_report_load4();
          }
          exchanged_count = data_ptr->exchange_count;
        }
        v25 = SAFE_ADD<unsigned int,unsigned int>(exchanged_count, *(_DWORD *)(v4 + 48));
        if ( *(_BYTE *)(((unsigned __int64)&wood_config_ptr->exchange_limit >> 3) + 0x7FFF8000) != 0
          && (char)((((_BYTE)wood_config_ptr + 12) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&wood_config_ptr->exchange_limit >> 3)
                                                                         + 0x7FFF8000) )
        {
          __asan_report_load4();
        }
        if ( v25 <= wood_config_ptr->exchange_limit )
        {
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          ItemComp = Player::getItemComp(this->player_);
          ret = PlayerItemComp::checkSubItemBatch(ItemComp, (const std::vector<ItemParam> *)(v4 + 96));
          if ( ret )
          {
            v3 = ret;
          }
          else
          {
            *(_DWORD *)(v4 + 64) = 0;
            *(_DWORD *)(v4 + 68) = 0;
            *(_DWORD *)(v4 + 72) = 0;
            *(_DWORD *)(v4 + 76) = 0;
            *(_DWORD *)(v4 + 64) = *(_DWORD *)(v4 + 32);
            *(_DWORD *)(v4 + 68) = *(_DWORD *)(v4 + 48);
            ActionReason::ActionReason(
              (ActionReason *const)(v4 + 160),
              ACTION_REASON_WOOD_EXCHANGE,
              ITEM_LIMIT_WOOD_EXCHANGE);
            if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
              __asan_report_load8();
            v27 = Player::getItemComp(this->player_);
            reta = PlayerItemComp::checkAddItem(v27, (const ItemParam *)(v4 + 64), (const ActionReason *)(v4 + 160));
            if ( reta )
            {
              v3 = reta;
            }
            else
            {
              data_ptra = PlayerHomeComp::getHomeWorldWoodExchangeData(home_comp, *(_DWORD *)(v4 + 32));
              if ( data_ptra )
              {
                if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                  __asan_report_load8();
                v29 = Player::getItemComp(this->player_);
                SubItemReason::SubItemReason((SubItemReason *const)&material_id, (const ActionReason *)(v4 + 160));
                retb = PlayerItemComp::subItemBatch(
                         v29,
                         (const std::vector<ItemParam> *)(v4 + 96),
                         (const SubItemReason *)&material_id);
                if ( retb )
                {
                  common::milog::MiLogStream::create(
                    &v54,
                    &common::milog::MiLogDefault::default_log_obj_,
                    4u,
                    "./src/handler/player_home_handler.cpp",
                    "onHomeExchangeWoodReq",
                    2780);
                  v30 = common::milog::MiLogStream::operator<<<char [40],(char *[40])0>(
                          &v54,
                          (const char (*)[40])"subItemBatch fail, cost_item_param_vec:");
                  common::milog::MiLogStream::operator<<<ItemParam>(v30, (const std::vector<ItemParam> *)(v4 + 96));
                  common::milog::MiLogStream::~MiLogStream(&v54);
                  v3 = retb;
                }
                else
                {
                  v31 = *(_DWORD *)(v4 + 48);
                  if ( *(_BYTE *)(((unsigned __int64)data_ptra >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)data_ptra & 7) + 3) >= *(_BYTE *)(((unsigned __int64)data_ptra >> 3)
                                                                                + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  v32 = SAFE_ADD<unsigned int,unsigned int>(data_ptra->exchange_count, v31);
                  if ( *(_BYTE *)(((unsigned __int64)data_ptra >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)data_ptra & 7) + 3) >= *(_BYTE *)(((unsigned __int64)data_ptra >> 3)
                                                                                + 0x7FFF8000) )
                  {
                    __asan_report_store4(data_ptra);
                  }
                  data_ptra->exchange_count = v32;
                  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
                    __asan_report_load8();
                  v33 = Player::getItemComp(this->player_);
                  PlayerItemComp::addItem(v33, (const ItemParam *)(v4 + 64), (const ActionReason *)(v4 + 160), 0LL);
                  proto::HomeExchangeWoodRsp::set_wood_count(rsp_0, *(_DWORD *)(v4 + 48));
                  if ( *(_BYTE *)(((unsigned __int64)data_ptra >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)data_ptra & 7) + 3) >= *(_BYTE *)(((unsigned __int64)data_ptra >> 3)
                                                                                + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  proto::HomeExchangeWoodRsp::set_exchanged_count(rsp_0, data_ptra->exchange_count);
                  v3 = 0;
                }
              }
              else
              {
                common::milog::MiLogStream::create(
                  &v54,
                  &common::milog::MiLogDefault::default_log_obj_,
                  3u,
                  "./src/handler/player_home_handler.cpp",
                  "onHomeExchangeWoodReq",
                  2774);
                v28 = common::milog::MiLogStream::operator<<<char [44],(char *[44])0>(
                        &v54,
                        (const char (*)[44])"getHomeWorldWoodExchangeData fail, wood_id:");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v28,
                  (const unsigned int *)(v4 + 32));
                common::milog::MiLogStream::~MiLogStream(&v54);
                v3 = -1;
              }
            }
          }
        }
        else
        {
          v3 = 9800;
        }
      }
    }
LABEL_67:
    std::vector<ItemParam>::~vector((std::vector<ItemParam> *const)(v4 + 96));
  }
  else
  {
    v3 = 5;
  }
  result = v3;
  if ( v55 == (char *)v4 )
  {
    *(_QWORD *)((v4 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8010) = 0LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF8018) = 0;
  }
  else
  {
    *(_QWORD *)v4 = 1172321806LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v4 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v4 >> 3) + 0x7FFF8018) = -168430091;
  }
  return result;
};

// Line 2792: range 0000000017CB2628-0000000017CB2B3C
int32_t __cdecl PlayerHomeHandler::onHomeGetBlueprintSlotInfoReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v5; // rax
  bool isHomeBlueprintClosed; // r14
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v9; // rax
  int v10; // eax
  PlayerHomeComp *v11; // rax
  int32_t result; // eax
  common::milog::MiLogStream v13; // [rsp+10h] [rbp-130h] BYREF
  char v14[272]; // [rsp+30h] [rbp-110h] BYREF

  v2 = (unsigned __int64)v14;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(224LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "4 32 4 8 ret:2793 48 16 19 home_world_ptr:2803 80 16 13 home_ptr:2804 112 72 8 rsp:2817";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onHomeGetBlueprintSlotInfoReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = 61956;
  v4[536862722] = 62194;
  v4[536862723] = 62194;
  v4[536862725] = -218103808;
  v4[536862726] = -202116109;
  *(_DWORD *)(v2 + 32) = 0;
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)(v2 + 80));
  v5 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 80));
  isHomeBlueprintClosed = FeatureSwitchMgr::isHomeBlueprintClosed(&v5->feature_switch_mgr);
  std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v2 + 80));
  if ( isHomeBlueprintClosed )
  {
    common::milog::MiLogStream::create(
      &v13,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeGetBlueprintSlotInfoReq",
      2798);
    common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
      &v13,
      (const char (*)[26])"home blueprint is closed.");
    common::milog::MiLogStream::~MiLogStream(&v13);
    *(_DWORD *)(v2 + 32) = 142;
  }
  else
  {
    std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 48), 0LL);
    std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 80), 0LL);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    *(_DWORD *)(v2 + 32) = PlayerHomeComp::getCurHomeWorldAndHome(
                             HomeComp,
                             (HomeWorldPtr *)(v2 + 48),
                             (HomePtr *)(v2 + 80));
    if ( *(_DWORD *)(v2 + 32)
      || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 48), 0LL)
      || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 80), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v13,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeGetBlueprintSlotInfoReq",
        2808);
      v9 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
             &v13,
             (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
      common::milog::MiLogStream::operator<<<int,(int *)0>(v9, (const int *)(v2 + 32));
      common::milog::MiLogStream::~MiLogStream(&v13);
      if ( *(_DWORD *)(v2 + 32) )
        v10 = *(_DWORD *)(v2 + 32);
      else
        v10 = -1;
      *(_DWORD *)(v2 + 32) = v10;
    }
    else
    {
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      v11 = Player::getHomeComp(this->player_);
      *(_DWORD *)(v2 + 32) = PlayerHomeComp::handleGetBlueprintSlotInfoReq(v11);
    }
    std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 80));
    std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 48));
  }
  if ( *(_DWORD *)(v2 + 32) )
  {
    proto::HomeGetBlueprintSlotInfoRsp::HomeGetBlueprintSlotInfoRsp((proto::HomeGetBlueprintSlotInfoRsp *const)(v2 + 112));
    proto::HomeGetBlueprintSlotInfoRsp::set_retcode(
      (proto::HomeGetBlueprintSlotInfoRsp *const)(v2 + 112),
      *(_DWORD *)(v2 + 32));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 112));
    proto::HomeGetBlueprintSlotInfoRsp::~HomeGetBlueprintSlotInfoRsp((proto::HomeGetBlueprintSlotInfoRsp *const)(v2 + 112));
  }
  result = *(_DWORD *)(v2 + 32);
  if ( v14 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8014) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = -168430091;
  }
  return result;
};

// Line 2825: range 0000000017CB2B3E-0000000017CB321D
int32_t __cdecl PlayerHomeHandler::onServerHomeGetBlueprintBriefDataRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  common::milog::MiLogStream *v9; // rax
  common::milog::MiLogStream *v10; // r14
  proto::HomeGetBlueprintBriefReason v11; // eax
  PlayerHomeComp *v12; // rax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v13; // rax
  uint32_t HomeUid; // r14d
  common::milog::MiLogStream *v15; // r14
  Home *v16; // rax
  HomeBlueprintComp *BlueprintComp; // rax
  common::milog::MiLogStream *v18; // r14
  common::milog::MiLogStream *v19; // rax
  common::milog::MiLogStream *v20; // r14
  int32_t result; // eax
  unsigned int v22; // [rsp+10h] [rbp-100h] BYREF
  unsigned int val; // [rsp+14h] [rbp-FCh] BYREF
  const proto::ServerHomeGetBlueprintBriefDataRsp *rsp_0; // [rsp+18h] [rbp-F8h]
  common::milog::MiLogStream v25; // [rsp+20h] [rbp-F0h] BYREF
  char v26[208]; // [rsp+40h] [rbp-D0h] BYREF

  v2 = (unsigned __int64)v26;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(160LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "4 48 4 8 ret:2829 64 16 12 rsp_ptr:2826 96 16 19 home_world_ptr:2827 128 16 13 home_ptr:2828";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerHomeGetBlueprintBriefDataRsp;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556943;
  v4[536862722] = -219021312;
  v4[536862723] = -219021312;
  v4[536862724] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::ServerHomeGetBlueprintBriefDataRsp>((common::minet::Packet *const)(v2 + 64));
  if ( std::operator==<proto::ServerHomeGetBlueprintBriefDataRsp const>(
         (const std::shared_ptr<const proto::ServerHomeGetBlueprintBriefDataRsp> *)(v2 + 64),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v25,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerHomeGetBlueprintBriefDataRsp",
      2826);
    common::milog::MiLogStream::operator()(&v25, off_26389F80);
    common::milog::MiLogStream::~MiLogStream(&v25);
    v5 = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerHomeGetBlueprintBriefDataRsp const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::ServerHomeGetBlueprintBriefDataRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96), 0LL);
    std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 128), 0LL);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    *(_DWORD *)(v2 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                             HomeComp,
                             (HomeWorldPtr *)(v2 + 96),
                             (HomePtr *)(v2 + 128));
    if ( *(_DWORD *)(v2 + 48)
      || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 96), 0LL)
      || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 128), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v25,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onServerHomeGetBlueprintBriefDataRsp",
        2832);
      v8 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
             &v25,
             (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
      v9 = common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v2 + 48));
      v10 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v9, (const char (*)[6])" uid:");
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      val = Player::getUid(this->player_);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v10, &val);
      common::milog::MiLogStream::~MiLogStream(&v25);
      if ( *(_DWORD *)(v2 + 48) )
        v5 = *(_DWORD *)(v2 + 48);
      else
        v5 = -1;
    }
    else
    {
      v11 = proto::ServerHomeGetBlueprintBriefDataRsp::reason(rsp_0);
      if ( v11 == HOME_GET_BLUEPRINT_BRIEF_REASON_FETCH )
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v12 = Player::getHomeComp(this->player_);
        *(_DWORD *)(v2 + 48) = PlayerHomeComp::onServerHomeGetBlueprintBriefDataRsp(v12, rsp_0);
      }
      else if ( v11 == HOME_GET_BLUEPRINT_BRIEF_REASON_SEARCH )
      {
        v13 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
        HomeUid = Home::getHomeUid(v13);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        if ( HomeUid == Player::getUid(this->player_) )
        {
          v16 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
          BlueprintComp = Home::getBlueprintComp(v16);
          *(_DWORD *)(v2 + 48) = HomeBlueprintComp::onServerHomeGetBlueprintBriefDataRsp(BlueprintComp, rsp_0);
        }
        else
        {
          common::milog::MiLogStream::create(
            &v25,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onServerHomeGetBlueprintBriefDataRsp",
            2846);
          v15 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
                  &v25,
                  (const char (*)[53])"[HOME_BLUEPRINT] player not in self home_world. uid:");
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          val = Player::getUid(this->player_);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v15, &val);
          common::milog::MiLogStream::~MiLogStream(&v25);
          *(_DWORD *)(v2 + 48) = 9714;
        }
      }
      else
      {
        common::milog::MiLogStream::create(
          &v25,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "onServerHomeGetBlueprintBriefDataRsp",
          2854);
        v18 = common::milog::MiLogStream::operator<<<char [32],(char *[32])0>(
                &v25,
                (const char (*)[32])"[HOME_BLUEPRINT] unknow reason:");
        v22 = proto::ServerHomeGetBlueprintBriefDataRsp::reason(rsp_0);
        v19 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v18, &v22);
        v20 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v19, (const char (*)[6])" uid:");
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        val = Player::getUid(this->player_);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v20, &val);
        common::milog::MiLogStream::~MiLogStream(&v25);
        *(_DWORD *)(v2 + 48) = -1;
      }
      v5 = *(_DWORD *)(v2 + 48);
    }
    std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 128));
    std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96));
  }
  std::shared_ptr<proto::ServerHomeGetBlueprintBriefDataRsp const>::~shared_ptr((std::shared_ptr<const proto::ServerHomeGetBlueprintBriefDataRsp> *const)(v2 + 64));
  result = v5;
  if ( v26 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = -168430091;
  }
  return result;
};

// Line 2862: range 0000000017CB321E-0000000017CB3822
int32_t __cdecl PlayerHomeHandler::onHomeSetBlueprintSlotOptionReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  bool isHomeBlueprintClosed; // r14
  common::milog::MiLogStream *v9; // rax
  int v10; // eax
  bool is_allow_copy; // r14
  uint32_t v12; // ecx
  google::protobuf::uint32 v13; // eax
  bool v14; // al
  int32_t result; // eax
  std::__shared_ptr_access<const proto::HomeSetBlueprintSlotOptionReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *req; // [rsp+10h] [rbp-120h]
  PlayerHomeComp *player_home_comp; // [rsp+18h] [rbp-118h]
  char v18[272]; // [rsp+20h] [rbp-110h] BYREF

  v2 = (unsigned __int64)v18;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(224LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "5 48 4 8 ret:2864 64 16 12 req_ptr:2863 96 16 19 home_world_ptr:2874 128 16 13 home_ptr:2875 160 32 8 rsp:2896";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onHomeSetBlueprintSlotOptionReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556943;
  v4[536862722] = -219021312;
  v4[536862723] = -219021312;
  v4[536862724] = -219021312;
  v4[536862726] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeSetBlueprintSlotOptionReq>((common::minet::Packet *const)(v2 + 64));
  if ( std::operator==<proto::HomeSetBlueprintSlotOptionReq const>(
         (const std::shared_ptr<const proto::HomeSetBlueprintSlotOptionReq> *)(v2 + 64),
         0LL) )
  {
    common::milog::MiLogStream::create(
      (common::milog::MiLogStream *)(v2 + 160),
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onHomeSetBlueprintSlotOptionReq",
      2863);
    common::milog::MiLogStream::operator()((common::milog::MiLogStream *const)(v2 + 160), off_2638A140);
    common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
    v5 = -1;
  }
  else
  {
    req = std::__shared_ptr_access<proto::HomeSetBlueprintSlotOptionReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSetBlueprintSlotOptionReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    *(_DWORD *)(v2 + 48) = 0;
    ServiceBox::findService<GameserverService>();
    GameserverService::getConfig((GameserverService *const)(v2 + 128));
    v6 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
    isHomeBlueprintClosed = FeatureSwitchMgr::isHomeBlueprintClosed(&v6->feature_switch_mgr);
    std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v2 + 128));
    if ( isHomeBlueprintClosed )
    {
      common::milog::MiLogStream::create(
        (common::milog::MiLogStream *)(v2 + 160),
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeSetBlueprintSlotOptionReq",
        2869);
      common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
        (common::milog::MiLogStream *const)(v2 + 160),
        (const char (*)[26])"home blueprint is closed.");
      common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
      *(_DWORD *)(v2 + 48) = 142;
    }
    else
    {
      std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96), 0LL);
      std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 128), 0LL);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      player_home_comp = Player::getHomeComp(this->player_);
      *(_DWORD *)(v2 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                               player_home_comp,
                               (HomeWorldPtr *)(v2 + 96),
                               (HomePtr *)(v2 + 128));
      if ( *(_DWORD *)(v2 + 48)
        || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 96), 0LL)
        || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 128), 0LL) )
      {
        common::milog::MiLogStream::create(
          (common::milog::MiLogStream *)(v2 + 160),
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeSetBlueprintSlotOptionReq",
          2880);
        v9 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
               (common::milog::MiLogStream *const)(v2 + 160),
               (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
        common::milog::MiLogStream::operator<<<int,(int *)0>(v9, (const int *)(v2 + 48));
        common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
        if ( *(_DWORD *)(v2 + 48) )
          v10 = *(_DWORD *)(v2 + 48);
        else
          v10 = -1;
        *(_DWORD *)(v2 + 48) = v10;
      }
      else if ( PlayerHomeComp::isInBlueprintSetOptionCD(player_home_comp) )
      {
        *(_DWORD *)(v2 + 48) = 9809;
      }
      else
      {
        is_allow_copy = proto::HomeSetBlueprintSlotOptionReq::is_allow_copy(req);
        v12 = proto::HomeSetBlueprintSlotOptionReq::slot_id(req);
        *(_DWORD *)(v2 + 48) = PlayerHomeComp::handleSetBlueprintSlotOptionReq(player_home_comp, v12, is_allow_copy);
      }
      std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 128));
      std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96));
    }
    if ( *(_DWORD *)(v2 + 48) )
    {
      proto::HomeSetBlueprintSlotOptionRsp::HomeSetBlueprintSlotOptionRsp((proto::HomeSetBlueprintSlotOptionRsp *const)(v2 + 160));
      proto::HomeSetBlueprintSlotOptionRsp::set_retcode(
        (proto::HomeSetBlueprintSlotOptionRsp *const)(v2 + 160),
        *(_DWORD *)(v2 + 48));
      v13 = proto::HomeSetBlueprintSlotOptionReq::slot_id(req);
      proto::HomeSetBlueprintSlotOptionRsp::set_slot_id((proto::HomeSetBlueprintSlotOptionRsp *const)(v2 + 160), v13);
      v14 = proto::HomeSetBlueprintSlotOptionReq::is_allow_copy(req);
      proto::HomeSetBlueprintSlotOptionRsp::set_is_allow_copy(
        (proto::HomeSetBlueprintSlotOptionRsp *const)(v2 + 160),
        v14);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 160));
      proto::HomeSetBlueprintSlotOptionRsp::~HomeSetBlueprintSlotOptionRsp((proto::HomeSetBlueprintSlotOptionRsp *const)(v2 + 160));
    }
    v5 = *(_DWORD *)(v2 + 48);
  }
  std::shared_ptr<proto::HomeSetBlueprintSlotOptionReq const>::~shared_ptr((std::shared_ptr<const proto::HomeSetBlueprintSlotOptionReq> *const)(v2 + 64));
  result = v5;
  if ( v18 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = -168430091;
  }
  return result;
};

// Line 2906: range 0000000017CB3824-0000000017CB3A29
int32_t __cdecl PlayerHomeHandler::onServerHomeUpdateBlueprintBriefDataRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // rbx
  __int64 v3; // rax
  unsigned __int64 v4; // r12
  int32_t updated; // r14d
  PlayerHomeComp *HomeComp; // rdx
  int32_t result; // eax
  std::__shared_ptr_access<const proto::ServerHomeUpdateBlueprintBriefDataRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+18h] [rbp-98h]
  common::milog::MiLogStream v9; // [rsp+20h] [rbp-90h] BYREF
  char v10[112]; // [rsp+40h] [rbp-70h] BYREF

  v2 = (unsigned __int64)v10;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_0(64LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "1 32 16 12 rsp_ptr:2907";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerHomeUpdateBlueprintBriefDataRsp;
  v4 = v2 >> 3;
  *(_DWORD *)(v4 + 2147450880) = -235802127;
  *(_DWORD *)(v4 + 2147450884) = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::ServerHomeUpdateBlueprintBriefDataRsp>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::ServerHomeUpdateBlueprintBriefDataRsp const>(
         (const std::shared_ptr<const proto::ServerHomeUpdateBlueprintBriefDataRsp> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v9,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerHomeUpdateBlueprintBriefDataRsp",
      2907);
    common::milog::MiLogStream::operator()(&v9, off_2638A1C0);
    common::milog::MiLogStream::~MiLogStream(&v9);
    updated = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerHomeUpdateBlueprintBriefDataRsp const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::ServerHomeUpdateBlueprintBriefDataRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    updated = PlayerHomeComp::onServerHomeUpdateBlueprintBriefDataRsp(HomeComp, rsp_0);
  }
  std::shared_ptr<proto::ServerHomeUpdateBlueprintBriefDataRsp const>::~shared_ptr((std::shared_ptr<const proto::ServerHomeUpdateBlueprintBriefDataRsp> *const)(v2 + 32));
  result = updated;
  if ( v10 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2912: range 0000000017CB3A2A-0000000017CB3F3C
int32_t __cdecl PlayerHomeHandler::onHomeSetBlueprintFriendOptionReq(
        PlayerHomeHandler *const this,
        const proto::HomeSetBlueprintFriendOptionReq *req,
        proto::HomeSetBlueprintFriendOptionRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  bool is_allow_friend_copy; // dl
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v7; // rax
  bool isHomeBlueprintClosed; // r14
  int32_t v9; // r14d
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v12; // rax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v13; // rax
  uint32_t HomeUid; // r14d
  Home *v15; // rax
  bool v16; // dl
  int32_t result; // eax
  HomeBlueprintComp *blueprint_comp; // [rsp+28h] [rbp-D8h]
  common::milog::MiLogStream v20; // [rsp+30h] [rbp-D0h] BYREF
  char v21[176]; // [rsp+50h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v21;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "3 48 4 8 ret:2921 64 16 19 home_world_ptr:2919 96 16 13 home_ptr:2920";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeSetBlueprintFriendOptionReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556943;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  is_allow_friend_copy = proto::HomeSetBlueprintFriendOptionReq::is_allow_friend_copy(req);
  proto::HomeSetBlueprintFriendOptionRsp::set_is_allow_friend_copy(rsp_0, is_allow_friend_copy);
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)(v3 + 96));
  v7 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
  isHomeBlueprintClosed = FeatureSwitchMgr::isHomeBlueprintClosed(&v7->feature_switch_mgr);
  std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v3 + 96));
  if ( isHomeBlueprintClosed )
  {
    common::milog::MiLogStream::create(
      &v20,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeSetBlueprintFriendOptionReq",
      2916);
    common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
      &v20,
      (const char (*)[26])"home blueprint is closed.");
    common::milog::MiLogStream::~MiLogStream(&v20);
    v9 = 142;
  }
  else
  {
    std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
    std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    *(_DWORD *)(v3 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                             HomeComp,
                             (HomeWorldPtr *)(v3 + 64),
                             (HomePtr *)(v3 + 96));
    if ( *(_DWORD *)(v3 + 48)
      || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
      || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v20,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeSetBlueprintFriendOptionReq",
        2924);
      v12 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
              &v20,
              (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
      common::milog::MiLogStream::operator<<<int,(int *)0>(v12, (const int *)(v3 + 48));
      common::milog::MiLogStream::~MiLogStream(&v20);
      if ( *(_DWORD *)(v3 + 48) )
        v9 = *(_DWORD *)(v3 + 48);
      else
        v9 = -1;
    }
    else
    {
      v13 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
      HomeUid = Home::getHomeUid(v13);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      if ( HomeUid == Player::getUid(this->player_) )
      {
        v15 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
        blueprint_comp = Home::getBlueprintComp(v15);
        v16 = proto::HomeSetBlueprintFriendOptionReq::is_allow_friend_copy(req);
        HomeBlueprintComp::setIsAllowFriendCopy(blueprint_comp, v16);
        HomeBlueprintComp::notifyBlueprintInfoToAll(blueprint_comp);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        HomeBlueprintComp::logSetIsAllowFriendCopy(blueprint_comp, this->player_);
        v9 = 0;
      }
      else
      {
        common::milog::MiLogStream::create(
          &v20,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeSetBlueprintFriendOptionReq",
          2929);
        common::milog::MiLogStream::operator<<<char [48],(char *[48])0>(
          &v20,
          (const char (*)[48])"[HOME_BLUEPRINT] player not in self home_world.");
        common::milog::MiLogStream::~MiLogStream(&v20);
        v9 = 9714;
      }
    }
    std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
    std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  }
  result = v9;
  if ( v21 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 2940: range 0000000017CB3F3E-0000000017CB46B8
int32_t __cdecl PlayerHomeHandler::onHomePreviewBlueprintReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  bool isHomeBlueprintClosed; // r14
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v10; // rax
  int v11; // eax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v12; // rax
  uint32_t HomeUid; // r14d
  Home *v14; // rax
  HomeBasicComp *BasicComp; // rax
  Home *v16; // rax
  HomeBlueprintComp *BlueprintComp; // r14
  const std::string *v18; // rax
  const std::string *v19; // rax
  int32_t result; // eax
  std::__shared_ptr_access<const proto::HomePreviewBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *req; // [rsp+18h] [rbp-138h]
  common::milog::MiLogStream v22; // [rsp+20h] [rbp-130h] BYREF
  char v23[272]; // [rsp+40h] [rbp-110h] BYREF

  v2 = (unsigned __int64)v23;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(224LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "5 32 4 8 ret:2942 48 16 12 req_ptr:2941 80 16 19 home_world_ptr:2952 112 16 13 home_ptr:2953 144 40 8 rsp:2981";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onHomePreviewBlueprintReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = 61956;
  v4[536862722] = 62194;
  v4[536862723] = 62194;
  v4[536862724] = 62194;
  v4[536862725] = -218103808;
  v4[536862726] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomePreviewBlueprintReq>((common::minet::Packet *const)(v2 + 48));
  if ( std::operator==<proto::HomePreviewBlueprintReq const>(
         (const std::shared_ptr<const proto::HomePreviewBlueprintReq> *)(v2 + 48),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v22,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onHomePreviewBlueprintReq",
      2941);
    common::milog::MiLogStream::operator()(&v22, off_2638A400);
    common::milog::MiLogStream::~MiLogStream(&v22);
    v5 = -1;
  }
  else
  {
    req = std::__shared_ptr_access<proto::HomePreviewBlueprintReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomePreviewBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 48));
    *(_DWORD *)(v2 + 32) = 0;
    ServiceBox::findService<GameserverService>();
    GameserverService::getConfig((GameserverService *const)(v2 + 112));
    v6 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 112));
    isHomeBlueprintClosed = FeatureSwitchMgr::isHomeBlueprintClosed(&v6->feature_switch_mgr);
    std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v2 + 112));
    if ( isHomeBlueprintClosed )
    {
      common::milog::MiLogStream::create(
        &v22,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomePreviewBlueprintReq",
        2947);
      common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
        &v22,
        (const char (*)[26])"home blueprint is closed.");
      common::milog::MiLogStream::~MiLogStream(&v22);
      *(_DWORD *)(v2 + 32) = 142;
    }
    else
    {
      std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 80), 0LL);
      std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 112), 0LL);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      HomeComp = Player::getHomeComp(this->player_);
      *(_DWORD *)(v2 + 32) = PlayerHomeComp::getCurHomeWorldAndHome(
                               HomeComp,
                               (HomeWorldPtr *)(v2 + 80),
                               (HomePtr *)(v2 + 112));
      if ( *(_DWORD *)(v2 + 32)
        || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 80), 0LL)
        || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 112), 0LL) )
      {
        common::milog::MiLogStream::create(
          &v22,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomePreviewBlueprintReq",
          2957);
        v10 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
                &v22,
                (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
        common::milog::MiLogStream::operator<<<int,(int *)0>(v10, (const int *)(v2 + 32));
        common::milog::MiLogStream::~MiLogStream(&v22);
        if ( *(_DWORD *)(v2 + 32) )
          v11 = *(_DWORD *)(v2 + 32);
        else
          v11 = -1;
        *(_DWORD *)(v2 + 32) = v11;
      }
      else
      {
        v12 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 112));
        HomeUid = Home::getHomeUid(v12);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        if ( HomeUid == Player::getUid(this->player_) )
        {
          v14 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 112));
          BasicComp = Home::getBasicComp(v14);
          if ( !HomeBasicComp::getIsInEditMode(BasicComp) )
          {
            common::milog::MiLogStream::create(
              &v22,
              &common::milog::MiLogDefault::default_log_obj_,
              3u,
              "./src/handler/player_home_handler.cpp",
              "onHomePreviewBlueprintReq",
              2972);
            common::milog::MiLogStream::operator<<<char [42],(char *[42])0>(
              &v22,
              (const char (*)[42])"[HOME_BLUEPRINT] preview not in edit mode");
            common::milog::MiLogStream::~MiLogStream(&v22);
            *(_DWORD *)(v2 + 32) = 9709;
          }
          else
          {
            v16 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 112));
            BlueprintComp = Home::getBlueprintComp(v16);
            v18 = proto::HomePreviewBlueprintReq::share_code[abi:cxx11](req);
            *(_DWORD *)(v2 + 32) = HomeBlueprintComp::onPreviewBlueprintReq(BlueprintComp, v18);
          }
        }
        else
        {
          common::milog::MiLogStream::create(
            &v22,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomePreviewBlueprintReq",
            2964);
          common::milog::MiLogStream::operator<<<char [48],(char *[48])0>(
            &v22,
            (const char (*)[48])"[HOME_BLUEPRINT] player not in self home_world.");
          common::milog::MiLogStream::~MiLogStream(&v22);
          *(_DWORD *)(v2 + 32) = 9714;
        }
      }
      std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 112));
      std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 80));
    }
    if ( *(_DWORD *)(v2 + 32) )
    {
      proto::HomePreviewBlueprintRsp::HomePreviewBlueprintRsp((proto::HomePreviewBlueprintRsp *const)(v2 + 144));
      proto::HomePreviewBlueprintRsp::set_retcode(
        (proto::HomePreviewBlueprintRsp *const)(v2 + 144),
        *(_DWORD *)(v2 + 32));
      v19 = proto::HomePreviewBlueprintReq::share_code[abi:cxx11](req);
      proto::HomePreviewBlueprintRsp::set_share_code((proto::HomePreviewBlueprintRsp *const)(v2 + 144), v19);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 144));
      proto::HomePreviewBlueprintRsp::~HomePreviewBlueprintRsp((proto::HomePreviewBlueprintRsp *const)(v2 + 144));
    }
    v5 = *(_DWORD *)(v2 + 32);
  }
  std::shared_ptr<proto::HomePreviewBlueprintReq const>::~shared_ptr((std::shared_ptr<const proto::HomePreviewBlueprintReq> *const)(v2 + 48));
  result = v5;
  if ( v23 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = -168430091;
  }
  return result;
};

// Line 2990: range 0000000017CB46BA-0000000017CB4AEC
int32_t __cdecl PlayerHomeHandler::onServerHomeGetBlueprintDetailDataRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v8; // rax
  common::milog::MiLogStream *v9; // rax
  common::milog::MiLogStream *v10; // r14
  Home *v11; // rax
  HomeBlueprintComp *BlueprintComp; // rax
  int32_t result; // eax
  unsigned int val; // [rsp+14h] [rbp-FCh] BYREF
  const proto::ServerHomeGetBlueprintDetailDataRsp *rsp_0; // [rsp+18h] [rbp-F8h]
  common::milog::MiLogStream v16; // [rsp+20h] [rbp-F0h] BYREF
  char v17[208]; // [rsp+40h] [rbp-D0h] BYREF

  v2 = (unsigned __int64)v17;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(160LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "4 48 4 8 ret:2994 64 16 12 rsp_ptr:2991 96 16 19 home_world_ptr:2992 128 16 13 home_ptr:2993";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerHomeGetBlueprintDetailDataRsp;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556943;
  v4[536862722] = -219021312;
  v4[536862723] = -219021312;
  v4[536862724] = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::ServerHomeGetBlueprintDetailDataRsp>((common::minet::Packet *const)(v2 + 64));
  if ( std::operator==<proto::ServerHomeGetBlueprintDetailDataRsp const>(
         (const std::shared_ptr<const proto::ServerHomeGetBlueprintDetailDataRsp> *)(v2 + 64),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v16,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerHomeGetBlueprintDetailDataRsp",
      2991);
    common::milog::MiLogStream::operator()(&v16, off_2638A580);
    common::milog::MiLogStream::~MiLogStream(&v16);
    v5 = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerHomeGetBlueprintDetailDataRsp const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::ServerHomeGetBlueprintDetailDataRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96), 0LL);
    std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 128), 0LL);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    *(_DWORD *)(v2 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                             HomeComp,
                             (HomeWorldPtr *)(v2 + 96),
                             (HomePtr *)(v2 + 128));
    if ( *(_DWORD *)(v2 + 48)
      || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 96), 0LL)
      || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 128), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v16,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onServerHomeGetBlueprintDetailDataRsp",
        2997);
      v8 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
             &v16,
             (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
      v9 = common::milog::MiLogStream::operator<<<int,(int *)0>(v8, (const int *)(v2 + 48));
      v10 = common::milog::MiLogStream::operator<<<char [6],(char *[6])0>(v9, (const char (*)[6])" uid:");
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      val = Player::getUid(this->player_);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v10, &val);
      common::milog::MiLogStream::~MiLogStream(&v16);
      if ( *(_DWORD *)(v2 + 48) )
        v5 = *(_DWORD *)(v2 + 48);
      else
        v5 = -1;
    }
    else
    {
      v11 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
      BlueprintComp = Home::getBlueprintComp(v11);
      *(_DWORD *)(v2 + 48) = HomeBlueprintComp::onServerHomeGetBlueprintDetailDataRsp(BlueprintComp, rsp_0);
      v5 = *(_DWORD *)(v2 + 48);
    }
    std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 128));
    std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96));
  }
  std::shared_ptr<proto::ServerHomeGetBlueprintDetailDataRsp const>::~shared_ptr((std::shared_ptr<const proto::ServerHomeGetBlueprintDetailDataRsp> *const)(v2 + 64));
  result = v5;
  if ( v17 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = -168430091;
  }
  return result;
};

// Line 3005: range 0000000017CB4AEE-0000000017CB631C
int32_t __cdecl PlayerHomeHandler::checkArrangementDataNoPlayer(const HomeSceneArrangementData *arrangement_data)
{
  int32_t v1; // r13d
  unsigned __int64 v2; // r14
  __int64 v3; // rax
  _DWORD *v4; // r12
  common::milog::MiLogStream *v5; // rax
  common::milog::MiLogStream *v6; // rax
  common::milog::MiLogStream *v7; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v8; // rax
  common::milog::MiLogStream *v9; // rax
  common::milog::MiLogStream *v10; // rax
  common::milog::MiLogStream *v11; // rax
  int v12; // r15d
  std::map<unsigned int,unsigned int>::mapped_type *v13; // rax
  common::milog::MiLogStream *v14; // rax
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // rax
  int v17; // r15d
  std::map<unsigned int,unsigned int>::mapped_type *v18; // rdx
  common::milog::MiLogStream *v19; // rax
  common::milog::MiLogStream *v20; // rax
  common::milog::MiLogStream *v21; // rax
  common::milog::MiLogStream *v22; // rax
  common::milog::MiLogStream *v23; // r13
  std::map<unsigned int,unsigned int>::mapped_type *v24; // rax
  std::vector<HomeFurnitureCustomSuiteData>::size_type v25; // r15
  __gnu_cxx::__normal_iterator<int const*,std::vector<int> >::reference v27; // rdx
  std::pair<std::_Rb_tree_const_iterator<int>,bool> v28; // rax
  common::milog::MiLogStream *v29; // rax
  common::milog::MiLogStream *v30; // rax
  common::milog::MiLogStream *v31; // rax
  __gnu_cxx::__normal_iterator<int const*,std::vector<int> >::reference v32; // rdx
  std::pair<std::_Rb_tree_const_iterator<int>,bool> v33; // rax
  common::milog::MiLogStream *v34; // rax
  common::milog::MiLogStream *v35; // rax
  common::milog::MiLogStream *v36; // rax
  int v37; // r15d
  int v38; // r15d
  common::milog::MiLogStream *v40; // rax
  common::milog::MiLogStream *v41; // rax
  common::milog::MiLogStream *v42; // rax
  common::milog::MiLogStream *v43; // rax
  common::milog::MiLogStream *v44; // r13
  common::milog::MiLogStream *v45; // rax
  common::milog::MiLogStream *v46; // r13
  common::milog::MiLogStream *v47; // rax
  common::milog::MiLogStream *v48; // rax
  common::milog::MiLogStream *v49; // rax
  common::milog::MiLogStream *v50; // rax
  common::milog::MiLogStream *v51; // rax
  const HomeFurnitureData *v52; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v53; // rdx
  common::milog::MiLogStream *v54; // rax
  common::milog::MiLogStream *v55; // rax
  common::milog::MiLogStream *v56; // r13
  const HomeFurnitureData *v57; // rax
  common::milog::MiLogStream *v58; // rax
  common::milog::MiLogStream *v59; // r13
  const HomeFurnitureData *v60; // rax
  std::map<unsigned int,unsigned int>::mapped_type *v61; // rax
  HomeWorldExcelConfigMgr *p_home_config_mgr; // r13
  const HomeFurnitureData *v63; // rdx
  common::milog::MiLogStream *v64; // rax
  common::milog::MiLogStream *v65; // rax
  common::milog::MiLogStream *v66; // r13
  const HomeFurnitureData *v67; // rax
  uint32_t v68; // ecx
  int32_t result; // eax
  data::SceneType scene_type; // [rsp+1Ch] [rbp-274h]
  std::map<unsigned int,HomeBlockData>::const_iterator __for_begin; // [rsp+20h] [rbp-270h] BYREF
  std::map<unsigned int,HomeBlockData>::const_iterator __for_end; // [rsp+28h] [rbp-268h] BYREF
  std::vector<HomeFurnitureSuiteData>::const_iterator __for_begin_1; // [rsp+30h] [rbp-260h] BYREF
  std::vector<HomeFurnitureSuiteData>::const_iterator __for_end_1; // [rsp+38h] [rbp-258h] BYREF
  std::vector<HomeFurnitureData>::const_iterator __for_begin_0; // [rsp+40h] [rbp-250h] BYREF
  std::vector<HomeFurnitureData>::const_iterator __for_end_0; // [rsp+48h] [rbp-248h] BYREF
  const TxtConfigMgr *txt_config_mgr; // [rsp+50h] [rbp-240h]
  const JsonConfigMgr *json_config_mgr; // [rsp+58h] [rbp-238h]
  const std::map<unsigned int,HomeBlockData> *__for_range; // [rsp+60h] [rbp-230h]
  std::map<unsigned int,unsigned int> *__for_range_6; // [rsp+68h] [rbp-228h]
  std::pair<unsigned int const,unsigned int> *__in; // [rsp+70h] [rbp-220h]
  std::tuple_element<0,std::pair<unsigned int const,unsigned int> >::type *furniture_id; // [rsp+78h] [rbp-218h]
  std::tuple_element<1,std::pair<unsigned int const,unsigned int> >::type *count; // [rsp+80h] [rbp-210h]
  const std::pair<unsigned int const,HomeBlockData> *v84; // [rsp+88h] [rbp-208h]
  std::tuple_element<0,const std::pair<unsigned int const,HomeBlockData> >::type *block_id; // [rsp+90h] [rbp-200h]
  std::tuple_element<1,const std::pair<unsigned int const,HomeBlockData> >::type *block_data; // [rsp+98h] [rbp-1F8h]
  const std::vector<HomeFurnitureData> *__for_range_0; // [rsp+A0h] [rbp-1F0h]
  const std::vector<HomeFurnitureData> *__for_range_1; // [rsp+A8h] [rbp-1E8h]
  const std::vector<HomeFurnitureSuiteData> *__for_range_2; // [rsp+B0h] [rbp-1E0h]
  const std::vector<HomeFurnitureCustomSuiteData> *__for_range_4; // [rsp+B8h] [rbp-1D8h]
  const HomeFurnitureCustomSuiteData *suite_0; // [rsp+C0h] [rbp-1D0h]
  const std::vector<int> *__for_range_5; // [rsp+C8h] [rbp-1C8h]
  const HomeFurnitureSuiteData *suite; // [rsp+D0h] [rbp-1C0h]
  const std::vector<int> *__for_range_3; // [rsp+D8h] [rbp-1B8h]
  const HomeFurnitureData *furniture_0; // [rsp+E0h] [rbp-1B0h]
  const HomeFurnitureData *furniture; // [rsp+E8h] [rbp-1A8h]
  std::shared_ptr<Config> v97; // [rsp+F0h] [rbp-1A0h] BYREF
  common::milog::MiLogStream v98; // [rsp+100h] [rbp-190h] BYREF
  char v99[368]; // [rsp+120h] [rbp-170h] BYREF

  v2 = (unsigned __int64)v99;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_3(320LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "10 32 4 8 ret:3008 48 4 30 block_furniture_num_limit:3018 64 4 13 scene_id:3019 80 4 26 furnitur"
                        "e_suite_count:3040 96 4 26 furniture_group_count:3041 112 4 22 suite_furnitue_id:3043 128 4 24 b"
                        "lock_furniture_num:3124 144 4 18 room_scene_id:3166 160 48 27 furniture_id_count_map:3042 240 48"
                        " 33 furniture_index_in_suite_set:3046";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::checkArrangementDataNoPlayer;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556924;
  v4[536862722] = -234556924;
  v4[536862723] = -234556924;
  v4[536862724] = -234556924;
  v4[536862726] = -219021312;
  v4[536862727] = 62194;
  v4[536862729] = -202116109;
  *(_DWORD *)(v2 + 32) = HomeSceneArrangementData::checkValid(arrangement_data);
  if ( *(_DWORD *)(v2 + 32) )
  {
    common::milog::MiLogStream::create(
      &v98,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "checkArrangementDataNoPlayer",
      3011);
    v5 = common::milog::MiLogStream::operator<<<char [39],(char *[39])0>(
           &v98,
           (const char (*)[39])"arrangement data checkValid fail. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v5, (const int *)(v2 + 32));
    common::milog::MiLogStream::~MiLogStream(&v98);
    v1 = *(_DWORD *)(v2 + 32);
    goto LABEL_102;
  }
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)&v97);
  txt_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v97)->design_config.txt_config_mgr;
  std::shared_ptr<Config>::~shared_ptr(&v97);
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)&v97);
  json_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v97)->design_config.json_config_mgr;
  std::shared_ptr<Config>::~shared_ptr(&v97);
  *(_DWORD *)(v2 + 48) = 0;
  if ( *(_BYTE *)(((unsigned __int64)arrangement_data >> 3) + 0x7FFF8000) != 0
    && *(_BYTE *)(((unsigned __int64)arrangement_data >> 3) + 0x7FFF8000) <= 3 )
  {
    __asan_report_load4();
  }
  *(_DWORD *)(v2 + 64) = arrangement_data->scene_id;
  scene_type = SceneExcelConfigMgr::getSceneTypeBySceneId(&txt_config_mgr->scene_config_mgr, *(_DWORD *)(v2 + 64));
  if ( scene_type == SCENE_HOME_WORLD )
  {
    *(_DWORD *)(v2 + 48) = ConstValueExcelConfigMgr::getHomeWorldBlockFurnitureLimit(&txt_config_mgr->const_value_config_mgr);
  }
  else
  {
    if ( scene_type != SCENE_HOME_ROOM )
    {
      common::milog::MiLogStream::create(
        &v98,
        &common::milog::MiLogDefault::default_log_obj_,
        3u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementDataNoPlayer",
        3036);
      v7 = common::milog::MiLogStream::operator<<<char [56],(char *[56])0>(
             &v98,
             (const char (*)[56])"scene is not home world scene nor room scene, scene_id:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v7, (const unsigned int *)(v2 + 64));
      common::milog::MiLogStream::~MiLogStream(&v98);
      v1 = -1;
      goto LABEL_102;
    }
    *(_DWORD *)(v2 + 48) = ConstValueExcelConfigMgr::getHomeRoomBlockFurnitureLimit(&txt_config_mgr->const_value_config_mgr);
    if ( std::optional<HomeFurnitureData>::has_value(&arrangement_data->main_house) )
    {
      common::milog::MiLogStream::create(
        &v98,
        &common::milog::MiLogDefault::default_log_obj_,
        3u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementDataNoPlayer",
        3030);
      v6 = common::milog::MiLogStream::operator<<<char [43],(char *[43])0>(
             &v98,
             (const char (*)[43])"home room scene have main_house, scene_id:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v6, (const unsigned int *)(v2 + 64));
      common::milog::MiLogStream::~MiLogStream(&v98);
      v1 = -1;
      goto LABEL_102;
    }
  }
  *(_DWORD *)(v2 + 80) = 0;
  *(_DWORD *)(v2 + 96) = 0;
  std::map<unsigned int,unsigned int>::map((std::map<unsigned int,unsigned int> *const)(v2 + 160));
  *(_DWORD *)(v2 + 112) = ConstValueExcelConfigMgr::getHomeSuiteFurnitureID(&txt_config_mgr->const_value_config_mgr);
  __for_range = &arrangement_data->block_data_map;
  __for_begin._M_node = std::map<unsigned int,HomeBlockData>::begin(&arrangement_data->block_data_map)._M_node;
  __for_end._M_node = std::map<unsigned int,HomeBlockData>::end(&arrangement_data->block_data_map)._M_node;
  while ( std::operator!=(&__for_begin, &__for_end) )
  {
    v84 = std::_Rb_tree_const_iterator<std::pair<unsigned int const,HomeBlockData>>::operator*(&__for_begin);
    block_id = std::get<0ul,unsigned int const,HomeBlockData>(v84);
    block_data = (std::tuple_element<1,const std::pair<unsigned int const,HomeBlockData> >::type *)std::get<1ul,unsigned int const,HomeBlockData>(v84);
    std::set<int>::set((std::set<int> *const)(v2 + 240));
    __for_range_0 = &block_data->persistent_furniture_vec;
    __for_begin_0._M_current = std::vector<HomeFurnitureData>::begin(&block_data->persistent_furniture_vec)._M_current;
    __for_end_0._M_current = std::vector<HomeFurnitureData>::end(__for_range_0)._M_current;
    while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(&__for_begin_0, &__for_end_0) )
    {
      furniture = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin_0);
      v8 = std::map<unsigned int,unsigned int>::operator[](
             (std::map<unsigned int,unsigned int> *const)(v2 + 160),
             &furniture->furniture_id);
      if ( *(_BYTE *)(((unsigned __int64)v8 >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)v8 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v8 >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      ++*v8;
      if ( !HomeFurnitureData::isValid(furniture) )
      {
        common::milog::MiLogStream::create(
          &v98,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "checkArrangementDataNoPlayer",
          3053);
        v9 = common::milog::MiLogStream::operator<<<char [34],(char *[34])0>(&v98, (const char (*)[34])off_2638A8A0);
        v10 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v9, &furniture->furniture_id);
        v11 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v10, (const char (*)[7])" guid:");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v11, &furniture->guid);
        common::milog::MiLogStream::~MiLogStream(&v98);
        v1 = 551;
        v12 = 0;
        goto LABEL_80;
      }
      __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin_0);
    }
    __for_range_1 = &block_data->deploy_furniure_vec;
    __for_begin_0._M_current = std::vector<HomeFurnitureData>::begin(&block_data->deploy_furniure_vec)._M_current;
    __for_end_0._M_current = std::vector<HomeFurnitureData>::end(__for_range_1)._M_current;
    while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(&__for_begin_0, &__for_end_0) )
    {
      furniture_0 = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin_0);
      v13 = std::map<unsigned int,unsigned int>::operator[](
              (std::map<unsigned int,unsigned int> *const)(v2 + 160),
              &furniture_0->furniture_id);
      if ( *(_BYTE *)(((unsigned __int64)v13 >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)v13 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v13 >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      ++*v13;
      if ( !HomeFurnitureData::isValid(furniture_0) )
      {
        common::milog::MiLogStream::create(
          &v98,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "checkArrangementDataNoPlayer",
          3062);
        v14 = common::milog::MiLogStream::operator<<<char [34],(char *[34])0>(&v98, (const char (*)[34])off_2638A8A0);
        v15 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v14, &furniture_0->furniture_id);
        v16 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v15, (const char (*)[7])" guid:");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v16, &furniture_0->guid);
        common::milog::MiLogStream::~MiLogStream(&v98);
        v1 = 551;
        v12 = 0;
        goto LABEL_80;
      }
      __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin_0);
    }
    *(_DWORD *)(v2 + 32) = HomeBlockData::checkLoadCost(block_data);
    if ( *(_DWORD *)(v2 + 32) )
    {
      v1 = *(_DWORD *)(v2 + 32);
      v12 = 0;
    }
    else
    {
      *(_DWORD *)(v2 + 32) = HomeBlockData::checkFurnitureSuiteValid(block_data);
      if ( *(_DWORD *)(v2 + 32) )
      {
        v1 = *(_DWORD *)(v2 + 32);
        v12 = 0;
      }
      else
      {
        *(_DWORD *)(v2 + 32) = HomeBlockData::checkFurnitureCustomSuiteValid(block_data);
        if ( *(_DWORD *)(v2 + 32) )
        {
          v1 = *(_DWORD *)(v2 + 32);
          v12 = 0;
        }
        else
        {
          v17 = std::vector<HomeFurnitureSuiteData>::size(&block_data->furniure_suite_vec);
          *(_DWORD *)(v2 + 80) += v17
                                + std::vector<HomeFurnitureCustomSuiteData>::size(&block_data->furniture_custom_suite_vec);
          v18 = std::map<unsigned int,unsigned int>::operator[](
                  (std::map<unsigned int,unsigned int> *const)(v2 + 160),
                  (const std::map<unsigned int,unsigned int>::key_type *)(v2 + 112));
          if ( *(_BYTE *)(((unsigned __int64)v18 >> 3) + 0x7FFF8000) != 0
            && (char)(((unsigned __int8)v18 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v18 >> 3) + 0x7FFF8000) )
          {
            __asan_report_load4();
          }
          if ( *v18 == *(_DWORD *)(v2 + 80) )
          {
            if ( std::vector<HomeFurnitureCustomSuiteData>::size(&block_data->furniture_custom_suite_vec) > *(unsigned int *)(v2 + 48)
              || (v25 = std::vector<HomeFurnitureCustomSuiteData>::size(&block_data->furniture_custom_suite_vec),
                  v25 > ConstValueExcelConfigMgr::getHomeFurnitureCustomSuiteNumLimit(&txt_config_mgr->const_value_config_mgr)) )
            {
              v1 = 9790;
              v12 = 0;
            }
            else
            {
              __for_range_2 = &block_data->furniure_suite_vec;
              __for_begin_1._M_current = std::vector<HomeFurnitureSuiteData>::begin(&block_data->furniure_suite_vec)._M_current;
              __for_end_1._M_current = std::vector<HomeFurnitureSuiteData>::end(__for_range_2)._M_current;
              while ( __gnu_cxx::operator!=<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>(
                        &__for_begin_1,
                        &__for_end_1) )
              {
                suite = __gnu_cxx::__normal_iterator<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>::operator*(&__for_begin_1);
                __for_range_3 = &suite->included_furniture_index_vec;
                __for_begin_0._M_current = (const HomeFurnitureData *)std::vector<int>::begin(&suite->included_furniture_index_vec)._M_current;
                __for_end_0._M_current = (const HomeFurnitureData *)std::vector<int>::end(__for_range_3)._M_current;
                while ( __gnu_cxx::operator!=<int const*,std::vector<int>>(
                          (const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *)&__for_begin_0,
                          (const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *)&__for_end_0) )
                {
                  v27 = __gnu_cxx::__normal_iterator<int const*,std::vector<int>>::operator*((const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *const)&__for_begin_0);
                  if ( *(_BYTE *)(((unsigned __int64)v27 >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)v27 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v27 >> 3) + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  *(_DWORD *)(v2 + 144) = *v27;
                  v28 = std::set<int>::insert(
                          (std::set<int> *const)(v2 + 240),
                          (const std::set<int>::value_type *)(v2 + 144));
                  if ( !v28.second )
                  {
                    common::milog::MiLogStream::create(
                      &v98,
                      &common::milog::MiLogDefault::default_log_obj_,
                      3u,
                      "./src/handler/player_home_handler.cpp",
                      "checkArrangementDataNoPlayer",
                      3106);
                    v29 = common::milog::MiLogStream::operator<<<char [27],(char *[27])0>(
                            &v98,
                            (const char (*)[27])"duplicate furniture_index:");
                    v30 = common::milog::MiLogStream::operator<<<int,(int *)0>(v29, (const int *)(v2 + 144));
                    v31 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                            v30,
                            (const char (*)[7])" guid:");
                    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v31, &suite->guid);
                    common::milog::MiLogStream::~MiLogStream(&v98);
                    v1 = 9786;
                    v12 = 0;
                    goto LABEL_80;
                  }
                  __gnu_cxx::__normal_iterator<int const*,std::vector<int>>::operator++((__gnu_cxx::__normal_iterator<int const*,std::vector<int> > *const)&__for_begin_0);
                }
                __gnu_cxx::__normal_iterator<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>::operator++(&__for_begin_1);
              }
              __for_range_4 = &block_data->furniture_custom_suite_vec;
              __for_begin_1._M_current = (const HomeFurnitureSuiteData *)std::vector<HomeFurnitureCustomSuiteData>::begin(&block_data->furniture_custom_suite_vec)._M_current;
              __for_end_1._M_current = (const HomeFurnitureSuiteData *)std::vector<HomeFurnitureCustomSuiteData>::end(__for_range_4)._M_current;
              while ( __gnu_cxx::operator!=<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>(
                        (const __gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *)&__for_begin_1,
                        (const __gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *)&__for_end_1) )
              {
                suite_0 = __gnu_cxx::__normal_iterator<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *const)&__for_begin_1);
                __for_range_5 = &suite_0->included_furniture_index_vec;
                __for_begin_0._M_current = (const HomeFurnitureData *)std::vector<int>::begin(&suite_0->included_furniture_index_vec)._M_current;
                __for_end_0._M_current = (const HomeFurnitureData *)std::vector<int>::end(__for_range_5)._M_current;
                while ( __gnu_cxx::operator!=<int const*,std::vector<int>>(
                          (const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *)&__for_begin_0,
                          (const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *)&__for_end_0) )
                {
                  v32 = __gnu_cxx::__normal_iterator<int const*,std::vector<int>>::operator*((const __gnu_cxx::__normal_iterator<int const*,std::vector<int> > *const)&__for_begin_0);
                  if ( *(_BYTE *)(((unsigned __int64)v32 >> 3) + 0x7FFF8000) != 0
                    && (char)(((unsigned __int8)v32 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v32 >> 3) + 0x7FFF8000) )
                  {
                    __asan_report_load4();
                  }
                  *(_DWORD *)(v2 + 144) = *v32;
                  v33 = std::set<int>::insert(
                          (std::set<int> *const)(v2 + 240),
                          (const std::set<int>::value_type *)(v2 + 144));
                  if ( !v33.second )
                  {
                    common::milog::MiLogStream::create(
                      &v98,
                      &common::milog::MiLogDefault::default_log_obj_,
                      3u,
                      "./src/handler/player_home_handler.cpp",
                      "checkArrangementDataNoPlayer",
                      3117);
                    v34 = common::milog::MiLogStream::operator<<<char [27],(char *[27])0>(
                            &v98,
                            (const char (*)[27])"duplicate furniture_index:");
                    v35 = common::milog::MiLogStream::operator<<<int,(int *)0>(v34, (const int *)(v2 + 144));
                    v36 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(
                            v35,
                            (const char (*)[7])" guid:");
                    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v36, &suite_0->guid);
                    common::milog::MiLogStream::~MiLogStream(&v98);
                    v1 = 9786;
                    v12 = 0;
                    goto LABEL_80;
                  }
                  __gnu_cxx::__normal_iterator<int const*,std::vector<int>>::operator++((__gnu_cxx::__normal_iterator<int const*,std::vector<int> > *const)&__for_begin_0);
                }
                __gnu_cxx::__normal_iterator<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>::operator++((__gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *const)&__for_begin_1);
              }
              *(_DWORD *)(v2 + 128) = std::vector<HomeFurnitureData>::size(&block_data->deploy_furniure_vec);
              v37 = std::vector<HomeFurnitureSuiteData>::size(&block_data->furniure_suite_vec);
              v38 = std::vector<HomeFurnitureCustomSuiteData>::size(&block_data->furniture_custom_suite_vec) + v37;
              *(_DWORD *)(v2 + 144) = v38 + std::vector<HomeNpcData>::size(&block_data->deploy_npc_vec);
              if ( *(_DWORD *)(v2 + 128) < *(_DWORD *)(v2 + 144)
                || (unsigned int)(*(_DWORD *)(v2 + 128) - *(_DWORD *)(v2 + 144)) > *(_DWORD *)(v2 + 48)
                || std::vector<HomeFurnitureSuiteData>::size(&block_data->furniure_suite_vec) > *(unsigned int *)(v2 + 48) )
              {
                common::milog::MiLogStream::create(
                  &v98,
                  &common::milog::MiLogDefault::default_log_obj_,
                  3u,
                  "./src/handler/player_home_handler.cpp",
                  "checkArrangementDataNoPlayer",
                  3131);
                v40 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(
                        &v98,
                        (const char (*)[11])"block_id: ");
                v41 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v40, block_id);
                v42 = common::milog::MiLogStream::operator<<<char [22],(char *[22])0>(
                        v41,
                        (const char (*)[22])" block_furniture_num:");
                v43 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                        v42,
                        (const unsigned int *)(v2 + 128));
                v44 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(
                        v43,
                        (const char (*)[12])" suite_num:");
                __for_begin_0._M_current = (const HomeFurnitureData *)std::vector<HomeFurnitureSuiteData>::size(&block_data->furniure_suite_vec);
                v45 = common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(
                        v44,
                        (const unsigned __int64 *)&__for_begin_0);
                v46 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(
                        v45,
                        (const char (*)[10])" npc_num:");
                __for_end_0._M_current = (const HomeFurnitureData *)std::vector<HomeNpcData>::size(&block_data->deploy_npc_vec);
                v47 = common::milog::MiLogStream::operator<<<unsigned long,(unsigned long *)0>(
                        v46,
                        (const unsigned __int64 *)&__for_end_0);
                v48 = common::milog::MiLogStream::operator<<<char [23],(char *[23])0>(
                        v47,
                        (const char (*)[23])" beside_furniture_num:");
                v49 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                        v48,
                        (const unsigned int *)(v2 + 144));
                v50 = common::milog::MiLogStream::operator<<<char [28],(char *[28])0>(
                        v49,
                        (const char (*)[28])" block_furniture_num_limit:");
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v50,
                  (const unsigned int *)(v2 + 48));
                common::milog::MiLogStream::~MiLogStream(&v98);
                v1 = 9733;
                v12 = 0;
              }
              else
              {
                *(_DWORD *)(v2 + 32) = HomeBlockData::checkFieldValid(block_data);
                if ( *(_DWORD *)(v2 + 32) )
                {
                  v1 = *(_DWORD *)(v2 + 32);
                  v12 = 0;
                }
                else
                {
                  *(_DWORD *)(v2 + 32) = HomeBlockData::checkFurnitureGroupValid(block_data);
                  if ( *(_DWORD *)(v2 + 32) )
                  {
                    v1 = *(_DWORD *)(v2 + 32);
                    v12 = 0;
                  }
                  else
                  {
                    *(_DWORD *)(v2 + 96) += std::vector<HomeFurnitureGroupData>::size(&block_data->deploy_furniture_group_vec);
                    if ( ConstValueExcelConfigMgr::getHomeRoomFurnitureGroupLimit(&txt_config_mgr->const_value_config_mgr) >= *(_DWORD *)(v2 + 96) )
                    {
                      v12 = 1;
                    }
                    else
                    {
                      common::milog::MiLogStream::create(
                        &v98,
                        &common::milog::MiLogDefault::default_log_obj_,
                        3u,
                        "./src/handler/player_home_handler.cpp",
                        "checkArrangementDataNoPlayer",
                        3153);
                      v51 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                              &v98,
                              (const char (*)[24])"group furniture count :");
                      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                        v51,
                        (const unsigned int *)(v2 + 96));
                      common::milog::MiLogStream::~MiLogStream(&v98);
                      v1 = 9782;
                      v12 = 0;
                    }
                  }
                }
              }
            }
          }
          else
          {
            common::milog::MiLogStream::create(
              &v98,
              &common::milog::MiLogDefault::default_log_obj_,
              3u,
              "./src/handler/player_home_handler.cpp",
              "checkArrangementDataNoPlayer",
              3091);
            v19 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(&v98, (const char (*)[10])"block_id:");
            v20 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v19, block_id);
            v21 = common::milog::MiLogStream::operator<<<char [24],(char *[24])0>(
                    v20,
                    (const char (*)[24])" furniture_suite_count:");
            v22 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                    v21,
                    (const unsigned int *)(v2 + 80));
            v23 = common::milog::MiLogStream::operator<<<char [21],(char *[21])0>(
                    v22,
                    (const char (*)[21])" furniture node num:");
            v24 = std::map<unsigned int,unsigned int>::operator[](
                    (std::map<unsigned int,unsigned int> *const)(v2 + 160),
                    (const std::map<unsigned int,unsigned int>::key_type *)(v2 + 112));
            common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v23, v24);
            common::milog::MiLogStream::~MiLogStream(&v98);
            v1 = 9766;
            v12 = 0;
          }
        }
      }
    }
LABEL_80:
    std::set<int>::~set((std::set<int> *const)(v2 + 240));
    if ( v12 != 1 )
      goto LABEL_101;
    std::_Rb_tree_const_iterator<std::pair<unsigned int const,HomeBlockData>>::operator++(&__for_begin);
  }
  if ( !std::optional<HomeFurnitureData>::has_value(&arrangement_data->main_house) )
    goto LABEL_91;
  v52 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
  v53 = std::map<unsigned int,unsigned int>::operator[](
          (std::map<unsigned int,unsigned int> *const)(v2 + 160),
          &v52->furniture_id);
  if ( *(_BYTE *)(((unsigned __int64)v53 >> 3) + 0x7FFF8000) != 0
    && (char)(((unsigned __int8)v53 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v53 >> 3) + 0x7FFF8000) )
  {
    __asan_report_load4();
  }
  if ( *v53 == 1 )
  {
    p_home_config_mgr = &txt_config_mgr->home_config_mgr;
    v63 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
    if ( *(_BYTE *)(((unsigned __int64)v63 >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)v63 & 7) + 3) >= *(_BYTE *)(((unsigned __int64)v63 >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    *(_DWORD *)(v2 + 144) = HomeWorldExcelConfigMgr::getRoomSceneIdByFurnitureId(p_home_config_mgr, v63->furniture_id);
    if ( SceneExcelConfigMgr::getSceneTypeBySceneId(&txt_config_mgr->scene_config_mgr, *(_DWORD *)(v2 + 144)) != SCENE_HOME_ROOM )
    {
      common::milog::MiLogStream::create(
        &v98,
        &common::milog::MiLogDefault::default_log_obj_,
        3u,
        "./src/handler/player_home_handler.cpp",
        "checkArrangementDataNoPlayer",
        3169);
      v64 = common::milog::MiLogStream::operator<<<char [51],(char *[51])0>(
              &v98,
              (const char (*)[51])"scene_type is not SCENE_HOME_WORLD. room_scene_id:");
      v65 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
              v64,
              (const unsigned int *)(v2 + 144));
      v66 = common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
              v65,
              (const char (*)[26])" main house furniture_id:");
      v67 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v66, &v67->furniture_id);
      common::milog::MiLogStream::~MiLogStream(&v98);
      v1 = -1;
      goto LABEL_101;
    }
LABEL_91:
    __for_range_6 = (std::map<unsigned int,unsigned int> *)(v2 + 160);
    __for_begin_0._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::begin((std::map<unsigned int,unsigned int> *const)(v2 + 160))._M_node;
    __for_end_0._M_current = (const HomeFurnitureData *)std::map<unsigned int,unsigned int>::end(__for_range_6)._M_node;
    while ( std::operator!=(
              (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_begin_0,
              (const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> >::_Self *)&__for_end_0) )
    {
      __in = std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_0);
      furniture_id = std::get<0ul,unsigned int const,unsigned int>(__in);
      count = std::get<1ul,unsigned int const,unsigned int>(__in);
      if ( *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)count & 7) + 3) >= *(_BYTE *)(((unsigned __int64)count >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      v68 = *count;
      if ( *(_BYTE *)(((unsigned __int64)furniture_id >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)furniture_id & 7) + 3) >= *(_BYTE *)(((unsigned __int64)furniture_id >> 3)
                                                                       + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      *(_DWORD *)(v2 + 32) = PlayerHomeHandler::checkArrangeLimit(*furniture_id, v68);
      if ( *(_DWORD *)(v2 + 32) )
      {
        v1 = *(_DWORD *)(v2 + 32);
        goto LABEL_101;
      }
      std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,unsigned int> > *const)&__for_begin_0);
    }
    v1 = 0;
    goto LABEL_101;
  }
  common::milog::MiLogStream::create(
    &v98,
    &common::milog::MiLogDefault::default_log_obj_,
    3u,
    "./src/handler/player_home_handler.cpp",
    "checkArrangementDataNoPlayer",
    3162);
  v54 = common::milog::MiLogStream::operator<<<char [10],(char *[10])0>(&v98, (const char (*)[10])"scene_id:");
  v55 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v54, (const unsigned int *)(v2 + 64));
  v56 = common::milog::MiLogStream::operator<<<char [16],(char *[16])0>(v55, (const char (*)[16])" main_house_id:");
  v57 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
  v58 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v56, &v57->furniture_id);
  v59 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v58, (const char (*)[8])" count:");
  v60 = std::optional<HomeFurnitureData>::operator->(&arrangement_data->main_house);
  v61 = std::map<unsigned int,unsigned int>::operator[](
          (std::map<unsigned int,unsigned int> *const)(v2 + 160),
          &v60->furniture_id);
  common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v59, v61);
  common::milog::MiLogStream::~MiLogStream(&v98);
  v1 = 9767;
LABEL_101:
  std::map<unsigned int,unsigned int>::~map((std::map<unsigned int,unsigned int> *const)(v2 + 160));
LABEL_102:
  result = v1;
  if ( v99 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8018) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8024) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8020) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 3188: range 0000000017CB631E-0000000017CB7157
int32_t __cdecl PlayerHomeHandler::checkBlockFurnitureDieY(const HomeBlockData *block_data, const float *die_y)
{
  float y; // xmm1_4
  common::milog::MiLogStream *v3; // rdx
  common::milog::MiLogStream *v4; // rax
  common::milog::MiLogStream *v5; // rax
  common::milog::MiLogStream *v6; // rax
  common::milog::MiLogStream *v7; // rax
  common::milog::MiLogStream *v8; // rax
  common::milog::MiLogStream *v9; // rax
  float v11; // xmm1_4
  common::milog::MiLogStream *v12; // rdx
  common::milog::MiLogStream *v13; // rax
  common::milog::MiLogStream *v14; // rax
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // rax
  common::milog::MiLogStream *v17; // rax
  common::milog::MiLogStream *v18; // rax
  float v19; // xmm1_4
  common::milog::MiLogStream *v20; // rdx
  common::milog::MiLogStream *v21; // rax
  common::milog::MiLogStream *v22; // rax
  common::milog::MiLogStream *v23; // rax
  common::milog::MiLogStream *v24; // rax
  float v25; // xmm1_4
  common::milog::MiLogStream *v26; // rdx
  common::milog::MiLogStream *v27; // rax
  common::milog::MiLogStream *v28; // rax
  common::milog::MiLogStream *v29; // rax
  common::milog::MiLogStream *v30; // rax
  common::milog::MiLogStream *v31; // rax
  common::milog::MiLogStream *v32; // rax
  common::milog::MiLogStream *v33; // rax
  common::milog::MiLogStream *v34; // rax
  common::milog::MiLogStream *v35; // rax
  common::milog::MiLogStream *v36; // rax
  common::milog::MiLogStream *v37; // rax
  float v38; // xmm1_4
  common::milog::MiLogStream *v39; // rdx
  common::milog::MiLogStream *v40; // rax
  common::milog::MiLogStream *v41; // rax
  common::milog::MiLogStream *v42; // rax
  common::milog::MiLogStream *v43; // rax
  common::milog::MiLogStream *v44; // rax
  common::milog::MiLogStream *v45; // rax
  float v46; // xmm1_4
  common::milog::MiLogStream *v47; // rdx
  common::milog::MiLogStream *v48; // rax
  common::milog::MiLogStream *v49; // rax
  common::milog::MiLogStream *v50; // rax
  common::milog::MiLogStream *v51; // rax
  std::vector<HomeBlockFieldData>::const_iterator __for_begin_0; // [rsp+10h] [rbp-D0h] BYREF
  std::vector<HomeBlockFieldData>::const_iterator __for_end_0; // [rsp+18h] [rbp-C8h] BYREF
  std::vector<HomeFurnitureData>::const_iterator __for_begin; // [rsp+20h] [rbp-C0h] BYREF
  std::vector<HomeFurnitureData>::const_iterator __for_end; // [rsp+28h] [rbp-B8h] BYREF
  const std::vector<HomeFurnitureData> *__for_range; // [rsp+30h] [rbp-B0h]
  const std::vector<HomeFurnitureData> *__for_range_0; // [rsp+38h] [rbp-A8h]
  const std::vector<HomeFurnitureSuiteData> *__for_range_1; // [rsp+40h] [rbp-A0h]
  const std::vector<HomeBlockFieldData> *__for_range_2; // [rsp+48h] [rbp-98h]
  const std::vector<HomeFurnitureGroupData> *__for_range_4; // [rsp+50h] [rbp-90h]
  const std::vector<HomeFurnitureCustomSuiteData> *__for_range_6; // [rsp+58h] [rbp-88h]
  const HomeFurnitureCustomSuiteData *custom_suite; // [rsp+60h] [rbp-80h]
  const HomeFurnitureGroupData *furniture_group; // [rsp+68h] [rbp-78h]
  const std::vector<HomeFurnitureData> *__for_range_5; // [rsp+70h] [rbp-70h]
  const HomeFurnitureData *furniture_1; // [rsp+78h] [rbp-68h]
  const HomeBlockFieldData *field; // [rsp+80h] [rbp-60h]
  const std::vector<HomeBlockSubFieldData> *__for_range_3; // [rsp+88h] [rbp-58h]
  const HomeBlockSubFieldData *sub_field; // [rsp+90h] [rbp-50h]
  const HomeFurnitureSuiteData *suite; // [rsp+98h] [rbp-48h]
  const HomeFurnitureData *furniture_0; // [rsp+A0h] [rbp-40h]
  const HomeFurnitureData *furniture; // [rsp+A8h] [rbp-38h]
  common::milog::MiLogStream v72; // [rsp+B0h] [rbp-30h] BYREF

  __for_range = &block_data->persistent_furniture_vec;
  __for_begin._M_current = std::vector<HomeFurnitureData>::begin(&block_data->persistent_furniture_vec)._M_current;
  __for_end._M_current = std::vector<HomeFurnitureData>::end(&block_data->persistent_furniture_vec)._M_current;
  while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(&__for_begin, &__for_end) )
  {
    furniture = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin);
    if ( *(_BYTE *)(((unsigned __int64)&furniture->spawn_pos.y >> 3) + 0x7FFF8000) != 0
      && (char)((((_BYTE)furniture + 8) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&furniture->spawn_pos.y >> 3)
                                                              + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    y = furniture->spawn_pos.y;
    if ( *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)die_y & 7) + 3) >= *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    if ( *die_y >= y )
    {
      common::milog::MiLogStream::create(
        &v72,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "checkBlockFurnitureDieY",
        3193);
      v3 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(&v72, (const char (*)[7])"die_y:");
      v4 = common::milog::MiLogStream::operator<<<float,(float *)0>(v3, die_y);
      v5 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v4, (const char (*)[8])" pos_y:");
      v6 = common::milog::MiLogStream::operator<<<float,(float *)0>(v5, &furniture->spawn_pos.y);
      v7 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v6, (const char (*)[12])" furniture:");
      v8 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v7, &furniture->furniture_id);
      v9 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v8, (const char (*)[7])" guid:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v9, &furniture->guid);
      common::milog::MiLogStream::~MiLogStream(&v72);
      return 9811;
    }
    __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin);
  }
  __for_range_0 = &block_data->deploy_furniure_vec;
  __for_begin._M_current = std::vector<HomeFurnitureData>::begin(&block_data->deploy_furniure_vec)._M_current;
  __for_end._M_current = std::vector<HomeFurnitureData>::end(__for_range_0)._M_current;
  while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(&__for_begin, &__for_end) )
  {
    furniture_0 = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin);
    if ( *(_BYTE *)(((unsigned __int64)&furniture_0->spawn_pos.y >> 3) + 0x7FFF8000) != 0
      && (char)((((_BYTE)furniture_0 + 8) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&furniture_0->spawn_pos.y >> 3)
                                                                + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    v11 = furniture_0->spawn_pos.y;
    if ( *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)die_y & 7) + 3) >= *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    if ( *die_y >= v11 )
    {
      common::milog::MiLogStream::create(
        &v72,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "checkBlockFurnitureDieY",
        3201);
      v12 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(&v72, (const char (*)[7])"die_y:");
      v13 = common::milog::MiLogStream::operator<<<float,(float *)0>(v12, die_y);
      v14 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v13, (const char (*)[8])" pos_y:");
      v15 = common::milog::MiLogStream::operator<<<float,(float *)0>(v14, &furniture_0->spawn_pos.y);
      v16 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v15, (const char (*)[12])" furniture:");
      v17 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v16, &furniture_0->furniture_id);
      v18 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v17, (const char (*)[7])" guid:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v18, &furniture_0->guid);
      common::milog::MiLogStream::~MiLogStream(&v72);
      return 9811;
    }
    __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin);
  }
  __for_range_1 = &block_data->furniure_suite_vec;
  __for_begin._M_current = (const HomeFurnitureData *)std::vector<HomeFurnitureSuiteData>::begin(&block_data->furniure_suite_vec)._M_current;
  __for_end._M_current = (const HomeFurnitureData *)std::vector<HomeFurnitureSuiteData>::end(__for_range_1)._M_current;
  while ( __gnu_cxx::operator!=<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>(
            (const __gnu_cxx::__normal_iterator<const HomeFurnitureSuiteData*,std::vector<HomeFurnitureSuiteData> > *)&__for_begin,
            (const __gnu_cxx::__normal_iterator<const HomeFurnitureSuiteData*,std::vector<HomeFurnitureSuiteData> > *)&__for_end) )
  {
    suite = __gnu_cxx::__normal_iterator<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeFurnitureSuiteData*,std::vector<HomeFurnitureSuiteData> > *const)&__for_begin);
    if ( *(_BYTE *)(((unsigned __int64)&suite->spawn_pos.y >> 3) + 0x7FFF8000) != 0
      && *(_BYTE *)(((unsigned __int64)&suite->spawn_pos.y >> 3) + 0x7FFF8000) <= 3 )
    {
      __asan_report_load4();
    }
    v19 = suite->spawn_pos.y;
    if ( *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)die_y & 7) + 3) >= *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    if ( *die_y >= v19 )
    {
      common::milog::MiLogStream::create(
        &v72,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "checkBlockFurnitureDieY",
        3210);
      v20 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(&v72, (const char (*)[7])"die_y:");
      v21 = common::milog::MiLogStream::operator<<<float,(float *)0>(v20, die_y);
      v22 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v21, (const char (*)[8])" pos_y:");
      v23 = common::milog::MiLogStream::operator<<<float,(float *)0>(v22, &suite->spawn_pos.y);
      v24 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v23, (const char (*)[7])" guid:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v24, &suite->guid);
      common::milog::MiLogStream::~MiLogStream(&v72);
      return 9811;
    }
    __gnu_cxx::__normal_iterator<HomeFurnitureSuiteData const*,std::vector<HomeFurnitureSuiteData>>::operator++((__gnu_cxx::__normal_iterator<const HomeFurnitureSuiteData*,std::vector<HomeFurnitureSuiteData> > *const)&__for_begin);
  }
  __for_range_2 = &block_data->deploy_field_vec;
  __for_begin_0._M_current = std::vector<HomeBlockFieldData>::begin(&block_data->deploy_field_vec)._M_current;
  __for_end_0._M_current = std::vector<HomeBlockFieldData>::end(__for_range_2)._M_current;
  while ( __gnu_cxx::operator!=<HomeBlockFieldData const*,std::vector<HomeBlockFieldData>>(&__for_begin_0, &__for_end_0) )
  {
    field = __gnu_cxx::__normal_iterator<HomeBlockFieldData const*,std::vector<HomeBlockFieldData>>::operator*(&__for_begin_0);
    if ( *(_BYTE *)(((unsigned __int64)&field->spawn_pos.y >> 3) + 0x7FFF8000) != 0
      && (char)((((_BYTE)field + 12) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&field->spawn_pos.y >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    v25 = field->spawn_pos.y;
    if ( *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)die_y & 7) + 3) >= *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    if ( *die_y >= v25 )
    {
      common::milog::MiLogStream::create(
        &v72,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "checkBlockFurnitureDieY",
        3222);
      v26 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(&v72, (const char (*)[7])"die_y:");
      v27 = common::milog::MiLogStream::operator<<<float,(float *)0>(v26, die_y);
      v28 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v27, (const char (*)[8])" pos_y:");
      v29 = common::milog::MiLogStream::operator<<<float,(float *)0>(v28, &field->spawn_pos.y);
      v30 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v29, (const char (*)[12])" furniture:");
      v31 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v30, &field->furniture_id);
      v32 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v31, (const char (*)[7])" guid:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v32, &field->guid);
      common::milog::MiLogStream::~MiLogStream(&v72);
      return 9811;
    }
    __for_range_3 = &field->sub_field_vec;
    __for_begin._M_current = (const HomeFurnitureData *)std::vector<HomeBlockSubFieldData>::begin(&field->sub_field_vec)._M_current;
    __for_end._M_current = (const HomeFurnitureData *)std::vector<HomeBlockSubFieldData>::end(__for_range_3)._M_current;
    while ( __gnu_cxx::operator!=<HomeBlockSubFieldData const*,std::vector<HomeBlockSubFieldData>>(
              (const __gnu_cxx::__normal_iterator<const HomeBlockSubFieldData*,std::vector<HomeBlockSubFieldData> > *)&__for_begin,
              (const __gnu_cxx::__normal_iterator<const HomeBlockSubFieldData*,std::vector<HomeBlockSubFieldData> > *)&__for_end) )
    {
      sub_field = __gnu_cxx::__normal_iterator<HomeBlockSubFieldData const*,std::vector<HomeBlockSubFieldData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeBlockSubFieldData*,std::vector<HomeBlockSubFieldData> > *const)&__for_begin);
      if ( *(_BYTE *)(((unsigned __int64)&sub_field->spawn_pos.y >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)sub_field + 4) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&sub_field->spawn_pos.y >> 3)
                                                                + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      if ( sub_field->spawn_pos.y < 0.0 )
      {
        common::milog::MiLogStream::create(
          &v72,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "checkBlockFurnitureDieY",
          3229);
        v33 = common::milog::MiLogStream::operator<<<char [17],(char *[17])0>(&v72, (const char (*)[17])off_2638AB20);
        v34 = common::milog::MiLogStream::operator<<<float,(float *)0>(v33, &sub_field->spawn_pos.y);
        v35 = common::milog::MiLogStream::operator<<<char [18],(char *[18])0>(
                v34,
                (const char (*)[18])" field furniture:");
        v36 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v35, &field->furniture_id);
        v37 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v36, (const char (*)[7])" guid:");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v37, &field->guid);
        common::milog::MiLogStream::~MiLogStream(&v72);
        return 9811;
      }
      __gnu_cxx::__normal_iterator<HomeBlockSubFieldData const*,std::vector<HomeBlockSubFieldData>>::operator++((__gnu_cxx::__normal_iterator<const HomeBlockSubFieldData*,std::vector<HomeBlockSubFieldData> > *const)&__for_begin);
    }
    __gnu_cxx::__normal_iterator<HomeBlockFieldData const*,std::vector<HomeBlockFieldData>>::operator++(&__for_begin_0);
  }
  __for_range_4 = &block_data->deploy_furniture_group_vec;
  __for_begin_0._M_current = (const HomeBlockFieldData *)std::vector<HomeFurnitureGroupData>::begin(&block_data->deploy_furniture_group_vec)._M_current;
  __for_end_0._M_current = (const HomeBlockFieldData *)std::vector<HomeFurnitureGroupData>::end(__for_range_4)._M_current;
  while ( __gnu_cxx::operator!=<HomeFurnitureGroupData const*,std::vector<HomeFurnitureGroupData>>(
            (const __gnu_cxx::__normal_iterator<const HomeFurnitureGroupData*,std::vector<HomeFurnitureGroupData> > *)&__for_begin_0,
            (const __gnu_cxx::__normal_iterator<const HomeFurnitureGroupData*,std::vector<HomeFurnitureGroupData> > *)&__for_end_0) )
  {
    furniture_group = __gnu_cxx::__normal_iterator<HomeFurnitureGroupData const*,std::vector<HomeFurnitureGroupData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeFurnitureGroupData*,std::vector<HomeFurnitureGroupData> > *const)&__for_begin_0);
    __for_range_5 = &furniture_group->virtual_furniure_vec;
    __for_begin._M_current = std::vector<HomeFurnitureData>::begin(&furniture_group->virtual_furniure_vec)._M_current;
    __for_end._M_current = std::vector<HomeFurnitureData>::end(__for_range_5)._M_current;
    while ( __gnu_cxx::operator!=<HomeFurnitureData const*,std::vector<HomeFurnitureData>>(&__for_begin, &__for_end) )
    {
      furniture_1 = __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator*(&__for_begin);
      if ( *(_BYTE *)(((unsigned __int64)&furniture_1->spawn_pos.y >> 3) + 0x7FFF8000) != 0
        && (char)((((_BYTE)furniture_1 + 8) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&furniture_1->spawn_pos.y >> 3)
                                                                  + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      v38 = furniture_1->spawn_pos.y;
      if ( *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) != 0
        && (char)(((unsigned __int8)die_y & 7) + 3) >= *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) )
      {
        __asan_report_load4();
      }
      if ( *die_y >= v38 )
      {
        common::milog::MiLogStream::create(
          &v72,
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "checkBlockFurnitureDieY",
          3241);
        v39 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(&v72, (const char (*)[7])"die_y:");
        v40 = common::milog::MiLogStream::operator<<<float,(float *)0>(v39, die_y);
        v41 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v40, (const char (*)[8])" pos_y:");
        v42 = common::milog::MiLogStream::operator<<<float,(float *)0>(v41, &furniture_1->spawn_pos.y);
        v43 = common::milog::MiLogStream::operator<<<char [12],(char *[12])0>(v42, (const char (*)[12])" furniture:");
        v44 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v43, &furniture_1->furniture_id);
        v45 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v44, (const char (*)[7])" guid:");
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v45, &furniture_1->guid);
        common::milog::MiLogStream::~MiLogStream(&v72);
        return 9811;
      }
      __gnu_cxx::__normal_iterator<HomeFurnitureData const*,std::vector<HomeFurnitureData>>::operator++(&__for_begin);
    }
    __gnu_cxx::__normal_iterator<HomeFurnitureGroupData const*,std::vector<HomeFurnitureGroupData>>::operator++((__gnu_cxx::__normal_iterator<const HomeFurnitureGroupData*,std::vector<HomeFurnitureGroupData> > *const)&__for_begin_0);
  }
  __for_range_6 = &block_data->furniture_custom_suite_vec;
  __for_begin._M_current = (const HomeFurnitureData *)std::vector<HomeFurnitureCustomSuiteData>::begin(&block_data->furniture_custom_suite_vec)._M_current;
  __for_end._M_current = (const HomeFurnitureData *)std::vector<HomeFurnitureCustomSuiteData>::end(__for_range_6)._M_current;
  while ( __gnu_cxx::operator!=<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>(
            (const __gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *)&__for_begin,
            (const __gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *)&__for_end) )
  {
    custom_suite = __gnu_cxx::__normal_iterator<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>::operator*((const __gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *const)&__for_begin);
    if ( *(_BYTE *)(((unsigned __int64)&custom_suite->spawn_pos.y >> 3) + 0x7FFF8000) != 0
      && (char)((((_BYTE)custom_suite + 4) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&custom_suite->spawn_pos.y >> 3)
                                                                 + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    v46 = custom_suite->spawn_pos.y;
    if ( *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) != 0
      && (char)(((unsigned __int8)die_y & 7) + 3) >= *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) )
    {
      __asan_report_load4();
    }
    if ( *die_y >= v46 )
    {
      common::milog::MiLogStream::create(
        &v72,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "checkBlockFurnitureDieY",
        3251);
      v47 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(&v72, (const char (*)[7])"die_y:");
      v48 = common::milog::MiLogStream::operator<<<float,(float *)0>(v47, die_y);
      v49 = common::milog::MiLogStream::operator<<<char [8],(char *[8])0>(v48, (const char (*)[8])" pos_y:");
      v50 = common::milog::MiLogStream::operator<<<float,(float *)0>(v49, &custom_suite->spawn_pos.y);
      v51 = common::milog::MiLogStream::operator<<<char [7],(char *[7])0>(v50, (const char (*)[7])" guid:");
      common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v51, &custom_suite->guid);
      common::milog::MiLogStream::~MiLogStream(&v72);
      return 9811;
    }
    __gnu_cxx::__normal_iterator<HomeFurnitureCustomSuiteData const*,std::vector<HomeFurnitureCustomSuiteData>>::operator++((__gnu_cxx::__normal_iterator<const HomeFurnitureCustomSuiteData*,std::vector<HomeFurnitureCustomSuiteData> > *const)&__for_begin);
  }
  return 0;
};

// Line 3260: range 0000000017CB7158-0000000017CB82A5
int32_t __cdecl PlayerHomeHandler::checkBlueprintArrangementInfo(
        PlayerHomeHandler *const this,
        const proto::HomeSceneArrangementInfo *scene_arrangement_info)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v7; // rax
  int32_t v8; // r14d
  Home *v9; // rax
  HomeModuleData *v10; // rax
  common::milog::MiLogStream *v11; // rax
  common::milog::MiLogStream *v12; // rax
  common::milog::MiLogStream *v13; // r14
  std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v14; // rax
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v17; // rax
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v18; // rax
  common::milog::MiLogStream *v19; // rax
  std::pair<std::__detail::_Node_iterator<unsigned int,true,false>,bool> v20; // rax
  common::milog::MiLogStream *v21; // r14
  const HomeWorldExcelConfigMgr *v22; // r14
  uint32_t v23; // eax
  common::milog::MiLogStream *v24; // r14
  uint32_t v25; // eax
  common::milog::MiLogStream *v26; // r14
  common::milog::MiLogStream *v27; // rax
  common::milog::MiLogStream *v28; // rax
  common::milog::MiLogStream *v29; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v30; // rax
  HomeFurnitureData *v31; // rax
  float v32; // xmm1_4
  common::milog::MiLogStream *v33; // rax
  common::milog::MiLogStream *v34; // rax
  common::milog::MiLogStream *v35; // rax
  common::milog::MiLogStream *v36; // rax
  common::milog::MiLogStream *v37; // rax
  common::milog::MiLogStream *v38; // rax
  common::milog::MiLogStream *v39; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v40; // rax
  common::milog::MiLogStream *v41; // rax
  common::milog::MiLogStream *v42; // rax
  common::milog::MiLogStream *v43; // rax
  common::milog::MiLogStream *v44; // rax
  common::milog::MiLogStream *v45; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v46; // rax
  common::milog::MiLogStream *v47; // rax
  common::milog::MiLogStream *v48; // rax
  common::milog::MiLogStream *v49; // r14
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v50; // rax
  int32_t result; // eax
  unsigned int val; // [rsp+18h] [rbp-4D8h] BYREF
  data::SpeicalFurnitureType furniture_speical_type; // [rsp+1Ch] [rbp-4D4h]
  google::protobuf::RepeatedPtrField<proto::HomeBlockArrangementInfo>::const_iterator __for_begin; // [rsp+20h] [rbp-4D0h] BYREF
  google::protobuf::RepeatedPtrField<proto::HomeBlockArrangementInfo>::const_iterator __for_end; // [rsp+28h] [rbp-4C8h] BYREF
  google::protobuf::RepeatedPtrField<proto::HomeFurnitureData>::const_iterator __for_begin_0; // [rsp+30h] [rbp-4C0h] BYREF
  google::protobuf::RepeatedPtrField<proto::HomeFurnitureData>::const_iterator __for_end_0; // [rsp+38h] [rbp-4B8h] BYREF
  HomeSceneData *scene_data_ptr; // [rsp+40h] [rbp-4B0h]
  const SceneScriptConfig *script_config_ptr; // [rsp+48h] [rbp-4A8h]
  const float *die_y; // [rsp+50h] [rbp-4A0h]
  const HomeWorldExcelConfigMgr *home_config_mgr; // [rsp+58h] [rbp-498h]
  const google::protobuf::RepeatedPtrField<proto::HomeBlockArrangementInfo> *__for_range; // [rsp+60h] [rbp-490h]
  HomeSceneArrangementData *arrangement_data; // [rsp+68h] [rbp-488h]
  const float *main_house_pos_y; // [rsp+70h] [rbp-480h]
  std::map<unsigned int,HomeBlockData> *__for_range_1; // [rsp+78h] [rbp-478h]
  const std::pair<unsigned int const,HomeBlockData> *v66; // [rsp+80h] [rbp-470h]
  std::tuple_element<0,const std::pair<unsigned int const,HomeBlockData> >::type *block_id; // [rsp+88h] [rbp-468h]
  std::tuple_element<1,const std::pair<unsigned int const,HomeBlockData> >::type *block_data; // [rsp+90h] [rbp-460h]
  const proto::HomeBlockArrangementInfo *block_info; // [rsp+98h] [rbp-458h]
  const google::protobuf::RepeatedPtrField<proto::HomeFurnitureData> *__for_range_0; // [rsp+A0h] [rbp-450h]
  const proto::HomeFurnitureData *furniure_info; // [rsp+A8h] [rbp-448h]
  std::shared_ptr<Config> v72; // [rsp+B0h] [rbp-440h] BYREF
  common::milog::MiLogStream v73; // [rsp+C0h] [rbp-430h] BYREF
  char v74[1040]; // [rsp+E0h] [rbp-410h] BYREF

  v2 = (unsigned __int64)v74;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_4(992LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "7 32 4 8 ret:3263 48 4 13 scene_id:3276 64 16 19 home_world_ptr:3261 96 16 13 home_ptr:3262 128 "
                        "16 25 home_module_data_ptr:3270 160 56 17 block_id_set:3292 256 600 26 temp_arrangement_data:3320";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::checkBlueprintArrangementInfo;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556924;
  v4[536862722] = -219021312;
  v4[536862723] = -219021312;
  v4[536862724] = -219021312;
  v4[536862726] = -234881024;
  v4[536862727] = -218959118;
  v4[536862746] = -218103808;
  v4[536862747] = -202116109;
  v4[536862748] = -202116109;
  v4[536862749] = -202116109;
  v4[536862750] = -202116109;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 96), 0LL);
  if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
    __asan_report_load8();
  HomeComp = Player::getHomeComp(this->player_);
  *(_DWORD *)(v2 + 32) = PlayerHomeComp::getCurHomeWorldAndHome(
                           HomeComp,
                           (HomeWorldPtr *)(v2 + 64),
                           (HomePtr *)(v2 + 96));
  if ( *(_DWORD *)(v2 + 32)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v73,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "checkBlueprintArrangementInfo",
      3266);
    v7 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
           &v73,
           (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v7, (const int *)(v2 + 32));
    common::milog::MiLogStream::~MiLogStream(&v73);
    if ( *(_DWORD *)(v2 + 32) )
      v8 = *(_DWORD *)(v2 + 32);
    else
      v8 = -1;
  }
  else
  {
    v9 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
    Home::getSceneComp(v9);
    HomeSceneComp::getCurHomeModuleData((HomeSceneComp *const)(v2 + 128));
    if ( std::operator==<HomeModuleData>((const std::shared_ptr<HomeModuleData> *)(v2 + 128), 0LL) )
    {
      common::milog::MiLogStream::create(
        &v73,
        &common::milog::MiLogDefault::default_log_obj_,
        3u,
        "./src/handler/player_home_handler.cpp",
        "checkBlueprintArrangementInfo",
        3273);
      common::milog::MiLogStream::operator<<<char [45],(char *[45])0>(
        &v73,
        (const char (*)[45])"[HOME_BLUEPRINT] getCurHomeModuleData failed");
      common::milog::MiLogStream::~MiLogStream(&v73);
      v8 = 9701;
    }
    else
    {
      *(_DWORD *)(v2 + 48) = proto::HomeSceneArrangementInfo::scene_id(scene_arrangement_info);
      v10 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
      scene_data_ptr = HomeModuleData::findHomeSceneData(v10, *(_DWORD *)(v2 + 48));
      if ( scene_data_ptr )
      {
        ServiceBox::findService<GameserverService>();
        GameserverService::getConfig((GameserverService *const)&v72);
        v18 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v72);
        script_config_ptr = LuaConfigMgr::findSceneScriptConfig(
                              &v18->design_config.lua_config_mgr,
                              *(_DWORD *)(v2 + 48));
        std::shared_ptr<Config>::~shared_ptr(&v72);
        if ( script_config_ptr )
        {
          die_y = &script_config_ptr->die_y;
          std::unordered_set<unsigned int>::unordered_set((std::unordered_set<unsigned int> *const)(v2 + 160));
          ServiceBox::findService<GameserverService>();
          GameserverService::getConfig((GameserverService *const)&v72);
          home_config_mgr = &std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v72)->design_config.txt_config_mgr.home_config_mgr;
          std::shared_ptr<Config>::~shared_ptr(&v72);
          __for_range = proto::HomeSceneArrangementInfo::block_arrangement_info_list(scene_arrangement_info);
          __for_begin.it_ = google::protobuf::RepeatedPtrField<proto::HomeBlockArrangementInfo>::begin(__for_range).it_;
          __for_end.it_ = google::protobuf::RepeatedPtrField<proto::HomeBlockArrangementInfo>::end(__for_range).it_;
          while ( google::protobuf::internal::RepeatedPtrIterator<proto::HomeBlockArrangementInfo const>::operator!=(
                    &__for_begin,
                    &__for_end) )
          {
            block_info = google::protobuf::internal::RepeatedPtrIterator<proto::HomeBlockArrangementInfo const>::operator*(&__for_begin);
            val = proto::HomeBlockArrangementInfo::block_id(block_info);
            v20 = std::unordered_set<unsigned int>::insert((std::unordered_set<unsigned int> *const)(v2 + 160), &val);
            if ( !v20.second )
            {
              common::milog::MiLogStream::create(
                &v73,
                &common::milog::MiLogDefault::default_log_obj_,
                3u,
                "./src/handler/player_home_handler.cpp",
                "checkBlueprintArrangementInfo",
                3298);
              v21 = common::milog::MiLogStream::operator<<<char [37],(char *[37])0>(
                      &v73,
                      (const char (*)[37])"[HOME_BLUEPRINT] duplicate block_id:");
              val = proto::HomeBlockArrangementInfo::block_id(block_info);
              common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v21, &val);
              common::milog::MiLogStream::~MiLogStream(&v73);
              v8 = 9702;
              goto LABEL_53;
            }
            __for_range_0 = proto::HomeBlockArrangementInfo::deploy_furniure_list(block_info);
            __for_begin_0.it_ = google::protobuf::RepeatedPtrField<proto::HomeFurnitureData>::begin(__for_range_0).it_;
            __for_end_0.it_ = google::protobuf::RepeatedPtrField<proto::HomeFurnitureData>::end(__for_range_0).it_;
            while ( google::protobuf::internal::RepeatedPtrIterator<proto::HomeFurnitureData const>::operator!=(
                      &__for_begin_0,
                      &__for_end_0) )
            {
              furniure_info = google::protobuf::internal::RepeatedPtrIterator<proto::HomeFurnitureData const>::operator*(&__for_begin_0);
              v22 = home_config_mgr;
              v23 = proto::HomeFurnitureData::furniture_id(furniure_info);
              if ( data::HomeWorldExcelConfigMgrBase::findHomeworldAnimalExcelConfig(v22, v23) )
              {
                common::milog::MiLogStream::create(
                  &v73,
                  &common::milog::MiLogDefault::default_log_obj_,
                  3u,
                  "./src/handler/player_home_handler.cpp",
                  "checkBlueprintArrangementInfo",
                  3306);
                v24 = common::milog::MiLogStream::operator<<<char [65],(char *[65])0>(
                        &v73,
                        (const char (*)[65])"[HOME_BLUEPRINT] blueprint arrangement have animal_furniture_id:");
                val = proto::HomeFurnitureData::furniture_id(furniure_info);
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v24, &val);
                common::milog::MiLogStream::~MiLogStream(&v73);
                v8 = 9702;
                goto LABEL_53;
              }
              v25 = proto::HomeFurnitureData::furniture_id(furniure_info);
              furniture_speical_type = HomeWorldExcelConfigMgr::getFurnitureSpeicalType(home_config_mgr, v25);
              if ( furniture_speical_type == NPC_1 || furniture_speical_type == Paimon )
              {
                common::milog::MiLogStream::create(
                  &v73,
                  &common::milog::MiLogDefault::default_log_obj_,
                  3u,
                  "./src/handler/player_home_handler.cpp",
                  "checkBlueprintArrangementInfo",
                  3313);
                v26 = common::milog::MiLogStream::operator<<<char [73],(char *[73])0>(
                        &v73,
                        (const char (*)[73])"[HOME_BLUEPRINT] blueprint arrangement have npc or paimon, furniture_id:");
                val = proto::HomeFurnitureData::furniture_id(furniure_info);
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v26, &val);
                common::milog::MiLogStream::~MiLogStream(&v73);
                v8 = 9702;
                goto LABEL_53;
              }
              google::protobuf::internal::RepeatedPtrIterator<proto::HomeFurnitureData const>::operator++(&__for_begin_0);
            }
            google::protobuf::internal::RepeatedPtrIterator<proto::HomeBlockArrangementInfo const>::operator++(&__for_begin);
          }
          arrangement_data = &scene_data_ptr->arrangement_data;
          HomeSceneArrangementData::HomeSceneArrangementData((HomeSceneArrangementData *const)(v2 + 256));
          *(_DWORD *)(v2 + 32) = HomeSceneArrangementData::fromClient(
                                   (HomeSceneArrangementData *const)(v2 + 256),
                                   arrangement_data,
                                   scene_arrangement_info);
          if ( *(_DWORD *)(v2 + 32) )
          {
            common::milog::MiLogStream::create(
              &v73,
              &common::milog::MiLogDefault::default_log_obj_,
              3u,
              "./src/handler/player_home_handler.cpp",
              "checkBlueprintArrangementInfo",
              3324);
            v27 = common::milog::MiLogStream::operator<<<char [46],(char *[46])0>(
                    &v73,
                    (const char (*)[46])"[HOME_BLUEPRINT] fromClient failed. scene_id:");
            v28 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                    v27,
                    (const unsigned int *)(v2 + 48));
            v29 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v28, (const char (*)[11])" home_uid:");
            v30 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
            val = Home::getHomeUid(v30);
            common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v29, &val);
            common::milog::MiLogStream::~MiLogStream(&v73);
            v8 = *(_DWORD *)(v2 + 32);
          }
          else
          {
            if ( !std::optional<HomeFurnitureData>::has_value((const std::optional<HomeFurnitureData> *const)(v2 + 392)) )
              goto LABEL_43;
            v31 = std::optional<HomeFurnitureData>::operator->((std::optional<HomeFurnitureData> *const)(v2 + 392));
            main_house_pos_y = &v31->spawn_pos.y;
            if ( *(_BYTE *)(((unsigned __int64)&v31->spawn_pos.y >> 3) + 0x7FFF8000) != 0
              && (char)((((_BYTE)v31 + 8) & 7) + 3) >= *(_BYTE *)(((unsigned __int64)&v31->spawn_pos.y >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            v32 = *main_house_pos_y;
            if ( *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) != 0
              && (char)(((unsigned __int8)die_y & 7) + 3) >= *(_BYTE *)(((unsigned __int64)die_y >> 3) + 0x7FFF8000) )
            {
              __asan_report_load4();
            }
            if ( *die_y >= v32 )
            {
              common::milog::MiLogStream::create(
                &v73,
                &common::milog::MiLogDefault::default_log_obj_,
                1u,
                "./src/handler/player_home_handler.cpp",
                "checkBlueprintArrangementInfo",
                3334);
              v33 = common::milog::MiLogStream::operator<<<char [35],(char *[35])0>(
                      &v73,
                      (const char (*)[35])"[HOME_BLUEPRINT] main_house_pos_y:");
              v34 = common::milog::MiLogStream::operator<<<float,(float *)0>(v33, main_house_pos_y);
              v35 = common::milog::MiLogStream::operator<<<char [9],(char *[9])0>(v34, (const char (*)[9])"  die_y:");
              v36 = common::milog::MiLogStream::operator<<<float,(float *)0>(v35, die_y);
              v37 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(
                      v36,
                      (const char (*)[11])" scene_id:");
              v38 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                      v37,
                      (const unsigned int *)(v2 + 48));
              v39 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(
                      v38,
                      (const char (*)[11])" home_uid:");
              v40 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
              val = Home::getHomeUid(v40);
              common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v39, &val);
              common::milog::MiLogStream::~MiLogStream(&v73);
              v8 = 9811;
            }
            else
            {
LABEL_43:
              __for_range_1 = (std::map<unsigned int,HomeBlockData> *)(v2 + 264);
              __for_begin_0.it_ = (void *const *)std::map<unsigned int,HomeBlockData>::begin((std::map<unsigned int,HomeBlockData> *const)(v2 + 264))._M_node;
              __for_end_0.it_ = (void *const *)std::map<unsigned int,HomeBlockData>::end(__for_range_1)._M_node;
              while ( std::operator!=(
                        (const std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData> >::_Self *)&__for_begin_0,
                        (const std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData> >::_Self *)&__for_end_0) )
              {
                v66 = std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData>>::operator*((const std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData> > *const)&__for_begin_0);
                block_id = std::get<0ul,unsigned int const,HomeBlockData>(v66);
                block_data = (std::tuple_element<1,const std::pair<unsigned int const,HomeBlockData> >::type *)std::get<1ul,unsigned int const,HomeBlockData>(v66);
                if ( common::tools::MiscUtils::isContains<std::unordered_set<unsigned int>,unsigned int>(
                       (std::unordered_set<unsigned int> *)(v2 + 160),
                       block_id) )
                {
                  *(_DWORD *)(v2 + 32) = PlayerHomeHandler::checkBlockFurnitureDieY(block_data, die_y);
                  if ( *(_DWORD *)(v2 + 32) )
                  {
                    common::milog::MiLogStream::create(
                      &v73,
                      &common::milog::MiLogDefault::default_log_obj_,
                      1u,
                      "./src/handler/player_home_handler.cpp",
                      "checkBlueprintArrangementInfo",
                      3349);
                    v41 = common::milog::MiLogStream::operator<<<char [59],(char *[59])0>(
                            &v73,
                            (const char (*)[59])"[HOME_BLUEPRINT] checkBlockFurnitureDieY failed. block_id:");
                    v42 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v41, block_id);
                    v43 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(
                            v42,
                            (const char (*)[11])" scene_id:");
                    v44 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                            v43,
                            (const unsigned int *)(v2 + 48));
                    v45 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(
                            v44,
                            (const char (*)[11])" home_uid:");
                    v46 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
                    val = Home::getHomeUid(v46);
                    common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v45, &val);
                    common::milog::MiLogStream::~MiLogStream(&v73);
                    v8 = *(_DWORD *)(v2 + 32);
                    goto LABEL_52;
                  }
                }
                std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData>>::operator++((std::_Rb_tree_iterator<std::pair<unsigned int const,HomeBlockData> > *const)&__for_begin_0);
              }
              *(_DWORD *)(v2 + 32) = PlayerHomeHandler::checkArrangementDataNoPlayer((const HomeSceneArrangementData *)(v2 + 256));
              if ( *(_DWORD *)(v2 + 32) )
              {
                common::milog::MiLogStream::create(
                  &v73,
                  &common::milog::MiLogDefault::default_log_obj_,
                  3u,
                  "./src/handler/player_home_handler.cpp",
                  "checkBlueprintArrangementInfo",
                  3358);
                v47 = common::milog::MiLogStream::operator<<<char [64],(char *[64])0>(
                        &v73,
                        (const char (*)[64])"[HOME_BLUEPRINT] checkArrangementDataNoPlayer failed. scene_id:");
                v48 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                        v47,
                        (const unsigned int *)(v2 + 48));
                v49 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(
                        v48,
                        (const char (*)[11])" home_uid:");
                v50 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
                val = Home::getHomeUid(v50);
                common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v49, &val);
                common::milog::MiLogStream::~MiLogStream(&v73);
                v8 = *(_DWORD *)(v2 + 32);
              }
              else
              {
                v8 = 0;
              }
            }
          }
LABEL_52:
          HomeSceneArrangementData::~HomeSceneArrangementData((HomeSceneArrangementData *const)(v2 + 256));
LABEL_53:
          std::unordered_set<unsigned int>::~unordered_set((std::unordered_set<unsigned int> *const)(v2 + 160));
        }
        else
        {
          common::milog::MiLogStream::create(
            &v73,
            &common::milog::MiLogDefault::default_log_obj_,
            3u,
            "./src/handler/player_home_handler.cpp",
            "checkBlueprintArrangementInfo",
            3286);
          v19 = common::milog::MiLogStream::operator<<<char [56],(char *[56])0>(
                  &v73,
                  (const char (*)[56])"[HOME_BLUEPRINT] findSceneScriptConfig fails, scene_id:");
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v19, (const unsigned int *)(v2 + 48));
          common::milog::MiLogStream::~MiLogStream(&v73);
          v8 = -1;
        }
      }
      else
      {
        common::milog::MiLogStream::create(
          &v73,
          &common::milog::MiLogDefault::default_log_obj_,
          3u,
          "./src/handler/player_home_handler.cpp",
          "checkBlueprintArrangementInfo",
          3280);
        v11 = common::milog::MiLogStream::operator<<<char [27],(char *[27])0>(
                &v73,
                (const char (*)[27])"[HOME_BLUEPRINT] scene_id:");
        v12 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                v11,
                (const unsigned int *)(v2 + 48));
        v13 = common::milog::MiLogStream::operator<<<char [25],(char *[25])0>(
                v12,
                (const char (*)[25])" not found in module_id:");
        v14 = std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<HomeModuleData,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
        v15 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v13, &v14->module_id);
        v16 = common::milog::MiLogStream::operator<<<char [11],(char *[11])0>(v15, (const char (*)[11])" home_uid:");
        v17 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 96));
        val = Home::getHomeUid(v17);
        common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v16, &val);
        common::milog::MiLogStream::~MiLogStream(&v73);
        v8 = 9702;
      }
    }
    std::shared_ptr<HomeModuleData>::~shared_ptr((std::shared_ptr<HomeModuleData> *const)(v2 + 128));
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 64));
  result = v8;
  if ( v74 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8018) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8068) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8070) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8078) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8018) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8020) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8028) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8030) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8038) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8040) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8048) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8050) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8058) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8060) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8068) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8070) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8078) = -168430091;
  }
  return result;
};

// Line 3365: range 0000000017CB82A6-0000000017CB8A40
int32_t __cdecl PlayerHomeHandler::onHomeCreateBlueprintReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  bool isHomeBlueprintClosed; // r14
  common::milog::MiLogStream *v9; // rax
  int v10; // eax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v11; // rax
  uint32_t HomeUid; // r14d
  time_t v13; // r14
  Home *v14; // rax
  HomeBlueprintComp *BlueprintComp; // rax
  common::minet::Packet *v16; // rax
  const proto::HomeSceneArrangementInfo *v17; // rdx
  common::milog::MiLogStream *v18; // rax
  int32_t result; // eax
  std::__shared_ptr_access<proto::HomeCreateBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *req; // [rsp+10h] [rbp-130h]
  PlayerHomeComp *player_home_comp; // [rsp+18h] [rbp-128h]
  std::shared_ptr<common::minet::Packet> v22; // [rsp+20h] [rbp-120h] BYREF
  char v23[272]; // [rsp+30h] [rbp-110h] BYREF

  v2 = (unsigned __int64)v23;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(224LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "5 48 4 8 ret:3367 64 16 12 req_ptr:3366 96 16 19 home_world_ptr:3377 128 16 13 home_ptr:3378 160 32 8 rsp:3429";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onHomeCreateBlueprintReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556943;
  v4[536862722] = -219021312;
  v4[536862723] = -219021312;
  v4[536862724] = -219021312;
  v4[536862726] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getProto<proto::HomeCreateBlueprintReq>((common::minet::Packet *const)(v2 + 64));
  if ( std::operator==<proto::HomeCreateBlueprintReq>(
         (const std::shared_ptr<proto::HomeCreateBlueprintReq> *)(v2 + 64),
         0LL) )
  {
    common::milog::MiLogStream::create(
      (common::milog::MiLogStream *)(v2 + 160),
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onHomeCreateBlueprintReq",
      3366);
    common::milog::MiLogStream::operator()((common::milog::MiLogStream *const)(v2 + 160), off_2638B1E0);
    common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
    v5 = -1;
    goto LABEL_39;
  }
  req = std::__shared_ptr_access<proto::HomeCreateBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<proto::HomeCreateBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
  *(_DWORD *)(v2 + 48) = 0;
  ServiceBox::findService<GameserverService>();
  GameserverService::getConfig((GameserverService *const)&v22);
  v6 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)&v22);
  isHomeBlueprintClosed = FeatureSwitchMgr::isHomeBlueprintClosed(&v6->feature_switch_mgr);
  std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)&v22);
  if ( !isHomeBlueprintClosed )
  {
    std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96), 0LL);
    std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 128), 0LL);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    player_home_comp = Player::getHomeComp(this->player_);
    *(_DWORD *)(v2 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                             player_home_comp,
                             (HomeWorldPtr *)(v2 + 96),
                             (HomePtr *)(v2 + 128));
    if ( *(_DWORD *)(v2 + 48)
      || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 96), 0LL)
      || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 128), 0LL) )
    {
      common::milog::MiLogStream::create(
        (common::milog::MiLogStream *)(v2 + 160),
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeCreateBlueprintReq",
        3383);
      v9 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
             (common::milog::MiLogStream *const)(v2 + 160),
             (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
      common::milog::MiLogStream::operator<<<int,(int *)0>(v9, (const int *)(v2 + 48));
      common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
      if ( *(_DWORD *)(v2 + 48) )
        v10 = *(_DWORD *)(v2 + 48);
      else
        v10 = -1;
      *(_DWORD *)(v2 + 48) = v10;
      goto LABEL_33;
    }
    v11 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
    HomeUid = Home::getHomeUid(v11);
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    if ( HomeUid == Player::getUid(this->player_) )
    {
      v13 = PlayerHomeComp::getPriorCheckEndTime(player_home_comp);
      if ( v13 > common::tools::TimeUtils::getNow() )
      {
        *(_DWORD *)(v2 + 48) = 9806;
LABEL_33:
        std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 128));
        std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96));
        goto LABEL_34;
      }
    }
    else
    {
      v14 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
      BlueprintComp = Home::getBlueprintComp(v14);
      if ( !HomeBlueprintComp::getIsAllowFriendCopy(BlueprintComp) )
      {
        *(_DWORD *)(v2 + 48) = 9810;
        goto LABEL_33;
      }
    }
    if ( PlayerHomeComp::isInBlueprintCreateCD(player_home_comp) )
    {
      *(_DWORD *)(v2 + 48) = 9808;
    }
    else
    {
      v16 = std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
      if ( common::minet::Packet::getExt(v16, 2u)
        || (v17 = proto::HomeCreateBlueprintReq::scene_arrangement_info(req),
            (*(_DWORD *)(v2 + 48) = PlayerHomeHandler::checkBlueprintArrangementInfo(this, v17)) == 0) )
      {
        std::shared_ptr<common::minet::Packet>::shared_ptr(&v22, p_packet_ptr);
        *(_DWORD *)(v2 + 48) = PlayerHomeComp::handleCreateBlueprintReq(player_home_comp, &v22, req);
        std::shared_ptr<common::minet::Packet>::~shared_ptr(&v22);
      }
      else
      {
        common::milog::MiLogStream::create(
          (common::milog::MiLogStream *)(v2 + 160),
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeCreateBlueprintReq",
          3419);
        v18 = common::milog::MiLogStream::operator<<<char [43],(char *[43])0>(
                (common::milog::MiLogStream *const)(v2 + 160),
                (const char (*)[43])"checkBlueprintArrangementInfo failed. ret:");
        common::milog::MiLogStream::operator<<<int,(int *)0>(v18, (const int *)(v2 + 48));
        common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
      }
    }
    goto LABEL_33;
  }
  common::milog::MiLogStream::create(
    (common::milog::MiLogStream *)(v2 + 160),
    &common::milog::MiLogDefault::default_log_obj_,
    1u,
    "./src/handler/player_home_handler.cpp",
    "onHomeCreateBlueprintReq",
    3372);
  common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
    (common::milog::MiLogStream *const)(v2 + 160),
    (const char (*)[26])"home blueprint is closed.");
  common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
  *(_DWORD *)(v2 + 48) = 142;
LABEL_34:
  if ( *(_DWORD *)(v2 + 48) )
  {
    proto::HomeCreateBlueprintRsp::HomeCreateBlueprintRsp((proto::HomeCreateBlueprintRsp *const)(v2 + 160));
    proto::HomeCreateBlueprintRsp::set_retcode((proto::HomeCreateBlueprintRsp *const)(v2 + 160), *(_DWORD *)(v2 + 48));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 160));
    proto::HomeCreateBlueprintRsp::~HomeCreateBlueprintRsp((proto::HomeCreateBlueprintRsp *const)(v2 + 160));
  }
  v5 = *(_DWORD *)(v2 + 48);
LABEL_39:
  std::shared_ptr<proto::HomeCreateBlueprintReq>::~shared_ptr((std::shared_ptr<proto::HomeCreateBlueprintReq> *const)(v2 + 64));
  result = v5;
  if ( v23 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = -168430091;
  }
  return result;
};

// Line 3437: range 0000000017CB8A42-0000000017CB8C47
int32_t __cdecl PlayerHomeHandler::onServerHomeSaveBlueprintDataRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // rbx
  __int64 v3; // rax
  unsigned __int64 v4; // r12
  int32_t v5; // r14d
  PlayerHomeComp *HomeComp; // rdx
  int32_t result; // eax
  std::__shared_ptr_access<const proto::ServerHomeSaveBlueprintDataRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+18h] [rbp-98h]
  common::milog::MiLogStream v9; // [rsp+20h] [rbp-90h] BYREF
  char v10[112]; // [rsp+40h] [rbp-70h] BYREF

  v2 = (unsigned __int64)v10;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_0(64LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "1 32 16 12 rsp_ptr:3438";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerHomeSaveBlueprintDataRsp;
  v4 = v2 >> 3;
  *(_DWORD *)(v4 + 2147450880) = -235802127;
  *(_DWORD *)(v4 + 2147450884) = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::ServerHomeSaveBlueprintDataRsp>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::ServerHomeSaveBlueprintDataRsp const>(
         (const std::shared_ptr<const proto::ServerHomeSaveBlueprintDataRsp> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v9,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerHomeSaveBlueprintDataRsp",
      3438);
    common::milog::MiLogStream::operator()(&v9, off_2638B2C0);
    common::milog::MiLogStream::~MiLogStream(&v9);
    v5 = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerHomeSaveBlueprintDataRsp const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::ServerHomeSaveBlueprintDataRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    v5 = PlayerHomeComp::onServerHomeSaveBlueprintDataRsp(HomeComp, rsp_0);
  }
  std::shared_ptr<proto::ServerHomeSaveBlueprintDataRsp const>::~shared_ptr((std::shared_ptr<const proto::ServerHomeSaveBlueprintDataRsp> *const)(v2 + 32));
  result = v5;
  if ( v10 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 3443: range 0000000017CB8C48-0000000017CB921B
int32_t __cdecl PlayerHomeHandler::onHomeDeleteBlueprintReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  bool isHomeBlueprintClosed; // r14
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v10; // rax
  int v11; // eax
  PlayerHomeComp *v12; // r14
  uint32_t v13; // eax
  google::protobuf::uint32 v14; // eax
  int32_t result; // eax
  std::__shared_ptr_access<const proto::HomeDeleteBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *req; // [rsp+18h] [rbp-118h]
  char v17[272]; // [rsp+20h] [rbp-110h] BYREF

  v2 = (unsigned __int64)v17;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(224LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "5 48 4 8 ret:3445 64 16 12 req_ptr:3444 96 16 19 home_world_ptr:3455 128 16 13 home_ptr:3456 160 32 8 rsp:3469";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onHomeDeleteBlueprintReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556943;
  v4[536862722] = -219021312;
  v4[536862723] = -219021312;
  v4[536862724] = -219021312;
  v4[536862726] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeDeleteBlueprintReq>((common::minet::Packet *const)(v2 + 64));
  if ( std::operator==<proto::HomeDeleteBlueprintReq const>(
         (const std::shared_ptr<const proto::HomeDeleteBlueprintReq> *)(v2 + 64),
         0LL) )
  {
    common::milog::MiLogStream::create(
      (common::milog::MiLogStream *)(v2 + 160),
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onHomeDeleteBlueprintReq",
      3444);
    common::milog::MiLogStream::operator()((common::milog::MiLogStream *const)(v2 + 160), off_2638B3E0);
    common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
    v5 = -1;
  }
  else
  {
    req = std::__shared_ptr_access<proto::HomeDeleteBlueprintReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeDeleteBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    *(_DWORD *)(v2 + 48) = 0;
    ServiceBox::findService<GameserverService>();
    GameserverService::getConfig((GameserverService *const)(v2 + 128));
    v6 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
    isHomeBlueprintClosed = FeatureSwitchMgr::isHomeBlueprintClosed(&v6->feature_switch_mgr);
    std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v2 + 128));
    if ( isHomeBlueprintClosed )
    {
      common::milog::MiLogStream::create(
        (common::milog::MiLogStream *)(v2 + 160),
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeDeleteBlueprintReq",
        3450);
      common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
        (common::milog::MiLogStream *const)(v2 + 160),
        (const char (*)[26])"home blueprint is closed.");
      common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
      *(_DWORD *)(v2 + 48) = 142;
    }
    else
    {
      std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96), 0LL);
      std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 128), 0LL);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      HomeComp = Player::getHomeComp(this->player_);
      *(_DWORD *)(v2 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                               HomeComp,
                               (HomeWorldPtr *)(v2 + 96),
                               (HomePtr *)(v2 + 128));
      if ( *(_DWORD *)(v2 + 48)
        || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 96), 0LL)
        || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 128), 0LL) )
      {
        common::milog::MiLogStream::create(
          (common::milog::MiLogStream *)(v2 + 160),
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeDeleteBlueprintReq",
          3460);
        v10 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
                (common::milog::MiLogStream *const)(v2 + 160),
                (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
        common::milog::MiLogStream::operator<<<int,(int *)0>(v10, (const int *)(v2 + 48));
        common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
        if ( *(_DWORD *)(v2 + 48) )
          v11 = *(_DWORD *)(v2 + 48);
        else
          v11 = -1;
        *(_DWORD *)(v2 + 48) = v11;
      }
      else
      {
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        v12 = Player::getHomeComp(this->player_);
        v13 = proto::HomeDeleteBlueprintReq::slot_id(req);
        *(_DWORD *)(v2 + 48) = PlayerHomeComp::handleDeleteBlueprintReq(v12, v13);
      }
      std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 128));
      std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96));
    }
    if ( *(_DWORD *)(v2 + 48) )
    {
      proto::HomeDeleteBlueprintRsp::HomeDeleteBlueprintRsp((proto::HomeDeleteBlueprintRsp *const)(v2 + 160));
      proto::HomeDeleteBlueprintRsp::set_retcode((proto::HomeDeleteBlueprintRsp *const)(v2 + 160), *(_DWORD *)(v2 + 48));
      v14 = proto::HomeDeleteBlueprintReq::slot_id(req);
      proto::HomeDeleteBlueprintRsp::set_slot_id((proto::HomeDeleteBlueprintRsp *const)(v2 + 160), v14);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 160));
      proto::HomeDeleteBlueprintRsp::~HomeDeleteBlueprintRsp((proto::HomeDeleteBlueprintRsp *const)(v2 + 160));
    }
    v5 = *(_DWORD *)(v2 + 48);
  }
  std::shared_ptr<proto::HomeDeleteBlueprintReq const>::~shared_ptr((std::shared_ptr<const proto::HomeDeleteBlueprintReq> *const)(v2 + 64));
  result = v5;
  if ( v17 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = -168430091;
  }
  return result;
};

// Line 3478: range 0000000017CB921C-0000000017CB9421
int32_t __cdecl PlayerHomeHandler::onServerHomeDeleteBlueprintDataRsp(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // rbx
  __int64 v3; // rax
  unsigned __int64 v4; // r12
  int32_t v5; // r14d
  PlayerHomeComp *HomeComp; // rdx
  int32_t result; // eax
  std::__shared_ptr_access<const proto::ServerHomeDeleteBlueprintDataRsp,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *rsp_0; // [rsp+18h] [rbp-98h]
  common::milog::MiLogStream v9; // [rsp+20h] [rbp-90h] BYREF
  char v10[112]; // [rsp+40h] [rbp-70h] BYREF

  v2 = (unsigned __int64)v10;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_0(64LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "1 32 16 12 rsp_ptr:3479";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onServerHomeDeleteBlueprintDataRsp;
  v4 = v2 >> 3;
  *(_DWORD *)(v4 + 2147450880) = -235802127;
  *(_DWORD *)(v4 + 2147450884) = -202178560;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::ServerHomeDeleteBlueprintDataRsp>((common::minet::Packet *const)(v2 + 32));
  if ( std::operator==<proto::ServerHomeDeleteBlueprintDataRsp const>(
         (const std::shared_ptr<const proto::ServerHomeDeleteBlueprintDataRsp> *)(v2 + 32),
         0LL) )
  {
    common::milog::MiLogStream::create(
      &v9,
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onServerHomeDeleteBlueprintDataRsp",
      3479);
    common::milog::MiLogStream::operator()(&v9, off_2638B460);
    common::milog::MiLogStream::~MiLogStream(&v9);
    v5 = -1;
  }
  else
  {
    rsp_0 = std::__shared_ptr_access<proto::ServerHomeDeleteBlueprintDataRsp const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::ServerHomeDeleteBlueprintDataRsp,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 32));
    if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
      __asan_report_load8();
    HomeComp = Player::getHomeComp(this->player_);
    v5 = PlayerHomeComp::onServerHomeDeleteBlueprintDataRsp(HomeComp, rsp_0);
  }
  std::shared_ptr<proto::ServerHomeDeleteBlueprintDataRsp const>::~shared_ptr((std::shared_ptr<const proto::ServerHomeDeleteBlueprintDataRsp> *const)(v2 + 32));
  result = v5;
  if ( v10 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};

// Line 3484: range 0000000017CB9422-0000000017CB9A79
int32_t __cdecl PlayerHomeHandler::onHomeSearchBlueprintReq(
        PlayerHomeHandler *const this,
        common::minet::PacketPtr *p_packet_ptr)
{
  unsigned __int64 v2; // r13
  __int64 v3; // rax
  _DWORD *v4; // r12
  int32_t v5; // r14d
  std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v6; // rax
  bool isHomeBlueprintClosed; // r14
  PlayerHomeComp *HomeComp; // rax
  common::milog::MiLogStream *v10; // rax
  int v11; // eax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v12; // rax
  uint32_t HomeUid; // r14d
  Home *v14; // rax
  HomeBlueprintComp *BlueprintComp; // r14
  const std::string *v16; // rax
  int32_t result; // eax
  std::__shared_ptr_access<const proto::HomeSearchBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *req; // [rsp+18h] [rbp-118h]
  char v19[272]; // [rsp+20h] [rbp-110h] BYREF

  v2 = (unsigned __int64)v19;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v3 = __asan_stack_malloc_2(224LL);
    if ( v3 )
      v2 = v3;
  }
  *(_QWORD *)v2 = 1102416563LL;
  *(_QWORD *)(v2 + 8) = "5 48 4 8 ret:3486 64 16 12 req_ptr:3485 96 16 19 home_world_ptr:3496 128 16 13 home_ptr:3497 160 32 8 rsp:3517";
  *(_QWORD *)(v2 + 16) = PlayerHomeHandler::onHomeSearchBlueprintReq;
  v4 = (_DWORD *)(v2 >> 3);
  v4[536862720] = -235802127;
  v4[536862721] = -234556943;
  v4[536862722] = -219021312;
  v4[536862723] = -219021312;
  v4[536862724] = -219021312;
  v4[536862726] = -202116109;
  std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<common::minet::Packet,(__gnu_cxx::_Lock_policy)2,false,false> *const)p_packet_ptr);
  common::minet::Packet::getConstProto<proto::HomeSearchBlueprintReq>((common::minet::Packet *const)(v2 + 64));
  if ( std::operator==<proto::HomeSearchBlueprintReq const>(
         (const std::shared_ptr<const proto::HomeSearchBlueprintReq> *)(v2 + 64),
         0LL) )
  {
    common::milog::MiLogStream::create(
      (common::milog::MiLogStream *)(v2 + 160),
      &common::milog::MiLogDefault::default_log_obj_,
      3u,
      "./src/handler/player_home_handler.cpp",
      "onHomeSearchBlueprintReq",
      3485);
    common::milog::MiLogStream::operator()((common::milog::MiLogStream *const)(v2 + 160), off_2638B580);
    common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
    v5 = -1;
  }
  else
  {
    req = std::__shared_ptr_access<proto::HomeSearchBlueprintReq const,(__gnu_cxx::_Lock_policy)2,false,false>::operator*((const std::__shared_ptr_access<const proto::HomeSearchBlueprintReq,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 64));
    *(_DWORD *)(v2 + 48) = 0;
    ServiceBox::findService<GameserverService>();
    GameserverService::getConfig((GameserverService *const)(v2 + 128));
    v6 = std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Config,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
    isHomeBlueprintClosed = FeatureSwitchMgr::isHomeBlueprintClosed(&v6->feature_switch_mgr);
    std::shared_ptr<Config>::~shared_ptr((std::shared_ptr<Config> *const)(v2 + 128));
    if ( isHomeBlueprintClosed )
    {
      common::milog::MiLogStream::create(
        (common::milog::MiLogStream *)(v2 + 160),
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeSearchBlueprintReq",
        3491);
      common::milog::MiLogStream::operator<<<char [26],(char *[26])0>(
        (common::milog::MiLogStream *const)(v2 + 160),
        (const char (*)[26])"home blueprint is closed.");
      common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
      *(_DWORD *)(v2 + 48) = 142;
    }
    else
    {
      std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96), 0LL);
      std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v2 + 128), 0LL);
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      HomeComp = Player::getHomeComp(this->player_);
      *(_DWORD *)(v2 + 48) = PlayerHomeComp::getCurHomeWorldAndHome(
                               HomeComp,
                               (HomeWorldPtr *)(v2 + 96),
                               (HomePtr *)(v2 + 128));
      if ( *(_DWORD *)(v2 + 48)
        || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v2 + 96), 0LL)
        || std::operator==<Home>((const std::shared_ptr<Home> *)(v2 + 128), 0LL) )
      {
        common::milog::MiLogStream::create(
          (common::milog::MiLogStream *)(v2 + 160),
          &common::milog::MiLogDefault::default_log_obj_,
          1u,
          "./src/handler/player_home_handler.cpp",
          "onHomeSearchBlueprintReq",
          3501);
        v10 = common::milog::MiLogStream::operator<<<char [53],(char *[53])0>(
                (common::milog::MiLogStream *const)(v2 + 160),
                (const char (*)[53])"[HOME_BLUEPRINT] getCurHomeWorldAndHome failed. ret:");
        common::milog::MiLogStream::operator<<<int,(int *)0>(v10, (const int *)(v2 + 48));
        common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
        if ( *(_DWORD *)(v2 + 48) )
          v11 = *(_DWORD *)(v2 + 48);
        else
          v11 = -1;
        *(_DWORD *)(v2 + 48) = v11;
      }
      else
      {
        v12 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
        HomeUid = Home::getHomeUid(v12);
        if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
          __asan_report_load8();
        if ( HomeUid == Player::getUid(this->player_) )
        {
          v14 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v2 + 128));
          BlueprintComp = Home::getBlueprintComp(v14);
          v16 = proto::HomeSearchBlueprintReq::share_code[abi:cxx11](req);
          *(_DWORD *)(v2 + 48) = HomeBlueprintComp::onSearchBlueprintReq(BlueprintComp, v16);
        }
        else
        {
          common::milog::MiLogStream::create(
            (common::milog::MiLogStream *)(v2 + 160),
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeSearchBlueprintReq",
            3508);
          common::milog::MiLogStream::operator<<<char [48],(char *[48])0>(
            (common::milog::MiLogStream *const)(v2 + 160),
            (const char (*)[48])"[HOME_BLUEPRINT] player not in self home_world.");
          common::milog::MiLogStream::~MiLogStream((common::milog::MiLogStream *const)(v2 + 160));
          *(_DWORD *)(v2 + 48) = 9714;
        }
      }
      std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v2 + 128));
      std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v2 + 96));
    }
    if ( *(_DWORD *)(v2 + 48) )
    {
      proto::HomeSearchBlueprintRsp::HomeSearchBlueprintRsp((proto::HomeSearchBlueprintRsp *const)(v2 + 160));
      proto::HomeSearchBlueprintRsp::set_retcode((proto::HomeSearchBlueprintRsp *const)(v2 + 160), *(_DWORD *)(v2 + 48));
      if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
        __asan_report_load8();
      Player::sendProto(this->player_, (const google::protobuf::Message *)(v2 + 160));
      proto::HomeSearchBlueprintRsp::~HomeSearchBlueprintRsp((proto::HomeSearchBlueprintRsp *const)(v2 + 160));
    }
    v5 = *(_DWORD *)(v2 + 48);
  }
  std::shared_ptr<proto::HomeSearchBlueprintReq const>::~shared_ptr((std::shared_ptr<const proto::HomeSearchBlueprintReq> *const)(v2 + 64));
  result = v5;
  if ( v19 == (char *)v2 )
  {
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8010) = 0;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = 0;
  }
  else
  {
    *(_QWORD *)v2 = 1172321806LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v2 >> 3) + 0x7FFF8010) = 0xF5F5F5F5F5F5F5F5LL;
    *(_DWORD *)((v2 >> 3) + 0x7FFF8018) = -168430091;
  }
  return result;
};

// Line 3525: range 0000000017CB9A7A-0000000017CB9F02
int32_t __cdecl PlayerHomeHandler::onHomeSaveArrangementNoChangeReq(
        PlayerHomeHandler *const this,
        const proto::HomeSaveArrangementNoChangeReq *req,
        proto::HomeSaveArrangementNoChangeRsp *rsp_0)
{
  unsigned __int64 v3; // r12
  __int64 v4; // rax
  _DWORD *v5; // r13
  common::milog::MiLogStream *v7; // rax
  int32_t v8; // r14d
  Home *v9; // rax
  HomeBasicComp *BasicComp; // rax
  std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::element_type *v11; // rax
  Home *v12; // rax
  HomeBasicComp *v13; // rax
  common::milog::MiLogStream *v14; // rax
  common::milog::MiLogStream *v15; // rax
  common::milog::MiLogStream *v16; // r14
  Home *v17; // rax
  HomeBasicComp *v18; // rax
  Home *v19; // rax
  PlayerHomeComp *HomeComp; // rax
  int32_t result; // eax
  unsigned int val; // [rsp+2Ch] [rbp-D4h] BYREF
  common::milog::MiLogStream v23; // [rsp+30h] [rbp-D0h] BYREF
  char v24[176]; // [rsp+50h] [rbp-B0h] BYREF

  v3 = (unsigned __int64)v24;
  if ( _asan_option_detect_stack_use_after_return )
  {
    v4 = __asan_stack_malloc_1(128LL);
    if ( v4 )
      v3 = v4;
  }
  *(_QWORD *)v3 = 1102416563LL;
  *(_QWORD *)(v3 + 8) = "4 32 4 8 ret:3528 48 4 13 scene_id:3545 64 16 19 home_world_ptr:3526 96 16 13 home_ptr:3527";
  *(_QWORD *)(v3 + 16) = PlayerHomeHandler::onHomeSaveArrangementNoChangeReq;
  v5 = (_DWORD *)(v3 >> 3);
  v5[536862720] = -235802127;
  v5[536862721] = -234556924;
  v5[536862722] = -219021312;
  v5[536862723] = -202178560;
  std::shared_ptr<HomeWorld>::shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64), 0LL);
  std::shared_ptr<Home>::shared_ptr((std::shared_ptr<Home> *const)(v3 + 96), 0LL);
  *(_DWORD *)(v3 + 32) = PlayerHomeHandler::changeHomeCommonCheck(this, (HomeWorldPtr *)(v3 + 64), (HomePtr *)(v3 + 96));
  if ( *(_DWORD *)(v3 + 32)
    || std::operator==<HomeWorld>((const std::shared_ptr<HomeWorld> *)(v3 + 64), 0LL)
    || std::operator==<Home>((const std::shared_ptr<Home> *)(v3 + 96), 0LL) )
  {
    common::milog::MiLogStream::create(
      &v23,
      &common::milog::MiLogDefault::default_log_obj_,
      1u,
      "./src/handler/player_home_handler.cpp",
      "onHomeSaveArrangementNoChangeReq",
      3531);
    v7 = common::milog::MiLogStream::operator<<<char [35],(char *[35])0>(
           &v23,
           (const char (*)[35])"changeHomeCommonCheck failed. ret:");
    common::milog::MiLogStream::operator<<<int,(int *)0>(v7, (const int *)(v3 + 32));
    common::milog::MiLogStream::~MiLogStream(&v23);
    if ( *(_DWORD *)(v3 + 32) )
      v8 = *(_DWORD *)(v3 + 32);
    else
      v8 = -1;
  }
  else
  {
    v9 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
    BasicComp = Home::getBasicComp(v9);
    if ( !HomeBasicComp::getIsInEditMode(BasicComp) )
    {
      common::milog::MiLogStream::create(
        &v23,
        &common::milog::MiLogDefault::default_log_obj_,
        1u,
        "./src/handler/player_home_handler.cpp",
        "onHomeSaveArrangementNoChangeReq",
        3537);
      common::milog::MiLogStream::operator<<<char [28],(char *[28])0>(
        &v23,
        (const char (*)[28])"home_world not in edit mode");
      common::milog::MiLogStream::~MiLogStream(&v23);
      v8 = 9709;
    }
    else
    {
      v11 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
      if ( Home::isInUpdateArrangementCD(v11) )
      {
        v8 = 9732;
      }
      else
      {
        *(_DWORD *)(v3 + 48) = proto::HomeSaveArrangementNoChangeReq::scene_id(req);
        v12 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
        v13 = Home::getBasicComp(v12);
        if ( HomeBasicComp::getEditSceneId(v13) == *(_DWORD *)(v3 + 48) )
        {
          v19 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          Home::updateArrangementCD(v19);
          if ( *(_BYTE *)(((unsigned __int64)&this->player_ >> 3) + 0x7FFF8000) )
            __asan_report_load8();
          HomeComp = Player::getHomeComp(this->player_);
          PlayerHomeComp::updateLastSaveTime(HomeComp);
          v8 = 0;
        }
        else
        {
          common::milog::MiLogStream::create(
            &v23,
            &common::milog::MiLogDefault::default_log_obj_,
            1u,
            "./src/handler/player_home_handler.cpp",
            "onHomeSaveArrangementNoChangeReq",
            3548);
          v14 = common::milog::MiLogStream::operator<<<char [14],(char *[14])0>(
                  &v23,
                  (const char (*)[14])"req_scene_id:");
          v15 = common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(
                  v14,
                  (const unsigned int *)(v3 + 48));
          v16 = common::milog::MiLogStream::operator<<<char [28],(char *[28])0>(
                  v15,
                  (const char (*)[28])" not equal to edit_scene_id");
          v17 = std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false>::operator->((const std::__shared_ptr_access<Home,(__gnu_cxx::_Lock_policy)2,false,false> *const)(v3 + 96));
          v18 = Home::getBasicComp(v17);
          val = HomeBasicComp::getEditSceneId(v18);
          common::milog::MiLogStream::operator<<<unsigned int,(unsigned int *)0>(v16, &val);
          common::milog::MiLogStream::~MiLogStream(&v23);
          v8 = 9702;
        }
      }
    }
  }
  std::shared_ptr<Home>::~shared_ptr((std::shared_ptr<Home> *const)(v3 + 96));
  std::shared_ptr<HomeWorld>::~shared_ptr((std::shared_ptr<HomeWorld> *const)(v3 + 64));
  result = v8;
  if ( v24 == (char *)v3 )
  {
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0LL;
  }
  else
  {
    *(_QWORD *)v3 = 1172321806LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8000) = 0xF5F5F5F5F5F5F5F5LL;
    *(_QWORD *)((v3 >> 3) + 0x7FFF8008) = 0xF5F5F5F5F5F5F5F5LL;
  }
  return result;
};
